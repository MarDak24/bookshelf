let e,t,i,n,r,s;function a(e){return e&&e.__esModule?e.default:e}var o,l,c,u,h,d,f,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},m={},g={},y=p.parcelRequire7d2c;function v(e,t){var i=function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return i.get?i.get.call(e):i.value}function b(e,t,i){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}null==y&&((y=function(e){if(e in m)return m[e].exports;if(e in g){var t=g[e];delete g[e];var i={id:e,exports:{}};return m[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){g[e]=t},p.parcelRequire7d2c=y);var w=new WeakMap,x=new WeakMap;class k{async getBookCategories(){let e=await fetch(`${v(this,w)}${v(this,x).categoryList}`);if(!e.ok)throw Error();return e.json()}async getTopBooks(){let e=await fetch(`${v(this,w)}${v(this,x).topBooks}`);if(!e.ok)throw Error();return e.json()}async getBooksByCategory(e){let t=await fetch(`${v(this,w)}${v(this,x).category}?category=${e}`);if(!t.ok)throw Error();return t.json()}async getBookInfo(e){let t=await fetch(`${v(this,w)}${v(this,x).bookInfo(e)}`);if(!t.ok)throw Error();return t.json()}constructor(){b(this,w,{writable:!0,value:"https://books-backend.p.goit.global"}),b(this,x,{writable:!0,value:{categoryList:"/books/category-list",topBooks:"/books/top-books",category:"/books/category",bookInfo:e=>`/books/${e}`}}),this.page=1}}class E{handleBook(e){this.isBookAlreadyInShoppingList?(this.currentShoppingListItems.splice(this.index,1),this.index=-1,this.isBookAlreadyInShoppingList=!1,this.notification.remove()):(this.index=this.currentShoppingListItems.length,this.currentShoppingListItems.push(this.book),this.isBookAlreadyInShoppingList=!0,this.linkToBtn.insertAdjacentElement("afterend",this.notification)),localStorage.setItem("shoppingList",JSON.stringify(this.currentShoppingListItems)),this.linkToBtn.textContent=(this.isBookAlreadyInShoppingList?"Remove from the ":"Add to ")+"Shopping List",this.linkToBtn.setAttribute("data-action",this.isBookAlreadyInShoppingList?"toAdd":"toRemove")}constructor(e,t){this.book=e,this.currentShoppingListItems=localStorage.getItem("shoppingList"),null==this.currentShoppingListItems?this.currentShoppingListItems=[]:this.currentShoppingListItems=JSON.parse(this.currentShoppingListItems),this.index=this.currentShoppingListItems.findIndex(t=>t._id==e._id),this.isBookAlreadyInShoppingList=this.index>-1,this.linkToBtn=t,this.linkToBtn.textContent=(this.isBookAlreadyInShoppingList?"Remove from the ":"Add to ")+"Shopping List",this.linkToBtn.setAttribute("data-action",this.isBookAlreadyInShoppingList?"toAdd":"toRemove"),this.notification=document.createElement("div"),this.notification.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",this.notification.className="notification",this.isBookAlreadyInShoppingList&&t.insertAdjacentElement("afterend",this.notification)}}const T={btnLogOut:document.querySelectorAll(".js-logOut"),btnLogOutTablDesk:document.querySelector(".js-logOut-tabl-desk"),btnLogOutMob:document.querySelector(".js-logOut-mob"),btnOpenLogInModal:document.querySelectorAll(".button-log"),greeting:document.querySelector(".js-greeting"),greetingMob:document.querySelector(".js-greeting-mob"),user:document.querySelectorAll(".user-login-wrapper"),iconDown:document.querySelector(".icon-down-user"),userIcon:document.querySelectorAll(".icon-user-login"),btnLog:document.querySelectorAll(".button-log"),btnUser:document.querySelector(".button-user"),userName:document.querySelectorAll(".userName"),closeBtn:{},switchModalBtns:{},form:{},modalForm:{},shoppingListLink:document.querySelector("[data-is-auth]")};var S={};!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof S?S=t(e):e.Notiflix=t(e)}(void 0!==p?p:"undefined"!=typeof window?window:S,function(e){"use strict";if(void 0===e&&void 0===e.document)return!1;var t,i={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},n={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},r=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+"\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation")},s=function(t){return t||(t="head"),null!==e.document[t]||(r('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},a=function(t,i){if(!s("head"))return!1;if(null!==t()&&!e.document.getElementById(i)){var n=e.document.createElement("style");n.id=i,n.innerHTML=t(),e.document.head.appendChild(n)}},o=function(){var e={},t=!1,i=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);i<arguments.length;i++)!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=o(e[n],i[n]):e[n]=i[n])}(arguments[i]);return e},l=function(t){var i=e.document.createElement("div");return i.innerHTML=t,i.textContent||i.innerText||""},c=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},u=0,h=function(r,a,c,h){if(!s("body"))return!1;t||d.Notify.init({});var f=o(!0,t,{});if("object"==typeof c&&!Array.isArray(c)||"object"==typeof h&&!Array.isArray(h)){var p={};"object"==typeof c?p=c:"object"==typeof h&&(p=h),t=o(!0,t,p)}var m=t[r.toLocaleLowerCase("en")];u++,"string"!=typeof a&&(a="Notiflix "+r),t.plainText&&(a=l(a)),!t.plainText&&a.length>t.messageMaxLength&&(t=o(!0,t,{closeButton:!0,messageMaxLength:150}),a='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),a.length>t.messageMaxLength&&(a=a.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(m.fontAwesomeIconColor=m.background),t.cssAnimation||(t.cssAnimationDuration=0);var g=e.document.getElementById(n.wrapID)||e.document.createElement("div");if(g.id=n.wrapID,g.style.width=t.width,g.style.zIndex=t.zindex,g.style.opacity=t.opacity,"center-center"===t.position?(g.style.left=t.distance,g.style.top=t.distance,g.style.right=t.distance,g.style.bottom=t.distance,g.style.margin="auto",g.classList.add("nx-flex-center-center"),g.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",g.style.display="flex",g.style.flexWrap="wrap",g.style.flexDirection="column",g.style.justifyContent="center",g.style.alignItems="center",g.style.pointerEvents="none"):"center-top"===t.position?(g.style.left=t.distance,g.style.right=t.distance,g.style.top=t.distance,g.style.bottom="auto",g.style.margin="auto"):"center-bottom"===t.position?(g.style.left=t.distance,g.style.right=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.margin="auto"):"right-bottom"===t.position?(g.style.right=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.left="auto"):"left-top"===t.position?(g.style.left=t.distance,g.style.top=t.distance,g.style.right="auto",g.style.bottom="auto"):"left-bottom"===t.position?(g.style.left=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.right="auto"):(g.style.right=t.distance,g.style.top=t.distance,g.style.left="auto",g.style.bottom="auto"),t.backOverlay){var y=e.document.getElementById(n.overlayID)||e.document.createElement("div");y.id=n.overlayID,y.style.width="100%",y.style.height="100%",y.style.position="fixed",y.style.zIndex=t.zindex-1,y.style.left=0,y.style.top=0,y.style.right=0,y.style.bottom=0,y.style.background=m.backOverlayColor||t.backOverlayColor,y.className=t.cssAnimation?"nx-with-animation":"",y.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(n.overlayID)||e.document.body.appendChild(y)}e.document.getElementById(n.wrapID)||e.document.body.appendChild(g);var v=e.document.createElement("div");v.id=t.ID+"-"+u,v.className=t.className+" "+m.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof c?"nx-with-close-button":"")+" "+("function"==typeof c?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),v.style.fontSize=t.fontSize,v.style.color=m.textColor,v.style.background=m.background,v.style.borderRadius=t.borderRadius,v.style.pointerEvents="all",t.rtl&&(v.setAttribute("dir","rtl"),v.classList.add("nx-rtl-on")),v.style.fontFamily='"'+t.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',t.cssAnimation&&(v.style.animationDuration=t.cssAnimationDuration+"ms");var b="";if(t.closeButton&&"function"!=typeof c&&(b='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+m.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon){if(t.useFontAwesome)v.innerHTML='<i style="color:'+m.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+m.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+a+"</span>"+(t.closeButton?b:"");else{var w="";r===i.Success?w='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':r===i.Failure?w='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':r===i.Warning?w='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':r===i.Info&&(w='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),v.innerHTML=w+'<span class="nx-message nx-with-icon">'+a+"</span>"+(t.closeButton?b:"")}}else v.innerHTML='<span class="nx-message">'+a+"</span>"+(t.closeButton?b:"");if("left-bottom"===t.position||"right-bottom"===t.position){var x=e.document.getElementById(n.wrapID);x.insertBefore(v,x.firstChild)}else e.document.getElementById(n.wrapID).appendChild(v);var k=e.document.getElementById(v.id);if(k){var E,T,S=function(){k.classList.add("nx-remove");var t=e.document.getElementById(n.overlayID);t&&g.childElementCount<=0&&t.classList.add("nx-remove"),clearTimeout(E)},I=function(){if(k&&null!==k.parentNode&&k.parentNode.removeChild(k),g.childElementCount<=0&&null!==g.parentNode){g.parentNode.removeChild(g);var t=e.document.getElementById(n.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(T)};if(t.closeButton&&"function"!=typeof c&&e.document.getElementById(v.id).querySelector("span.nx-close-button").addEventListener("click",function(){S();var e=setTimeout(function(){I(),clearTimeout(e)},t.cssAnimationDuration)}),("function"==typeof c||t.clickToClose)&&k.addEventListener("click",function(){"function"==typeof c&&c(),S();var e=setTimeout(function(){I(),clearTimeout(e)},t.cssAnimationDuration)}),!t.closeButton&&"function"!=typeof c){var C=function(){E=setTimeout(function(){S()},t.timeout),T=setTimeout(function(){I()},t.timeout+t.cssAnimationDuration)};C(),t.pauseOnHover&&(k.addEventListener("mouseenter",function(){k.classList.add("nx-paused"),clearTimeout(E),clearTimeout(T)}),k.addEventListener("mouseleave",function(){k.classList.remove("nx-paused"),C()}))}}if(t.showOnlyTheLastOne&&u>0)for(var _=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+u+"])"),N=0;N<_.length;N++){var L=_[N];null!==L.parentNode&&L.parentNode.removeChild(L)}t=o(!0,t,f)},d={Notify:{init:function(e){t=o(!0,n,e),a(c,"NotiflixNotifyInternalCSS")},merge:function(e){if(!t)return r("You have to initialize the Notify module before call Merge function."),!1;t=o(!0,t,e)},success:function(e,t,n){h(i.Success,e,t,n)},failure:function(e,t,n){h(i.Failure,e,t,n)},warning:function(e,t,n){h(i.Warning,e,t,n)},info:function(e,t,n){h(i.Info,e,t,n)}}};return"object"==typeof e.Notiflix?o(!0,e.Notiflix,{Notify:d.Notify}):{Notify:d.Notify}});var I={},C=I={};function _(){throw Error("setTimeout has not been defined")}function N(){throw Error("clearTimeout has not been defined")}function L(e){if(n_===setTimeout)return setTimeout(e,0);if((n_===_||!n_)&&setTimeout)return n_=setTimeout,setTimeout(e,0);try{return n_(e,0)}catch(t){try{return n_.call(null,e,0)}catch(t){return n_.call(this,e,0)}}}!function(){try{n_="function"==typeof setTimeout?setTimeout:_}catch(e){n_=_}try{nN="function"==typeof clearTimeout?clearTimeout:N}catch(e){nN=N}}();var A=[],M=!1,R=-1;function D(){M&&nL&&(M=!1,nL.length?A=nL.concat(A):R=-1,A.length&&O())}function O(){if(!M){var e=L(D);M=!0;for(var t=A.length;t;){for(nL=A,A=[];++R<t;)nL&&nL[R].run();R=-1,t=A.length}nL=null,M=!1,function(e){if(nN===clearTimeout)return clearTimeout(e);if((nN===N||!nN)&&clearTimeout)return nN=clearTimeout,clearTimeout(e);try{nN(e)}catch(t){try{return nN.call(null,e)}catch(t){return nN.call(this,e)}}}(e)}}function P(e,t){this.fun=e,this.array=t}function F(){}C.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];A.push(new P(e,t)),1!==A.length||M||L(O)},P.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=F,C.addListener=F,C.once=F,C.off=F,C.removeListener=F,C.removeAllListeners=F,C.emit=F,C.prependListener=F,C.prependOnceListener=F,C.listeners=function(e){return[]},C.binding=function(e){throw Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(e){throw Error("process.chdir is not supported")},C.umask=function(){return 0};const z=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:((64512&r)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[i++]=r>>18|240,t[i++]=r>>12&63|128):t[i++]=r>>12|224,t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},U=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[i++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=e[i++],a=e[i++],o=e[i++],l=((7&r)<<18|(63&s)<<12|(63&a)<<6|63&o)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(1023&l))}else{let s=e[i++],a=e[i++];t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=r>>2,u=(3&r)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),n.push(i[c],i[u],i[h],i[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(z(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):U(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let r=i[e.charAt(t++)],s=t<e.length,a=s?i[e.charAt(t)]:0;++t;let o=t<e.length,l=o?i[e.charAt(t)]:64;++t;let c=t<e.length,u=c?i[e.charAt(t)]:64;if(++t,null==r||null==a||null==l||null==u)throw Error();let h=r<<2|a>>4;if(n.push(h),64!==l){let e=a<<4&240|l>>2;if(n.push(e),64!==u){let e=l<<6&192|u;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},V=function(e){let t=z(e);return B.encodeByteArray(t,!0)},j=function(e){return V(e).replace(/\./g,"")},W=function(e){try{return B.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}const H=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==p)return p;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,$=()=>{if(void 0===I||void 0===I.env)return;let e=void 0;if(e)return JSON.parse(e)},G=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&W(e[1]);return t&&JSON.parse(t)},X=()=>{try{return H()||$()||G()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},K=e=>{var t,i;return null===(i=null===(t=X())||void 0===t?void 0:t.emulatorHosts)||void 0===i?void 0:i[e]},Q=e=>{let t=K(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return"["===t[0]?[t.substring(1,i-1),n]:[t.substring(0,i),n]},Y=()=>{var e;return null===(e=X())||void 0===e?void 0:e.config},J=e=>{var t;return null===(t=X())||void 0===t?void 0:t[`_${e}`]};class Z{wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ee extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{create(e,...t){let i=t[0]||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?r.replace(ei,(e,t)=>{let n=i[t];return null!=n?String(n):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${n}).`,o=new ee(n,a,i);return o}constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}}const ei=/\{\$([^}]+)}/g;function en(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let i=e[r],s=t[r];if(er(i)&&er(s)){if(!en(i,s))return!1}else if(i!==s)return!1}for(let e of n)if(!i.includes(e))return!1;return!0}function er(e){return null!==e&&"object"==typeof e}function es(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ea(e){let t={},i=e.replace(/^\?/,"").split("&");return i.forEach(e=>{if(e){let[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}}),t}function eo(e){let t=e.indexOf("?");if(!t)return"";let i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}class el{next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:i}:e).next&&(n.next=ec),void 0===n.error&&(n.error=ec),void 0===n.complete&&(n.complete=ec);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}}function ec(){}function eu(e){return e&&e._delegate?e._delegate:e}class eh{setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}}const ed="[DEFAULT]";class ef{get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new Z;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ed})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=ed){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ed){return this.instances.has(e)}getOptions(e=ed){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);i===r&&t.resolve(n)}return n}onInit(e,t){var i;let n=this.normalizeInstanceIdentifier(t),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);let s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let n of i)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===ed?void 0:e,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}return i||null}normalizeInstanceIdentifier(e=ed){return this.component?this.component.multipleInstances?e:ed:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}}class ep{addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ef(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}constructor(e){this.name=e,this.providers=new Map}}const em=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nA||(nA={}));const eg={debug:nA.DEBUG,verbose:nA.VERBOSE,info:nA.INFO,warn:nA.WARN,error:nA.ERROR,silent:nA.SILENT},ey=nA.INFO,ev={[nA.DEBUG]:"log",[nA.VERBOSE]:"log",[nA.INFO]:"info",[nA.WARN]:"warn",[nA.ERROR]:"error"},eb=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=ev[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ew{get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nA))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nA.DEBUG,...e),this._logHandler(this,nA.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nA.VERBOSE,...e),this._logHandler(this,nA.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nA.INFO,...e),this._logHandler(this,nA.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nA.WARN,...e),this._logHandler(this,nA.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nA.ERROR,...e),this._logHandler(this,nA.ERROR,...e)}constructor(e){this.name=e,this._logLevel=ey,this._logHandler=eb,this._userLogHandler=null,em.push(this)}}const ex=(e,t)=>t.some(t=>e instanceof t),ek=new WeakMap,eE=new WeakMap,eT=new WeakMap,eS=new WeakMap,eI=new WeakMap;let eC={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return eE.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eT.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return e_(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function e_(i){var n;if(i instanceof IDBRequest)return function(e){let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(e_(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ek.set(t,e)}).catch(()=>{}),eI.set(t,e),t}(i);if(eS.has(i))return eS.get(i);let r="function"==typeof(n=i)?n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(eN(this),e),e_(ek.get(this))}:function(...e){return e_(n.apply(eN(this),e))}:function(e,...t){let i=n.call(eN(this),e,...t);return eT.set(i,e.sort?e.sort():[e]),e_(i)}:(n instanceof IDBTransaction&&function(e){if(eE.has(e))return;let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});eE.set(e,t)}(n),ex(n,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(n,eC):n;return r!==i&&(eS.set(i,r),eI.set(r,i)),r}const eN=e=>eI.get(e),eL=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],eM=new Map;function eR(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eM.get(t))return eM.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=eA.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||eL.includes(i)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),a=s.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),r&&s.done]))[0]};return eM.set(t,s),s}eC={...nC=eC,get:(e,t,i)=>eR(e,t)||nC.get(e,t,i),has:(e,t)=>!!eR(e,t)||nC.has(e,t)};class eD{getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}constructor(e){this.container=e}}const eO="@firebase/app",eP="0.8.4",eF=new ew("@firebase/app"),ez="[DEFAULT]",eU={[eO]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},eB=new Map,eV=new Map;function ej(e){let t=e.name;if(eV.has(t))return eF.debug(`There were multiple attempts to register component ${t}.`),!1;for(let i of(eV.set(t,e),eB.values()))!function(e,t){try{e.container.addComponent(t)}catch(i){eF.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}(i,e);return!0}function eW(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}const eq=new et("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class eH{get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eq.create("app-deleted",{appName:this._name})}constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eh("app",()=>this,"PUBLIC"))}}const e$="9.14.0";function eG(e,t={}){let i=e;if("object"!=typeof t){let e=t;t={name:e}}let n=Object.assign({name:ez,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw eq.create("bad-app-name",{appName:String(r)});if(i||(i=Y()),!i)throw eq.create("no-options");let s=eB.get(r);if(s){if(en(i,s.options)&&en(n,s.config))return s;throw eq.create("duplicate-app",{appName:r})}let a=new ep(r);for(let e of eV.values())a.addComponent(e);let o=new eH(i,n,a);return eB.set(r,o),o}function eX(e=ez){let t=eB.get(e);if(!t&&e===ez)return eG();if(!t)throw eq.create("no-app",{appName:e});return t}function eK(e,t,i){var n;let r=null!==(n=eU[e])&&void 0!==n?n:e;i&&(r+=`-${i}`);let s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${r}" with version "${t}":`];s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eF.warn(e.join(" "));return}ej(new eh(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const eQ="firebase-heartbeat-store";let eY=null;function eJ(){return eY||(eY=(function(e,t,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){let a=indexedDB.open(e,1),o=e_(a);return n&&a.addEventListener("upgradeneeded",e=>{n(e_(a.result),e.oldVersion,e.newVersion,e_(a.transaction))}),i&&a.addEventListener("blocked",()=>i()),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",()=>r())}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(eQ)}}).catch(e=>{throw eq.create("idb-open",{originalErrorMessage:e.message})})),eY}async function eZ(e){try{let t=await eJ();return t.transaction(eQ).objectStore(eQ).get(e1(e))}catch(e){if(e instanceof ee)eF.warn(e.message);else{let t=eq.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});eF.warn(t.message)}}}async function e0(e,t){try{let i=await eJ(),n=i.transaction(eQ,"readwrite"),r=n.objectStore(eQ);return await r.put(t,e1(e)),n.done}catch(e){if(e instanceof ee)eF.warn(e.message);else{let t=eq.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});eF.warn(t.message)}}}function e1(e){return`${e.name}!${e.options.appId}`}class e2{async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),i=e5();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),i=Date.now();return i-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=e5(),{heartbeatsToSend:t,unsentEntries:i}=function(e,t=1024){let i=[],n=e.slice();for(let r of e){let e=i.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),e3(i)>t){e.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),e3(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=j(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new e6(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}}function e5(){let e=new Date;return e.toISOString().substring(0,10)}class e6{async runIndexedDBEnvironmentCheck(){return"object"==typeof indexedDB&&new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await eZ(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return e0(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return e0(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}}function e3(e){return j(JSON.stringify({version:2,heartbeats:e})).length}ej(new eh("platform-logger",e=>new eD(e),"PRIVATE")),ej(new eh("heartbeat",e=>new e2(e),"PRIVATE")),eK(eO,eP,""),eK(eO,eP,"esm2017"),eK("fire-js",""),eK("firebase","9.14.0","app");function e9(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function e4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e8=new et("auth","Firebase",e4()),e7=new ew("@firebase/auth");function te(e,...t){e7.logLevel<=nA.ERROR&&e7.error(`Auth (${e$}): ${e}`,...t)}function tt(e,...t){throw tn(e,...t)}function ti(e,...t){return tn(e,...t)}function tn(e,...t){if("string"!=typeof e){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return e8.create(e,...t)}function tr(e,t,...i){if(!e)throw tn(t,...i)}function ts(e){let t="INTERNAL ASSERTION FAILED: "+e;throw te(t),Error(t)}const ta=new Map;function to(e){e instanceof Function||ts("Expected a class definition");let t=ta.get(e);return t?t instanceof e||ts("Instance stored in cache mismatched with class"):(t=new e,ta.set(e,t)),t}function tl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tc(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class tu{get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===tc()||"https:"===tc()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||ts("Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())||"object"==typeof navigator&&"ReactNative"===navigator.product}}function th(e,t){e.emulator||ts("Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class td{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tp=new tu(3e4,6e4);function tm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function tg(e,t,i,n,r={}){return ty(e,r,async()=>{let r={},s={};n&&("GET"===t?s=n:r={body:JSON.stringify(n)});let a=es(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),td.fetch()(tb(e,e.config.apiHost,i,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},r))})}async function ty(e,t,i){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},tf),t);try{let t=new tw(e),r=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();let s=await r.json();if("needConfirmation"in s)throw tx(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{let t=r.ok?s.errorMessage:s.error.message,[i,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw tx(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw tx(e,"email-already-in-use",s);if("USER_DISABLED"===i)throw tx(e,"user-disabled",s);let o=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,i){let n=Object.assign(Object.assign({},e4()),{[t]:i}),r=new et("auth","Firebase",n);return r.create(t,{appName:e.name})}(e,o,a);tt(e,o)}}catch(t){if(t instanceof ee)throw t;tt(e,"network-request-failed")}}async function tv(e,t,i,n,r={}){let s=await tg(e,t,i,n,r);return"mfaPendingCredential"in s&&tt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function tb(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?th(e.config,r):`${e.config.apiScheme}://${r}`}class tw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ti(this.auth,"network-request-failed")),tp.get())})}}function tx(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=ti(e,t,n);return r.customData._tokenResponse=i,r}async function tk(e,t){return tg(e,"POST","/v1/accounts:delete",t)}async function tE(e,t){return tg(e,"POST","/v1/accounts:lookup",t)}function tT(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function tS(e,t=!1){let i=eu(e),n=await i.getIdToken(t),r=tC(n);tr(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s="object"==typeof r.firebase?r.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:tT(tI(r.auth_time)),issuedAtTime:tT(tI(r.iat)),expirationTime:tT(tI(r.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function tI(e){return 1e3*Number(e)}function tC(e){let[t,i,n]=e.split(".");if(void 0===t||void 0===i||void 0===n)return te("JWT malformed, contained fewer than 3 sections"),null;try{let e=W(i);if(!e)return te("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return te("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function t_(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof ee&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class tN{_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,i=e-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}}class tL{_initializeTime(){this.lastSignInTime=tT(this.lastLoginAt),this.creationTime=tT(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}}async function tA(e){var t;let i=e.auth,n=await e.getIdToken(),r=await t_(e,tE(i,{idToken:n}));tr(null==r?void 0:r.users.length,i,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,i=e9(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}}):[],o=function(e,t){let i=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...i,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tL(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&c};Object.assign(e,u)}async function tM(e){let t=eu(e);await tA(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function tR(e,t){let i=await ty(e,{},async()=>{let i=es({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:r}=e.config,s=tb(e,n,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",td.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}class tD{get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tr(e.idToken,"internal-error"),tr(void 0!==e.idToken,"internal-error"),tr(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=tC(e);return tr(t,"internal-error"),tr(void 0!==t.exp,"internal-error"),tr(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(tr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:n,expiresIn:r}=await tR(e,t);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){let{refreshToken:i,accessToken:n,expirationTime:r}=t,s=new tD;return i&&(tr("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(tr("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),r&&(tr("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tD,this.toJSON())}_performRefresh(){return ts("not implemented")}constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}}function tO(e,t){tr("string"==typeof e||void 0===e,"internal-error",{appName:t})}class tP{async getIdToken(e){let t=await t_(this,this.stsTokenManager.getToken(this.auth,e));return tr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tS(this,e)}reload(){return tM(this)}_assign(e){this!==e&&(tr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new tP(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){tr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await tA(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await t_(this,tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,r,s,a,o,l,c;let u=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;tr(v&&k,e,"internal-error");let E=tD.fromJSON(this.name,k);tr("string"==typeof v,e,"internal-error"),tO(u,e.name),tO(h,e.name),tr("boolean"==typeof b,e,"internal-error"),tr("boolean"==typeof w,e,"internal-error"),tO(d,e.name),tO(f,e.name),tO(p,e.name),tO(m,e.name),tO(g,e.name),tO(y,e.name);let T=new tP({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(T.providerData=x.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,i=!1){let n=new tD;n.updateFromServerResponse(t);let r=new tP({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await tA(r),r}constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,r=e9(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new tL(r.createdAt||void 0,r.lastLoginAt||void 0)}}class tF{async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}constructor(){this.type="NONE",this.storage={}}}function tz(e,t,i){return`firebase:${e}:${t}:${i}`}tF.type="NONE";class tU{setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?tP._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new tU(to(tF),e,i);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),r=n[0]||to(tF),s=tz(i,e.config.apiKey,e.name),a=null;for(let i of t)try{let t=await i._get(s);if(t){let n=tP._fromJSON(e,t);i!==r&&(a=n),r=i;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length&&(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new tU(r,e,i)}constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:n,name:r}=this.auth;this.fullUserKey=tz(this.userKey,n.apiKey,r),this.fullPersistenceKey=tz("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}}function tB(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(tq(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t$(t))return"Blackberry";if(tG(t))return"Webos";if(tj(t))return"Safari";if((t.includes("chrome/")||tW(t))&&!t.includes("edge/"))return"Chrome";if(tH(t))return"Android";let i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function tV(e=q()){return/firefox\//i.test(e)}function tj(e=q()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tW(e=q()){return/crios\//i.test(e)}function tq(e=q()){return/iemobile/i.test(e)}function tH(e=q()){return/android/i.test(e)}function t$(e=q()){return/blackberry/i.test(e)}function tG(e=q()){return/webos/i.test(e)}function tX(e=q()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tK(e=q()){return tX(e)||tH(e)||tG(e)||t$(e)||/windows phone/i.test(e)||tq(e)}function tQ(e,t=[]){let i;switch(e){case"Browser":i=tB(q());break;case"Worker":i=`${tB(q())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${e$}/${n}`}class tY{pushCallback(e,t){let i=t=>new Promise((i,n)=>{try{let n=e(t);i(n)}catch(e){n(e)}});i.onAbort=t,this.queue.push(i);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}constructor(e){this.auth=e,this.queue=[]}}class tJ{_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await tU.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let i=await this.assertedPersistence.getCurrentUser(),n=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===s)&&(null==a?void 0:a.user)&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(tr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tA(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?eu(e):null;return t&&tr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&tr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new et("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&to(e)||this._popupRedirectResolver;tr(t,this,"argument-error"),this.redirectPersistenceManager=await tU.create(this,[to(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};let r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(tr(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof t)?e.addObserver(t,i,n):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return i&&(t["X-Firebase-Client"]=i),t}constructor(e,t,i){this.app=e,this.heartbeatServiceProvider=t,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tZ(this),this.idTokenSubscription=new tZ(this),this.beforeStateQueue=new tY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e8,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}}class tZ{get next(){return tr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let i=new el(e,void 0);return i.subscribe.bind(i)}(e=>this.observer=e)}}function t0(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function t1(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class t2{toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}constructor(e,t){this.providerId=e,this.signInMethod=t}}async function t5(e,t){return tg(e,"POST","/v1/accounts:update",t)}async function t6(e,t){return tv(e,"POST","/v1/accounts:signInWithPassword",tm(e,t))}async function t3(e,t){return tv(e,"POST","/v1/accounts:signInWithEmailLink",tm(e,t))}async function t9(e,t){return tv(e,"POST","/v1/accounts:signInWithEmailLink",tm(e,t))}class t4 extends t2{static _fromEmailAndPassword(e,t){return new t4(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new t4(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return t6(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return t3(e,{email:this._email,oobCode:this._password});default:tt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return t5(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return t9(e,{idToken:t,email:this._email,oobCode:this._password});default:tt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}constructor(e,t,i,n=null){super("password",i),this._email=e,this._password=t,this._tenantId=n}}async function t8(e,t){return tv(e,"POST","/v1/accounts:signInWithIdp",tm(e,t))}class t7 extends t2{static _fromParams(e){let t=new t7(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,r=e9(t,["providerId","signInMethod"]);if(!i||!n)return null;let s=new t7(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return t8(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,t8(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,t8(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=es(t)}return e}constructor(){super(...arguments),this.pendingToken=null}}async function ie(e,t){return tg(e,"POST","/v1/accounts:sendVerificationCode",tm(e,t))}async function it(e,t){return tv(e,"POST","/v1/accounts:signInWithPhoneNumber",tm(e,t))}async function ii(e,t){let i=await tv(e,"POST","/v1/accounts:signInWithPhoneNumber",tm(e,t));if(i.temporaryProof)throw tx(e,"account-exists-with-different-credential",i);return i}const ir={USER_NOT_FOUND:"user-not-found"};async function is(e,t){let i=Object.assign(Object.assign({},t),{operation:"REAUTH"});return tv(e,"POST","/v1/accounts:signInWithPhoneNumber",tm(e,i),ir)}class ia extends t2{static _fromVerification(e,t){return new ia({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ia({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return it(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ii(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return is(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}=e;return i||t||n||r?new ia({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}constructor(e){super("phone","phone"),this.params=e}}class io{static parseLink(e){let t=function(e){let t=ea(eo(e)).link,i=t?ea(eo(t)).deep_link_id:null,n=ea(eo(e)).deep_link_id,r=n?ea(eo(n)).link:null;return r||n||i||t||e}(e);try{return new io(t)}catch(e){return null}}constructor(e){var t,i,n,r,s,a;let o=ea(eo(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(i=o.oobCode)&&void 0!==i?i:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=o.mode)&&void 0!==n?n:null);tr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}}class il{static credential(e,t){return t4._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=io.parseLink(t);return tr(i,"argument-error"),t4._fromEmailAndCode(e,i.code,i.tenantId)}constructor(){this.providerId=il.PROVIDER_ID}}il.PROVIDER_ID="password",il.EMAIL_PASSWORD_SIGN_IN_METHOD="password",il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ic{setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}}class iu extends ic{addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}constructor(){super(...arguments),this.scopes=[]}}class ih extends iu{static credential(e){return t7._fromParams({providerId:ih.PROVIDER_ID,signInMethod:ih.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ih.credentialFromTaggedObject(e)}static credentialFromError(e){return ih.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ih.credential(e.oauthAccessToken)}catch(e){return null}}constructor(){super("facebook.com")}}ih.FACEBOOK_SIGN_IN_METHOD="facebook.com",ih.PROVIDER_ID="facebook.com";class id extends iu{static credential(e,t){return t7._fromParams({providerId:id.PROVIDER_ID,signInMethod:id.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return id.credentialFromTaggedObject(e)}static credentialFromError(e){return id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return id.credential(t,i)}catch(e){return null}}constructor(){super("google.com"),this.addScope("profile")}}id.GOOGLE_SIGN_IN_METHOD="google.com",id.PROVIDER_ID="google.com";class ip extends iu{static credential(e){return t7._fromParams({providerId:ip.PROVIDER_ID,signInMethod:ip.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ip.credentialFromTaggedObject(e)}static credentialFromError(e){return ip.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ip.credential(e.oauthAccessToken)}catch(e){return null}}constructor(){super("github.com")}}ip.GITHUB_SIGN_IN_METHOD="github.com",ip.PROVIDER_ID="github.com";class im extends iu{static credential(e,t){return t7._fromParams({providerId:im.PROVIDER_ID,signInMethod:im.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return im.credentialFromTaggedObject(e)}static credentialFromError(e){return im.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return im.credential(t,i)}catch(e){return null}}constructor(){super("twitter.com")}}async function ig(e,t){return tv(e,"POST","/v1/accounts:signUp",tm(e,t))}im.TWITTER_SIGN_IN_METHOD="twitter.com",im.PROVIDER_ID="twitter.com";class iy{static async _fromIdTokenResponse(e,t,i,n=!1){let r=await tP._fromIdTokenResponse(e,i,n),s=iv(i),a=new iy({user:r,providerId:s,_tokenResponse:i,operationType:t});return a}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let n=iv(i);return new iy({user:e,providerId:n,_tokenResponse:i,operationType:t})}constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}}function iv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ib extends ee{static _fromErrorAndOperation(e,t,i,n){return new ib(e,t,i,n)}constructor(e,t,i,n){var r;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,ib.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}}function iw(e,t,i,n){let r="reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e);return r.catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw ib._fromErrorAndOperation(e,i,t,n);throw i})}async function ix(e,t,i=!1){let n=await t_(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return iy._forOperation(e,"link",n)}async function ik(e,t,i=!1){let{auth:n}=e,r="reauthenticate";try{let s=await t_(e,iw(n,r,t,e),i);tr(s.idToken,n,"internal-error");let a=tC(s.idToken);tr(a,n,"internal-error");let{sub:o}=a;return tr(e.uid===o,n,"user-mismatch"),iy._forOperation(e,r,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&tt(n,"user-mismatch"),e}}async function iE(e,t,i=!1){let n="signIn",r=await iw(e,n,t),s=await iy._fromIdTokenResponse(e,n,r);return i||await e._updateCurrentUser(s.user),s}async function iT(e,t){return iE(eu(e),t)}async function iS(e,t,i){let n=eu(e),r=await ig(n,{returnSecureToken:!0,email:t,password:i}),s=await iy._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}async function iI(e,t){return tg(e,"POST","/v1/accounts:update",t)}async function iC(e,{displayName:t,photoURL:i}){if(void 0===t&&void 0===i)return;let n=eu(e),r=await n.getIdToken(),s=await t_(n,iI(n.auth,{idToken:r,displayName:t,photoUrl:i,returnSecureToken:!0}));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;let a=n.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function i_(e,t,i,n){return eu(e).onAuthStateChanged(t,i,n)}new WeakMap;const iN="__sak";class iL{_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(iN,"1"),this.storage.removeItem(iN),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}constructor(e,t){this.storageRetriever=e,this.type=t}}class iA extends iL{forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,i)=>{this.notifyListeners(e,i)});return}let i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let n=this.storage.getItem(i);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}let n=()=>{let e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},r=this.storage.getItem(i);(function(){let e=q();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=q();return tj(e)||tX(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=tK(),this._shouldAllowMigration=!0}}iA.type="LOCAL";class iM extends iL{_addListener(e,t){}_removeListener(e,t){}constructor(){super(()=>window.sessionStorage,"SESSION")}}iM.type="SESSION";class iR{static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let i=new iR(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:i,data:n}=e.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:i});let s=Array.from(r).map(async t=>t(e.origin,n)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}}function iD(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}iR.receivers=[];class iO{removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let n,r;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=iD("",20);s.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},i);r={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(c),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}constructor(e){this.target=e,this.handlers=new Set}}function iP(){return window}function iF(){return void 0!==iP().WorkerGlobalScope&&"function"==typeof iP().importScripts}async function iz(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}const iU="firebaseLocalStorageDb",iB="firebaseLocalStorage",iV="fbase_key";class ij{toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}constructor(e){this.request=e}}function iW(e,t){return e.transaction([iB],t?"readwrite":"readonly").objectStore(iB)}function iq(){let e=indexedDB.open(iU,1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(iB,{keyPath:iV})}catch(e){i(e)}}),e.addEventListener("success",async()=>{let i=e.result;i.objectStoreNames.contains(iB)?t(i):(i.close(),await function(){let e=indexedDB.deleteDatabase(iU);return new ij(e).toPromise()}(),t(await iq()))})})}async function iH(e,t,i){let n=iW(e,!0).put({[iV]:t,value:i});return new ij(n).toPromise()}async function i$(e,t){let i=iW(e,!1).get(t),n=await new ij(i).toPromise();return void 0===n?null:n.value}function iG(e,t){let i=iW(e,!0).delete(t);return new ij(i).toPromise()}class iX{async _openDb(){return this.db||(this.db=await iq()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iR._getInstance(iF()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let i=await this._poll();return{keyProcessed:i.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iz(),!this.activeServiceWorker)return;this.sender=new iO(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await iq();return await iH(e,iN,"1"),await iG(e,iN),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iH(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>i$(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iG(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=iW(e,!1).getAll();return new ij(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],i=new Set;for(let{fbase_key:n,value:r}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(let e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}}function iK(e){return`__${e}${Math.floor(1e6*Math.random())}`}async function iQ(e,t,i){var n,r,s;let a=await i.verify();try{let o;if(tr("string"==typeof a,e,"argument-error"),tr("recaptcha"===i.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o){tr("enroll"===t.type,e,"internal-error");let i=await (r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},tg(e,"POST","/v2/accounts/mfaEnrollment:start",tm(e,r)));return i.phoneSessionInfo.sessionInfo}{tr("signin"===t.type,e,"internal-error");let i=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;tr(i,e,"missing-multi-factor-info");let r=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:a}},tg(e,"POST","/v2/accounts/mfaSignIn:start",tm(e,s)));return r.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await ie(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{i._reset()}}iX.type="LOCAL",iK("rcb"),new tu(3e4,6e4);class iY{verifyPhoneNumber(e,t){return iQ(this.auth,e,eu(t))}static credential(e,t){return ia._fromVerification(e,t)}static credentialFromResult(e){return iY.credentialFromTaggedObject(e)}static credentialFromError(e){return iY.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?ia._fromTokenResponse(t,i):null}constructor(e){this.providerId=iY.PROVIDER_ID,this.auth=eu(e)}}iY.PROVIDER_ID="phone",iY.PHONE_SIGN_IN_METHOD="phone";class iJ extends t2{_getIdTokenResponse(e){return t8(e,this._buildIdpRequest())}_linkToIdToken(e,t){return t8(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return t8(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}constructor(e){super("custom","custom"),this.params=e}}function iZ(e){return iE(e.auth,new iJ(e),e.bypassAuthState)}function i0(e){let{auth:t,user:i}=e;return tr(i,t,"internal-error"),ik(i,new iJ(e),e.bypassAuthState)}async function i1(e){let{auth:t,user:i}=e;return tr(i,t,"internal-error"),ix(i,new iJ(e),e.bypassAuthState)}class i2{execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:n,tenantId:r,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iZ;case"linkViaPopup":case"linkViaRedirect":return i1;case"reauthViaPopup":case"reauthViaRedirect":return i0;default:tt(this.auth,"internal-error")}}resolve(e){this.pendingPromise||ts("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||ts("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}constructor(e,t,i,n,r=!1){this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}}const i5=new tu(2e3,1e4);class i6 extends i2{async executeNotNull(){let e=await this.execute();return tr(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||ts("Popup operations only handle one event");let e=iD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i6.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,i5.get())};e()}constructor(e,t,i,n,r){super(e,t,n,r),this.provider=i,this.authWindow=null,this.pollId=null,i6.currentPopupAction&&i6.currentPopupAction.cancel(),i6.currentPopupAction=this}}i6.currentPopupAction=null;const i3=new Map;class i9 extends i2{async execute(){let e=i3.get(this.auth._key());if(!e){try{let t=await i4(this.resolver,this.auth),i=t?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}i3.set(this.auth._key(),e)}return this.bypassAuthState||i3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}}async function i4(e,t){let i=tz("pendingRedirect",t.config.apiKey,t.name),n=to(e._redirectPersistence);if(!await n._isAvailable())return!1;let r=await n._get(i)==="true";return await n._remove(i),r}function i8(e,t){i3.set(e._key(),t)}async function i7(e,t,i=!1){let n=eu(e),r=t?to(t):(tr(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver),s=new i9(n,r,i),a=await s.execute();return a&&!i&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}class ne{registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ni(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ni(e)){let n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nt(e))}saveEventToCache(e){this.cachedEventUids.add(nt(e)),this.lastProcessedEventTime=Date.now()}constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}}function nt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ni({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function nn(e,t={}){return tg(e,"GET","/v1/projects",t)}const nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ns=/^https?/;async function na(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nn(e);for(let e of t)try{if(function(e){let t=tl(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!ns.test(i))return!1;if(nr.test(e))return n===e;let r=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(n)}(e))return}catch(e){}tt(e,"unauthorized-domain")}const no=new tu(3e4,6e4);function nl(){let e=iP().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let nc=null;const nu=new tu(5e3,15e3),nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nf(e){let t=await (nc=nc||new Promise((t,i)=>{var n,r,s,a;function o(){nl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nl(),i(ti(e,"network-request-failed"))},timeout:no.get()})}if(null===(r=null===(n=iP().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else if(null===(s=iP().gapi)||void 0===s?void 0:s.load)o();else{let t=iK("iframefcb");return iP()[t]=()=>{gapi.load?o():i(ti(e,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${t}`,new Promise((e,t)=>{var i,n;let r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=e=>{let i=ti("internal-error");i.customData=e,t(i)},r.type="text/javascript",r.charset="UTF-8",(null!==(n=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==n?n:document).appendChild(r)})).catch(e=>i(e))}}).catch(e=>{throw nc=null,e})),i=iP().gapi;return tr(i,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;tr(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?th(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:e$},r=nd.get(e.config.apiHost);r&&(n.eid=r);let s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${es(n).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nh,dontclear:!0},t=>new Promise(async(i,n)=>{await t.restyle({setHideOnLeave:!1});let r=ti(e,"network-request-failed"),s=iP().setTimeout(()=>{n(r)},nu.get());function a(){iP().clearTimeout(s),i(t)}t.ping(a).then(a,()=>{n(r)})}))}const np={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nm{close(){if(this.window)try{this.window.close()}catch(e){}}constructor(e){this.window=e,this.associatedEvent=null}}function ng(e,t,i,n,r,s){tr(e.config.authDomain,e,"auth-domain-config-required"),tr(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:e$,eventId:r};if(t instanceof ic)for(let[i,n]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[i]=n;if(t instanceof iu){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];return`${function({config:e}){return e.emulator?th(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${es(a).slice(1)}`}const ny="webStorageSupport",nv=class{async _openPopup(e,t,i,n){var r;(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager)||ts("_initialize() not called before _openPopup()");let s=ng(e,t,i,tl(),n);return function(e,t,i,n=500,r=600){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString(),o="",l=Object.assign(Object.assign({},np),{width:n.toString(),height:r.toString(),top:s,left:a}),c=q().toLowerCase();i&&(o=tW(c)?"_blank":i),tV(c)&&(t=t||"http://localhost",l.scrollbars="yes");let u=Object.entries(l).reduce((e,[t,i])=>`${e}${t}=${i},`,"");if(function(e=q()){var t;return tX(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",o),new nm(null);let h=window.open(t||"",o,u);tr(h,e,"popup-blocked");try{h.focus()}catch(e){}return new nm(h)}(e,s,iD())}async _openRedirect(e,t,i,n){var r;return await this._originValidation(e),r=ng(e,t,i,tl(),n),iP().location.href=r,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(i||ts("If manager is not set, promise should be"),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await nf(e),i=new ne(e);return t.register("authEvent",t=>{tr(null==t?void 0:t.authEvent,e,"invalid-auth-event");let n=i.onEvent(t.authEvent);return{status:n?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){let i=this.iframes[e._key()];i.send(ny,{type:ny},i=>{var n;let r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[ny];void 0!==r&&t(!!r),tt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=na(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tK()||tj()||tX()}constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iM,this._completeRedirectFn=i7,this._overrideRedirectResult=i8}};class nb{_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return ts("unexpected MultiFactorSessionType")}}constructor(e){this.factorId=e}}class nw extends nb{static _fromCredential(e){return new nw(e)}_finalizeEnroll(e,t,i){return tg(e,"POST","/v2/accounts/mfaEnrollment:finalize",tm(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return tg(e,"POST","/v2/accounts/mfaSignIn:finalize",tm(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}constructor(e){super("phone"),this.credential=e}}var nx="@firebase/auth",nk="0.20.11";class nE{getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}constructor(e){this.auth=e,this.internalListeners=new Map}}const nT=J("authIdTokenMaxAge")||300;let nS=null;const nI=e=>async t=>{let i=t&&await t.getIdTokenResult(),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>nT)return;let r=null==i?void 0:i.token;nS!==r&&(nS=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};!function(e){ej(new eh("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:s,authDomain:a}=n.options;return((t,n)=>{tr(s&&!s.includes(":"),"invalid-api-key",{appName:t.name}),tr(!(null==a?void 0:a.includes(":")),"argument-error",{appName:t.name});let r={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tQ(e)},o=new tJ(t,n,r);return function(e,t){let i=(null==t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(to);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(o,i),o})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{let n=e.getProvider("auth-internal");n.initialize()})),ej(new eh("auth-internal",e=>{let t=eu(e.getProvider("auth").getImmediate());return new nE(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),eK(nx,nk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),eK(nx,nk,"esm2017")}("Browser");var nC,n_,nN,nL,nA,nM,nR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==p?p:"undefined"!=typeof self?self:{},nD={},nO=nO||{},nP=nR||self;function nF(){}function nz(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function nU(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function nB(e,t,i){return e.call.apply(e.bind,arguments)}function nV(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function nj(e,t,i){return(nj=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nB:nV).apply(null,arguments)}function nW(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function nq(e,t){function i(){}i.prototype=t.prototype,e.X=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.Wb=function(e,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[i].apply(e,r)}}function nH(){this.s=this.s,this.o=this.o}nH.prototype.s=!1,nH.prototype.na=function(){this.s||(this.s=!0,this.M())},nH.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n$=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return -1};function nG(e){let t=e.length;if(0<t){let i=Array(t);for(let n=0;n<t;n++)i[n]=e[n];return i}return[]}function nX(e,t){for(let t=1;t<arguments.length;t++){let i=arguments[t];if(nz(i)){let t=e.length||0,n=i.length||0;e.length=t+n;for(let r=0;r<n;r++)e[t+r]=i[r]}else e.push(i)}}function nK(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nK.prototype.h=function(){this.defaultPrevented=!0};var nQ=function(){if(!nP.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nP.addEventListener("test",nF,t),nP.removeEventListener("test",nF,t)}catch(e){}return e}();function nY(e){return/^[\s\xa0]*$/.test(e)}var nJ=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nZ(e,t){return e<t?-1:e>t?1:0}function n0(){var e=nP.navigator;return e&&(e=e.userAgent)?e:""}function n1(e){return -1!=n0().indexOf(e)}function n2(e){return n2[" "](e),e}n2[" "]=nF;var n5=n1("Opera"),n6=n1("Trident")||n1("MSIE"),n3=n1("Edge"),n9=n3||n6,n4=n1("Gecko")&&!(-1!=n0().toLowerCase().indexOf("webkit")&&!n1("Edge"))&&!(n1("Trident")||n1("MSIE"))&&!n1("Edge"),n8=-1!=n0().toLowerCase().indexOf("webkit")&&!n1("Edge");function n7(){var e=nP.document;return e?e.documentMode:void 0}e:{var re="",rt=function(){var e=n0();return n4?/rv:([^\);]+)(\)|;)/.exec(e):n3?/Edge\/([\d\.]+)/.exec(e):n6?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):n8?/WebKit\/(\S+)/.exec(e):n5?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(re=rt?rt[1]:""),n6){var ri=n7();if(null!=ri&&ri>parseFloat(re)){l=String(ri);break e}}l=re}var rn={},rr=nP.document&&n6&&(n7()||parseInt(l,10))||void 0;function rs(e,t){if(nK.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(n4){e:{try{n2(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ra[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rs.X.h.call(this)}}nq(rs,nK);var ra={2:"touch",3:"pen",4:"mouse"};rs.prototype.h=function(){rs.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ro="closure_listenable_"+(1e6*Math.random()|0),rl=0;function rc(e,t,i,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!n,this.ha=r,this.key=++rl,this.ba=this.ea=!1}function ru(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function rh(e,t,i){for(let n in e)t.call(i,e[n],n,e)}function rd(e){let t={};for(let i in e)t[i]=e[i];return t}const rf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rp(e,t){let i,n;for(let t=1;t<arguments.length;t++){for(i in n=arguments[t])e[i]=n[i];for(let t=0;t<rf.length;t++)i=rf[t],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}function rm(e){this.src=e,this.g={},this.h=0}function rg(e,t){var i=t.type;if(i in e.g){var n,r=e.g[i],s=n$(r,t);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&(ru(t),0==e.g[i].length&&(delete e.g[i],e.h--))}}function ry(e,t,i,n){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ba&&s.listener==t&&!!i==s.capture&&s.ha==n)return r}return -1}rm.prototype.add=function(e,t,i,n,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ry(e,t,n,r);return -1<a?(t=e[a],i||(t.ea=!1)):((t=new rc(t,this.src,s,!!n,r)).ea=i,e.push(t)),t};var rv="closure_lm_"+(1e6*Math.random()|0),rb={};function rw(e,t,i,n,r,s){if(!t)throw Error("Invalid event type");var a=nU(r)?!!r.capture:!!r,o=rT(e);if(o||(e[rv]=o=new rm(e)),(i=o.add(t,i,n,a,s)).proxy)return i;if(n=function e(t){return rE.call(e.src,e.listener,t)},i.proxy=n,n.src=e,n.listener=i,e.addEventListener)nQ||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(rk(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function rx(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ro])rg(t.i,e);else{var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(rk(i),n):t.addListener&&t.removeListener&&t.removeListener(n),(i=rT(t))?(rg(i,e),0==i.h&&(i.src=null,t[rv]=null)):ru(e)}}}function rk(e){return e in rb?rb[e]:rb[e]="on"+e}function rE(e,t){if(e.ba)e=!0;else{t=new rs(t,this);var i=e.listener,n=e.ha||e.src;e.ea&&rx(e),e=i.call(n,t)}return e}function rT(e){return(e=e[rv])instanceof rm?e:null}var rS="__closure_events_fn_"+(1e9*Math.random()>>>0);function rI(e){return"function"==typeof e?e:(e[rS]||(e[rS]=function(t){return e.handleEvent(t)}),e[rS])}function rC(){nH.call(this),this.i=new rm(this),this.P=this,this.I=null}function r_(e,t){var i,n=e.I;if(n)for(i=[];n;n=n.I)i.push(n);if(e=e.P,n=t.type||t,"string"==typeof t)t=new nK(t,e);else if(t instanceof nK)t.target=t.target||e;else{var r=t;rp(t=new nK(n,e),r)}if(r=!0,i)for(var s=i.length-1;0<=s;s--){var a=t.g=i[s];r=rN(a,n,!0,t)&&r}if(r=rN(a=t.g=e,n,!0,t)&&r,r=rN(a,n,!1,t)&&r,i)for(s=0;s<i.length;s++)r=rN(a=t.g=i[s],n,!1,t)&&r}function rN(e,t,i,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ba&&a.capture==i){var o=a.listener,l=a.ha||a.src;a.ea&&rg(e.i,a),r=!1!==o.call(l,n)&&r}}return r&&!n.defaultPrevented}nq(rC,nH),rC.prototype[ro]=!0,rC.prototype.removeEventListener=function(e,t,i,n){!function e(t,i,n,r,s){if(Array.isArray(i))for(var a=0;a<i.length;a++)e(t,i[a],n,r,s);else(r=nU(r)?!!r.capture:!!r,n=rI(n),t&&t[ro])?(t=t.i,(i=String(i).toString())in t.g&&-1<(n=ry(a=t.g[i],n,r,s))&&(ru(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[i],t.h--))):t&&(t=rT(t))&&(i=t.g[i.toString()],t=-1,i&&(t=ry(i,n,r,s)),(n=-1<t?i[t]:null)&&rx(n))}(this,e,t,i,n)},rC.prototype.M=function(){if(rC.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)ru(i[n]);delete t.g[e],t.h--}}this.I=null},rC.prototype.N=function(e,t,i,n){return this.i.add(String(e),t,!1,i,n)},rC.prototype.O=function(e,t,i,n){return this.i.add(String(e),t,!0,i,n)};var rL=nP.JSON.stringify,rA=new class{get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}}(()=>new rM,e=>e.reset());class rM{set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}constructor(){this.next=this.g=this.h=null}}function rR(e,t){var i;u||(i=nP.Promise.resolve(void 0),u=function(){i.then(rP)}),rD||(u(),rD=!0),rO.add(e,t)}var rD=!1,rO=new class{add(e,t){let i=rA.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}constructor(){this.h=this.g=null}};function rP(){let e;for(var t;e=null,rO.g&&(e=rO.g,rO.g=rO.g.next,rO.g||(rO.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){nP.setTimeout(()=>{throw e},0)}(e)}rA.j(t),100>rA.h&&(rA.h++,t.next=rA.g,rA.g=t)}rD=!1}function rF(e,t){rC.call(this),this.h=e||1,this.g=t||nP,this.j=nj(this.lb,this),this.l=Date.now()}function rz(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function rU(e,t,i){if("function"==typeof e)i&&(e=nj(e,i));else if(e&&"function"==typeof e.handleEvent)e=nj(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:nP.setTimeout(e,t||0)}nq(rF,rC),(nM=rF.prototype).ca=!1,nM.R=null,nM.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),r_(this,"tick"),this.ca&&(rz(this),this.start()))}},nM.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nM.M=function(){rF.X.M.call(this),rz(this),delete this.g};class rB extends nH{l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=rU(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let i=t.h;t.h=null,t.m.apply(null,i)}(this)}M(){super.M(),this.g&&(nP.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}}function rV(e){nH.call(this),this.h=e,this.g={}}nq(rV,nH);var rj=[];function rW(e,t,i,n){Array.isArray(i)||(i&&(rj[0]=i.toString()),i=rj);for(var r=0;r<i.length;r++){var s=function e(t,i,n,r,s){if(r&&r.once)return function e(t,i,n,r,s){if(Array.isArray(i)){for(var a=0;a<i.length;a++)e(t,i[a],n,r,s);return null}return n=rI(n),t&&t[ro]?t.O(i,n,nU(r)?!!r.capture:!!r,s):rw(t,i,n,!0,r,s)}(t,i,n,r,s);if(Array.isArray(i)){for(var a=0;a<i.length;a++)e(t,i[a],n,r,s);return null}return n=rI(n),t&&t[ro]?t.N(i,n,nU(r)?!!r.capture:!!r,s):rw(t,i,n,!1,r,s)}(t,i[r],n||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rq(e){rh(e.g,function(e,t){this.g.hasOwnProperty(t)&&rx(e)},e),e.g={}}function rH(){this.g=!0}function r$(e,t,i,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}}return rL(i)}catch(e){return t}}(e,i)+(n?" "+n:"")})}rV.prototype.M=function(){rV.X.M.call(this),rq(this)},rV.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rH.prototype.Aa=function(){this.g=!1},rH.prototype.info=function(){};var rG={},rX=null;function rK(){return rX=rX||new rC}function rQ(e){nK.call(this,rG.Pa,e)}function rY(e){let t=rK();r_(t,new rQ(t))}function rJ(e,t){nK.call(this,rG.STAT_EVENT,e),this.stat=t}function rZ(e){let t=rK();r_(t,new rJ(t,e))}function r0(e,t){nK.call(this,rG.Qa,e),this.size=t}function r1(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return nP.setTimeout(function(){e()},t)}rG.Pa="serverreachability",nq(rQ,nK),rG.STAT_EVENT="statevent",nq(rJ,nK),rG.Qa="timingevent",nq(r0,nK);var r2={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},r5={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function r6(){}function r3(e){return e.h||(e.h=e.i())}function r9(){}r6.prototype.h=null;var r4={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function r8(){nK.call(this,"d")}function r7(){nK.call(this,"c")}function se(){}function st(e,t,i,n){this.l=e,this.j=t,this.m=i,this.U=n||1,this.S=new rV(this),this.O=sn,e=n9?125:void 0,this.T=new rF(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}nq(r8,nK),nq(r7,nK),nq(se,r6),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},h=new se;var sn=45e3,sr={},ss={};function sa(e,t,i){e.K=1,e.v=sT(sb(t)),e.s=i,e.P=!0,so(e,null)}function so(e,t){e.F=Date.now(),su(e),e.A=sb(e.v);var i=e.A,n=e.U;Array.isArray(n)||(n=[String(n)]),sF(i.i,"t",n),e.C=0,i=e.l.H,e.h=new si,e.g=aI(e.l,i?t:null,!e.s),0<e.N&&(e.L=new rB(nj(e.La,e,e.g),e.N)),rW(e.S,e.g,"readystatechange",e.ib),t=e.H?rd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),rY(),function(e,t,i,n,r,s){e.info(function(){if(e.g){if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null}else a=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+i+"\n"+a})}(e.j,e.u,e.A,e.m,e.U,e.s)}function sl(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function sc(e,t,i){let n=!0,r;for(;!e.I&&e.C<i.length;)if((r=function(e,t){var i=e.C,n=t.indexOf("\n",i);return -1==n?ss:isNaN(i=Number(t.substring(i,n)))?sr:(n+=1)+i>t.length?ss:(t=t.substr(n,i),e.C=n+i,t)}(e,i))==ss){4==t&&(e.o=4,rZ(14),n=!1),r$(e.j,e.m,null,"[Incomplete Response]");break}else if(r==sr){e.o=4,rZ(15),r$(e.j,e.m,i,"[Invalid Chunk]"),n=!1;break}else r$(e.j,e.m,r,null),sm(e,r);sl(e)&&r!=ss&&r!=sr&&(e.h.g="",e.C=0),4!=t||0!=i.length||e.h.h||(e.o=1,rZ(16),n=!1),e.i=e.i&&n,n?0<i.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),av(t),t.K=!0,rZ(11))):(r$(e.j,e.m,i,"[Invalid Chunked Response]"),sp(e),sf(e))}function su(e){e.V=Date.now()+e.O,sh(e,e.O)}function sh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=r1(nj(e.gb,e),t)}function sd(e){e.B&&(nP.clearTimeout(e.B),e.B=null)}function sf(e){0==e.l.G||e.I||ax(e.l,e)}function sp(e){sd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rz(e.T),rq(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function sm(e,t){try{var i=e.l;if(0!=i.G&&(i.g==e||sq(i.h,e))){if(!e.J&&sq(i.h,e)&&3==i.G){try{var n=i.Fa.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!i.u){if(i.g){if(i.g.F+3e3<e.F)aw(i),au(i);else break e}ay(i),rZ(18)}}else i.Ba=r[1],0<i.Ba-i.T&&37500>r[2]&&i.L&&0==i.A&&!i.v&&(i.v=r1(nj(i.cb,i),6e3));if(1>=sW(i.h)&&i.ja){try{i.ja()}catch(e){}i.ja=void 0}}else aE(i,11)}else if((e.J||i.g==e)&&aw(i),!nY(t))for(r=i.Fa.g.parse(t),t=0;t<r.length;t++){let o=r[t];if(i.T=o[0],o=o[1],2==i.G){if("c"==o[0]){i.I=o[1],i.ka=o[2];let t=o[3];null!=t&&(i.ma=t,i.j.info("VER="+i.ma));let r=o[4];null!=r&&(i.Ca=r,i.j.info("SVER="+i.Ca));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(n=1.5*l,i.J=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;let c=e.g;if(c){let e=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=n.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sH(s,s.h),s.h=null))}if(n.D){let e=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.za=e,sE(n.F,n.D,e))}}if(i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-e.F,i.j.info("Handshake RTT: "+i.P+"ms")),(n=i).sa=aS(n,n.H?n.ka:null,n.V),e.J){s$(n.h,e);var a=n.J;a&&e.setTimeout(a),e.B&&(sd(e),su(e)),n.g=e}else ag(n);0<i.i.length&&ad(i)}else"stop"!=o[0]&&"close"!=o[0]||aE(i,7)}else 3==i.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?aE(i,7):ac(i):"noop"!=o[0]&&i.l&&i.l.wa(o),i.A=0)}}rY(4)}catch(e){}}function sg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nz(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var i=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(nz(e)||"string"==typeof e){var t=[];e=e.length;for(var i=0;i<e;i++)t.push(i);return t}for(let n in t=[],i=0,e)t[i++]=n;return t}}}(e),n=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(nz(e)){for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t}for(n in t=[],i=0,e)t[i++]=e[n];return t}(e),r=n.length,s=0;s<r;s++)t.call(void 0,n[s],i&&i[s],e)}(nM=st.prototype).setTimeout=function(e){this.O=e},nM.ib=function(e){e=e.target;let t=this.L;t&&3==an(e)?t.l():this.La(e)},nM.La=function(e){try{if(e==this.g)e:{let u=an(this.g);var t=this.g.Ea();let h=this.g.aa();if(!(3>u)&&(3!=u||n9||this.g&&(this.h.h||this.g.fa()||ar(this.g)))){this.I||4!=u||7==t||(8==t||0>=h?rY(3):rY(2)),sd(this);var i=this.g.aa();this.Y=i;t:if(sl(this)){var n=ar(this.g);e="";var r=n.length,s=4==an(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sp(this),sf(this);var a="";break t}this.h.i=new nP.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:s&&t==r-1});n.splice(0,r),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==i,function(e,t,i,n,r,s,a){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+i+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.U,u,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nY(o)){var c=o;break t}}c=null}if(i=c)r$(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sm(this,i);else{this.i=!1,this.o=3,rZ(12),sp(this),sf(this);break e}}this.P?(sc(this,u,a),n9&&this.i&&3==u&&(rW(this.S,this.T,"tick",this.hb),this.T.start())):(r$(this.j,this.m,a,null),sm(this,a)),4==u&&sp(this),this.i&&!this.I&&(4==u?ax(this.l,this):(this.i=!1,su(this)))}else 400==i&&0<a.indexOf("Unknown SID")?(this.o=3,rZ(12)):(this.o=0,rZ(13)),sp(this),sf(this)}}}catch(e){}finally{}},nM.hb=function(){if(this.g){var e=an(this.g),t=this.g.fa();this.C<t.length&&(sd(this),sc(this,e,t),this.i&&4!=e&&su(this))}},nM.cancel=function(){this.I=!0,sp(this)},nM.gb=function(){this.B=null;let e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(rY(),rZ(17)),sp(this),this.o=2,sf(this)):sh(this,this.V-e)};var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sv(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof sv){this.h=void 0!==t?t:e.h,sw(this,e.j),this.s=e.s,this.g=e.g,sx(this,e.m),this.l=e.l,t=e.i;var i=new sR;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),sk(this,i),this.o=e.o}else e&&(i=String(e).match(sy))?(this.h=!!t,sw(this,i[1]||"",!0),this.s=sS(i[2]||""),this.g=sS(i[3]||"",!0),sx(this,i[4]),this.l=sS(i[5]||"",!0),sk(this,i[6]||"",!0),this.o=sS(i[7]||"")):(this.h=!!t,this.i=new sR(null,this.h))}function sb(e){return new sv(e)}function sw(e,t,i){e.j=i?sS(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sx(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sk(e,t,i){var n,r;t instanceof sR?(e.i=t,n=e.i,(r=e.h)&&!n.j&&(sD(n),n.i=null,n.g.forEach(function(e,t){var i=t.toLowerCase();t!=i&&(sO(this,t),sF(this,i,e))},n)),n.j=r):(i||(t=sI(t,sA)),e.i=new sR(t,e.h))}function sE(e,t,i){e.i.set(t,i)}function sT(e){return sE(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sS(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sI(e,t,i){return"string"==typeof e?(e=encodeURI(e).replace(t,sC),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sC(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sI(t,s_,!0),":");var i=this.g;return(i||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sI(t,s_,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&e.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&e.push("/"),e.push(sI(i,"/"==i.charAt(0)?sL:sN,!0))),(i=this.i.toString())&&e.push("?",i),(i=this.o)&&e.push("#",sI(i,sM)),e.join("")};var s_=/[#\/\?@]/g,sN=/[#\?:]/g,sL=/[#\?]/g,sA=/[#\?@]/g,sM=/#/g;function sR(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sD(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].indexOf("="),r=null;if(0<=n){var s=e[i].substring(0,n);r=e[i].substring(n+1)}else s=e[i];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function sO(e,t){sD(e),t=sz(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sP(e,t){return sD(e),t=sz(e,t),e.g.has(t)}function sF(e,t,i){sO(e,t),0<i.length&&(e.i=null,e.g.set(sz(e,t),nG(i)),e.h+=i.length)}function sz(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nM=sR.prototype).add=function(e,t){sD(this),this.i=null,e=sz(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this},nM.forEach=function(e,t){sD(this),this.g.forEach(function(i,n){i.forEach(function(i){e.call(t,i,n,this)},this)},this)},nM.oa=function(){sD(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let n=0;n<t.length;n++){let r=e[n];for(let e=0;e<r.length;e++)i.push(t[n])}return i},nM.W=function(e){sD(this);let t=[];if("string"==typeof e)sP(this,e)&&(t=t.concat(this.g.get(sz(this,e))));else{e=Array.from(this.g.values());for(let i=0;i<e.length;i++)t=t.concat(e[i])}return t},nM.set=function(e,t){return sD(this),this.i=null,sP(this,e=sz(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nM.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},nM.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var n=t[i];let s=encodeURIComponent(String(n)),a=this.W(n);for(n=0;n<a.length;n++){var r=s;""!==a[n]&&(r+="="+encodeURIComponent(String(a[n]))),e.push(r)}}return this.i=e.join("&")};var sU=class{constructor(e,t){this.h=e,this.g=t}};function sB(e){this.l=e||sV,e=nP.PerformanceNavigationTiming?0<(e=nP.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(nP.g&&nP.g.Ga&&nP.g.Ga()&&nP.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sV=10;function sj(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sW(e){return e.h?1:e.g?e.g.size:0}function sq(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sH(e,t){e.g?e.g.add(t):e.h=t}function s$(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sG(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let i of e.g.values())t=t.concat(i.D);return t}return nG(e.i)}function sX(){}function sK(){this.g=new sX}function sQ(e,t,i,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch(e){}}function sY(e){this.l=e.ac||null,this.j=e.jb||!1}function sJ(e,t){rC.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sZ,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sB.prototype.cancel=function(){if(this.i=sG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}},sX.prototype.stringify=function(e){return nP.JSON.stringify(e,void 0)},sX.prototype.parse=function(e){return nP.JSON.parse(e,void 0)},nq(sY,r6),sY.prototype.g=function(){return new sJ(this.l,this.j)},sY.prototype.i=(o={},function(){return o}),nq(sJ,rC);var sZ=0;function s0(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function s1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,s2(e)}function s2(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nM=sJ.prototype).open=function(e,t){if(this.readyState!=sZ)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,s2(this)},nM.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nP).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},nM.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s1(this)),this.readyState=sZ},nM.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,s2(this)),this.g&&(this.readyState=3,s2(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==nP.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s0(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))}},nM.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?s1(this):s2(this),3==this.readyState&&s0(this)}},nM.Va=function(e){this.g&&(this.response=this.responseText=e,s1(this))},nM.Ua=function(e){this.g&&(this.response=e,s1(this))},nM.ga=function(){this.g&&s1(this)},nM.setRequestHeader=function(e,t){this.v.append(e,t)},nM.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nM.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var i=t.next();!i.done;)e.push((i=i.value)[0]+": "+i[1]),i=t.next();return e.join("\r\n")},Object.defineProperty(sJ.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var s5=nP.JSON.parse;function s6(e){rC.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=s3,this.K=this.L=!1}nq(s6,rC);var s3="",s9=/^https?$/i,s4=["POST","PUT"];function s8(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,s7(e),at(e)}function s7(e){e.D||(e.D=!0,r_(e,"complete"),r_(e,"error"))}function ae(e){if(e.h&&void 0!==nO&&(!e.C[1]||4!=an(e)||2!=e.aa())){if(e.v&&4==an(e))rU(e.Ha,0,e);else if(r_(e,"readystatechange"),4==an(e)){e.h=!1;try{let o=e.aa();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,i,n=!0;break;default:n=!1}if(!(t=n)){if(i=0===o){var r=String(e.H).match(sy)[1]||null;if(!r&&nP.self&&nP.self.location){var s=nP.self.location.protocol;r=s.substr(0,s.length-1)}i=!s9.test(r?r.toLowerCase():"")}t=i}if(t)r_(e,"complete"),r_(e,"success");else{e.m=6;try{var a=2<an(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.aa()+"]",s7(e)}}finally{at(e)}}}}function at(e,t){if(e.g){ai(e);let i=e.g,n=e.C[0]?nF:null;e.g=null,e.C=null,t||r_(e,"ready");try{i.onreadystatechange=n}catch(e){}}}function ai(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nP.clearTimeout(e.A),e.A=null)}function an(e){return e.g?e.g.readyState:0}function ar(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case s3:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function as(e){let t="";return rh(e,function(e,i){t+=i+":"+e+"\r\n"}),t}function aa(e,t,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=as(i),"string"==typeof e?null!=i&&encodeURIComponent(String(i)):sE(e,t,i))}function ao(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function al(e){this.Ca=0,this.i=[],this.j=new rH,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ao("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ao("baseRetryDelayMs",5e3,e),this.bb=ao("retryDelaySeedMs",1e4,e),this.$a=ao("forwardChannelMaxRetries",2,e),this.ta=ao("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new sB(e&&e.concurrentRequestLimit),this.Fa=new sK,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ac(e){if(ah(e),3==e.G){var t=e.U++,i=sb(e.F);sE(i,"SID",e.I),sE(i,"RID",t),sE(i,"TYPE","terminate"),ap(e,i),(t=new st(e,e.j,t,void 0)).K=2,t.v=sT(sb(i)),i=!1,nP.navigator&&nP.navigator.sendBeacon&&(i=nP.navigator.sendBeacon(t.v.toString(),"")),!i&&nP.Image&&((new Image).src=t.v,i=!0),i||(t.g=aI(t.l,null),t.g.da(t.v)),t.F=Date.now(),su(t)}aT(e)}function au(e){e.g&&(av(e),e.g.cancel(),e.g=null)}function ah(e){au(e),e.u&&(nP.clearTimeout(e.u),e.u=null),aw(e),e.h.cancel(),e.m&&("number"==typeof e.m&&nP.clearTimeout(e.m),e.m=null)}function ad(e){sj(e.h)||e.m||(e.m=!0,rR(e.Ja,e),e.C=0)}function af(e,t){var i;i=t?t.m:e.U++;let n=sb(e.F);sE(n,"SID",e.I),sE(n,"RID",i),sE(n,"AID",e.T),ap(e,n),e.o&&e.s&&aa(n,e.o,e.s),i=new st(e,e.j,i,e.C+1),null===e.o&&(i.H=e.s),t&&(e.i=t.D.concat(e.i)),t=am(e,i,1e3),i.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),sH(e.h,i),sa(i,n,t)}function ap(e,t){e.ia&&rh(e.ia,function(e,i){sE(t,i,e)}),e.l&&sg({},function(e,i){sE(t,i,e)})}function am(e,t,i){i=Math.min(e.i.length,i);var n=e.l?nj(e.l.Ra,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){let e=["count="+i];-1==t?0<i?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<i;a++){let i=r[a].h,o=r[a].g;if(0>(i-=t))t=Math.max(0,r[a].h-100),s=!1;else try{!function(e,t,i){let n=i||"";try{sg(e,function(e,i){let r=e;nU(e)&&(r=rL(e)),t.push(n+i+"="+encodeURIComponent(r))})}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+i+"_")}catch(e){n&&n(o)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,i),t.D=e,n}function ag(e){e.g||e.u||(e.Z=1,rR(e.Ia,e),e.A=0)}function ay(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Z++,e.u=r1(nj(e.Ia,e),ak(e,e.A)),e.A++,!0)}function av(e){null!=e.B&&(nP.clearTimeout(e.B),e.B=null)}function ab(e){e.g=new st(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=sb(e.sa);sE(t,"RID","rpc"),sE(t,"SID",e.I),sE(t,"CI",e.L?"0":"1"),sE(t,"AID",e.T),sE(t,"TYPE","xmlhttp"),ap(e,t),e.o&&e.s&&aa(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var i=e.g;e=e.ka,i.K=1,i.v=sT(sb(t)),i.s=null,i.P=!0,so(i,e)}function aw(e){null!=e.v&&(nP.clearTimeout(e.v),e.v=null)}function ax(e,t){var i=null;if(e.g==t){aw(e),av(e),e.g=null;var n=2}else{if(!sq(e.h,t))return;i=t.D,s$(e.h,t),n=1}if(0!=e.G){if(e.pa=t.Y,t.i){if(1==n){i=t.s?t.s.length:0,t=Date.now()-t.F;var r,s=e.C;r_(n=rK(),new r0(n,i)),ad(e)}else ag(e)}else if(3==(s=t.o)||0==s&&0<e.pa||!(1==n&&(r=t,!(sW(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=r.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.C>=(e.Za?0:e.$a))&&(e.m=r1(nj(e.Ja,e,r),ak(e,e.C)),e.C++,!0)))||2==n&&ay(e)))switch(i&&0<i.length&&((t=e.h).i=t.i.concat(i)),s){case 1:aE(e,5);break;case 4:aE(e,10);break;case 3:aE(e,6);break;default:aE(e,2)}}}function ak(e,t){let i=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(i*=2),i*t}function aE(e,t){if(e.j.info("Error code "+t),2==t){var i=null;e.l&&(i=null);var n=nj(e.kb,e);i||(i=new sv("//www.google.com/images/cleardot.gif"),nP.location&&"http"==nP.location.protocol||sw(i,"https"),sT(i)),function(e,t){let i=new rH;if(nP.Image){let n=new Image;n.onload=nW(sQ,i,n,"TestLoadImage: loaded",!0,t),n.onerror=nW(sQ,i,n,"TestLoadImage: error",!1,t),n.onabort=nW(sQ,i,n,"TestLoadImage: abort",!1,t),n.ontimeout=nW(sQ,i,n,"TestLoadImage: timeout",!1,t),nP.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(i.toString(),n)}else rZ(2);e.G=0,e.l&&e.l.va(t),aT(e),ah(e)}function aT(e){if(e.G=0,e.la=[],e.l){let t=sG(e.h);(0!=t.length||0!=e.i.length)&&(nX(e.la,t),nX(e.la,e.i),e.h.i.length=0,nG(e.i),e.i.length=0),e.l.ua()}}function aS(e,t,i){var n=i instanceof sv?sb(i):new sv(i,void 0);if(""!=n.g)t&&(n.g=t+"."+n.g),sx(n,n.m);else{var r=nP.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new sv(null,void 0);n&&sw(s,n),t&&(s.g=t),r&&sx(s,r),i&&(s.l=i),n=s}return i=e.D,t=e.za,i&&t&&sE(n,i,t),sE(n,"VER",e.ma),ap(e,n),n}function aI(e,t,i){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new s6(i&&e.Da&&!e.ra?new sY({jb:!0}):e.ra)).Ka(e.H),t}function aC(){}function a_(){if(n6&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function aN(e,t){rC.call(this),this.g=new al(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!nY(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nY(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new aM(this)}function aL(e){r8.call(this);var t=e.__sm__;if(t){e:{for(let i in t){e=i;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function aA(){r7.call(this),this.status=1}function aM(e){this.g=e}(nM=s6.prototype).Ka=function(e){this.L=e},nM.da=function(e,t,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():h.g(),this.C=this.u?r3(this.u):r3(h),this.g.onreadystatechange=nj(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){s8(this,e);return}if(e=i||"",i=new Map(this.headers),n){if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else if("function"==typeof n.keys&&"function"==typeof n.get)for(let e of n.keys())i.set(e,n.get(e));else throw Error("Unknown input type for opt_headers: "+String(n))}for(let[s,a]of(n=Array.from(i.keys()).find(e=>"content-type"==e.toLowerCase()),r=nP.FormData&&e instanceof nP.FormData,!(0<=n$(s4,t))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i))this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{var s;ai(this),0<this.B&&((this.K=(s=this.g,n6&&(Object.prototype.hasOwnProperty.call(rn,9)?rn[9]:rn[9]=function(){let e=0,t=nJ(String(l)).split("."),i=nJ("9").split("."),n=Math.max(t.length,i.length);for(let a=0;0==e&&a<n;a++){var r=t[a]||"",s=i[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=nZ(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||nZ(0==r[2].length,0==s[2].length)||nZ(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}(9))&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=nj(this.qa,this)):this.A=rU(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){s8(this,e)}},nM.qa=function(){void 0!==nO&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,r_(this,"timeout"),this.abort(8))},nM.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,r_(this,"complete"),r_(this,"abort"),at(this))},nM.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),at(this,!0)),s6.X.M.call(this)},nM.Ha=function(){this.s||(this.F||this.v||this.l?ae(this):this.fb())},nM.fb=function(){ae(this)},nM.aa=function(){try{return 2<an(this)?this.g.status:-1}catch(e){return -1}},nM.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},nM.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),s5(t)}},nM.Ea=function(){return this.m},nM.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nM=al.prototype).ma=8,nM.G=1,nM.Ja=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let r=new st(this,this.j,e,void 0),s=this.s;if(this.S&&(s?rp(s=rd(s),this.S):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,i=0;i<this.i.length;i++){t:{var n=this.i[i];if("__data__"in n.g&&"string"==typeof(n=n.g.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if(4096<(t+=n)){t=i;break e}if(4096===t||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=am(this,r,t),sE(i=sb(this.F),"RID",e),sE(i,"CVER",22),this.D&&sE(i,"X-HTTP-Session-Id",this.D),ap(this,i),s&&(this.N?t="headers="+encodeURIComponent(String(as(s)))+"&"+t:this.o&&aa(i,this.o,s)),sH(this.h,r),this.Ya&&sE(i,"TYPE","init"),this.O?(sE(i,"$req",t),sE(i,"SID","null"),r.Z=!0,sa(r,i,null)):sa(r,i,t),this.G=2}}else 3==this.G&&(e?af(this,e):0==this.i.length||sj(this.h)||af(this))}},nM.Ia=function(){if(this.u=null,ab(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=r1(nj(this.eb,this),e)}},nM.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rZ(10),au(this),ab(this))},nM.cb=function(){null!=this.v&&(this.v=null,au(this),ay(this),rZ(19))},nM.kb=function(e){e?(this.j.info("Successfully pinged google.com"),rZ(2)):(this.j.info("Failed to ping google.com"),rZ(1))},(nM=aC.prototype).xa=function(){},nM.wa=function(){},nM.va=function(){},nM.ua=function(){},nM.Ra=function(){},a_.prototype.g=function(e,t){return new aN(e,t)},nq(aN,rC),aN.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,i=this.h||void 0;rZ(0),e.V=t,e.ia=i||{},e.L=e.Y,e.F=aS(e,null,e.V),ad(e)},aN.prototype.close=function(){ac(this.g)},aN.prototype.u=function(e){var t=this.g;if("string"==typeof e){var i={};i.__data__=e,e=i}else this.v&&((i={}).__data__=rL(e),e=i);t.i.push(new sU(t.ab++,e)),3==t.G&&ad(t)},aN.prototype.M=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,aN.X.M.call(this)},nq(aL,r8),nq(aA,r7),nq(aM,aC),aM.prototype.xa=function(){r_(this.g,"a")},aM.prototype.wa=function(e){r_(this.g,new aL(e))},aM.prototype.va=function(e){r_(this.g,new aA)},aM.prototype.ua=function(){r_(this.g,"b")},a_.prototype.createWebChannel=a_.prototype.g,aN.prototype.send=aN.prototype.u,aN.prototype.open=aN.prototype.m,aN.prototype.close=aN.prototype.close,r2.NO_ERROR=0,r2.TIMEOUT=8,r2.HTTP_ERROR=6,r5.COMPLETE="complete",r9.EventType=r4,r4.OPEN="a",r4.CLOSE="b",r4.ERROR="c",r4.MESSAGE="d",rC.prototype.listen=rC.prototype.N,s6.prototype.listenOnce=s6.prototype.O,s6.prototype.getLastError=s6.prototype.Oa,s6.prototype.getLastErrorCode=s6.prototype.Ea,s6.prototype.getStatus=s6.prototype.aa,s6.prototype.getResponseJson=s6.prototype.Sa,s6.prototype.getResponseText=s6.prototype.fa,s6.prototype.send=s6.prototype.da,s6.prototype.setWithCredentials=s6.prototype.Ka;var aR=nD.createWebChannelTransport=function(){return new a_},aD=nD.getStatEventTarget=function(){return rK()},aO=nD.ErrorCode=r2,aP=nD.EventType=r5,aF=nD.Event=rG,az=nD.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},aU=nD.FetchXmlHttpFactory=sY,aB=nD.WebChannel=r9,aV=nD.XhrIo=s6;const aj="@firebase/firestore";class aW{isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}constructor(e){this.uid=e}}aW.UNAUTHENTICATED=new aW(null),aW.GOOGLE_CREDENTIALS=new aW("google-credentials-uid"),aW.FIRST_PARTY=new aW("first-party-uid"),aW.MOCK_USER=new aW("mock-user");let aq="9.14.0";const aH=new ew("@firebase/firestore");function a$(){return aH.logLevel}function aG(e,...t){if(aH.logLevel<=nA.DEBUG){let i=t.map(aQ);aH.debug(`Firestore (${aq}): ${e}`,...i)}}function aX(e,...t){if(aH.logLevel<=nA.ERROR){let i=t.map(aQ);aH.error(`Firestore (${aq}): ${e}`,...i)}}function aK(e,...t){if(aH.logLevel<=nA.WARN){let i=t.map(aQ);aH.warn(`Firestore (${aq}): ${e}`,...i)}}function aQ(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function aY(e="Unexpected state"){let t=`FIRESTORE (${aq}) INTERNAL ASSERTION FAILED: `+e;throw aX(t),Error(t)}const aJ={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class aZ extends ee{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class a0{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aW.UNAUTHENTICATED))}shutdown(){}}class a5{getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}constructor(e){this.token=e,this.changeListener=null}}class a6{start(e,t){let i=this.i,n=e=>this.i!==i?(i=this.i,t(e)):Promise.resolve(),r=new a0;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new a0,e.enqueueRetryable(()=>n(this.currentUser))};let s=()=>{let t=r;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},a=e=>{aG("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(aG("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new a0)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(aG("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||aY(),new a1(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||aY(),new aW(e)}constructor(e){this.t=e,this.currentUser=aW.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}}class a3{I(){return this.g?this.g():("object"==typeof this.h&&null!==this.h&&this.h.auth&&this.h.auth.getAuthHeaderValueForFirstParty||aY(),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}constructor(e,t,i,n){this.h=e,this.l=t,this.m=i,this.g=n,this.type="FirstParty",this.user=aW.FIRST_PARTY,this.p=new Map}}class a9{getToken(){return Promise.resolve(new a3(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(aW.FIRST_PARTY))}shutdown(){}invalidateToken(){}constructor(e,t,i,n){this.h=e,this.l=t,this.m=i,this.g=n}}class a4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a8{start(e,t){let i=e=>{null!=e.error&&aG("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let i=e.token!==this.A;return this.A=e.token,aG("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>i(t))};let n=e=>{aG("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.T.getImmediate({optional:!0});e?n(e):aG("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||aY(),this.A=e.token,new a4(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}}class a7{static R(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let n=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let t=0;t<e;t++)i[t]=Math.floor(256*Math.random());return i}(40);for(let r=0;r<n.length;++r)i.length<20&&n[r]<t&&(i+=e.charAt(n[r]%e.length))}return i}}function oe(e,t){return e<t?-1:e>t?1:0}function ot(e,t,i){return e.length===t.length&&e.every((e,n)=>i(e,t[n]))}class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new oi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new aZ(aJ.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new aZ(aJ.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}}class on{static fromTimestamp(e){return new on(e)}static min(){return new on(new oi(0,0))}static max(){return new on(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}constructor(e){this.timestamp=e}}class or{get length(){return this.len}isEqual(e){return 0===or.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let n=0;n<i;n++){let i=e.get(n),r=t.get(n);if(i<r)return -1;if(i>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}constructor(e,t,i){void 0===t?t=0:t>e.length&&aY(),void 0===i?i=e.length-t:i>e.length-t&&aY(),this.segments=e,this.offset=t,this.len=i}}class os extends or{construct(e,t,i){return new os(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new aZ(aJ.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(e=>e.length>0))}return new os(t)}static emptyPath(){return new os([])}}const oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oo extends or{construct(e,t,i){return new oo(e,t,i)}static isValidIdentifier(e){return oa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oo(["__name__"])}static fromServerFormat(e){let t=[],i="",n=0,r=()=>{if(0===i.length)throw new aZ(aJ.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new aZ(aJ.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new aZ(aJ.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=t,n+=2}else"`"===t?s=!s:"."!==t||s?i+=t:r(),n++}if(r(),s)throw new aZ(aJ.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oo(t)}static emptyPath(){return new oo([])}}class ol{static fromPath(e){return new ol(os.fromString(e))}static fromName(e){return new ol(os.fromString(e).popFirst(5))}static empty(){return new ol(os.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===os.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return os.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ol(new os(e.slice()))}constructor(e){this.path=e}}class oc{static min(){return new oc(on.min(),ol.empty(),-1)}static max(){return new oc(on.max(),ol.empty(),-1)}constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}}class ou{addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}constructor(){this.onCommittedListeners=[]}}async function oh(e){if(e.code!==aJ.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;aG("LocalStore","Unexpectedly lost primary lease")}class od{catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aY(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new od((i,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(i,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(i,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof od?t:od.resolve(t)}catch(e){return od.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):od.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):od.reject(t)}static resolve(e){return new od((t,i)=>{t(e)})}static reject(e){return new od((t,i)=>{i(e)})}static waitFor(e){return new od((t,i)=>{let n=0,r=0,s=!1;e.forEach(e=>{++n,e.next(()=>{++r,s&&r===n&&t()},e=>i(e))}),s=!0,r===n&&t()})}static or(e){let t=od.resolve(!1);for(let i of e)t=t.next(e=>e?od.resolve(e):i());return t}static forEach(e,t){let i=[];return e.forEach((e,n)=>{i.push(t.call(this,e,n))}),this.waitFor(i)}static mapArray(e,t){return new od((i,n)=>{let r=e.length,s=Array(r),a=0;for(let o=0;o<r;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===r&&i(s)},e=>n(e))}})}static doWhile(e,t){return new od((i,n)=>{let r=()=>{!0===e()?t().next(()=>{r()},n):i()};r()})}constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}}function of(e){return"IndexedDbTransactionError"===e.name}class op{ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ct&&this.ct(e),e}constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}}function om(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function og(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function oy(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}op.at=-1;class ov{insert(e,t){return new ov(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ow.BLACK,null,null))}remove(e){return new ov(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ow.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let n=this.comparator(e,i.key);if(0===n)return t+i.left.size;n<0?i=i.left:(t+=i.left.size+1,i=i.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ob(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ob(this.root,e,this.comparator,!1)}getReverseIterator(){return new ob(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ob(this.root,e,this.comparator,!0)}constructor(e,t){this.comparator=e,this.root=t||ow.EMPTY}}class ob{getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}constructor(e,t,i,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&n&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}}class ow{copy(e,t,i,n,r){return new ow(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let n=this,r=i(e,n.key);return(n=r<0?n.copy(null,null,null,n.left.insert(e,t,i),null):0===r?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,i))).fixUp()}removeMin(){if(this.left.isEmpty())return ow.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let i,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return ow.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,ow.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,ow.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw aY();let e=this.left.check();if(e!==this.right.check())throw aY();return e+(this.isRed()?0:1)}constructor(e,t,i,n,r){this.key=e,this.value=t,this.color=null!=i?i:ow.RED,this.left=null!=n?n:ow.EMPTY,this.right=null!=r?r:ow.EMPTY,this.size=this.left.size+1+this.right.size}}ow.EMPTY=null,ow.RED=!0,ow.BLACK=!1,ow.EMPTY=new class{get key(){throw aY()}get value(){throw aY()}get color(){throw aY()}get left(){throw aY()}get right(){throw aY()}copy(e,t,i,n,r){return this}insert(e,t,i){return new ow(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}constructor(){this.size=0}};class ox{has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let n=i.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ok(this.data.getIterator())}getIteratorFrom(e){return new ok(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ox)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=i.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new ox(this.comparator);return t.data=e,t}constructor(e){this.comparator=e,this.data=new ov(this.comparator)}}class ok{getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}constructor(e){this.iter=e}}class oE{static empty(){return new oE([])}unionWith(e){let t=new ox(oo.comparator);for(let e of this.fields)t=t.add(e);for(let i of e)t=t.add(i);return new oE(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ot(this.fields,e.fields,(e,t)=>e.isEqual(t))}constructor(e){this.fields=e,e.sort(oo.comparator)}}class oT{static fromBase64String(e){let t=atob(e);return new oT(t)}static fromUint8Array(e){let t=function(e){let t="";for(let i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t}(e);return new oT(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}constructor(e){this.binaryString=e}}oT.EMPTY_BYTE_STRING=new oT("");const oS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oI(e){if(e||aY(),"string"==typeof e){let t=0,i=oS.exec(e);if(i||aY(),i[1]){let e=i[1];t=Number(e=(e+"000000000").substr(0,9))}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:oC(e.seconds),nanos:oC(e.nanos)}}function oC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function o_(e){return"string"==typeof e?oT.fromBase64String(e):oT.fromUint8Array(e)}function oN(e){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function oL(e){let t=oI(e.mapValue.fields.__local_write_time__.timestampValue);return new oi(t.seconds,t.nanos)}class oA{constructor(e,t,i,n,r,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=n,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class oM{static empty(){return new oM("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oM&&e.projectId===this.projectId&&e.database===this.database}constructor(e,t){this.projectId=e,this.database=t||"(default)"}}function oR(e){return 0===e&&1/e==-1/0}const oD={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oO(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oN(e)?4:oG(e)?9007199254740991:10:aY()}function oP(e,t){if(e===t)return!0;let i=oO(e);if(i!==oO(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oL(e).isEqual(oL(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let i=oI(e.timestampValue),n=oI(t.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return o_(e.bytesValue).isEqual(o_(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return oC(e.geoPointValue.latitude)===oC(t.geoPointValue.latitude)&&oC(e.geoPointValue.longitude)===oC(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oC(e.integerValue)===oC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let i=oC(e.doubleValue),n=oC(t.doubleValue);return i===n?oR(i)===oR(n):isNaN(i)&&isNaN(n)}return!1}(e,t);case 9:return ot(e.arrayValue.values||[],t.arrayValue.values||[],oP);case 10:return function(e,t){let i=e.mapValue.fields||{},n=t.mapValue.fields||{};if(om(i)!==om(n))return!1;for(let e in i)if(i.hasOwnProperty(e)&&(void 0===n[e]||!oP(i[e],n[e])))return!1;return!0}(e,t);default:return aY()}}function oF(e,t){return void 0!==(e.values||[]).find(e=>oP(e,t))}function oz(e,t){if(e===t)return 0;let i=oO(e),n=oO(t);if(i!==n)return oe(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return oe(e.booleanValue,t.booleanValue);case 2:return function(e,t){let i=oC(e.integerValue||e.doubleValue),n=oC(t.integerValue||t.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(e,t);case 3:return oU(e.timestampValue,t.timestampValue);case 4:return oU(oL(e),oL(t));case 5:return oe(e.stringValue,t.stringValue);case 6:return function(e,t){let i=o_(e),n=o_(t);return i.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let i=e.split("/"),n=t.split("/");for(let e=0;e<i.length&&e<n.length;e++){let t=oe(i[e],n[e]);if(0!==t)return t}return oe(i.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let i=oe(oC(e.latitude),oC(t.latitude));return 0!==i?i:oe(oC(e.longitude),oC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let i=e.values||[],n=t.values||[];for(let e=0;e<i.length&&e<n.length;++e){let t=oz(i[e],n[e]);if(t)return t}return oe(i.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===oD.mapValue&&t===oD.mapValue)return 0;if(e===oD.mapValue)return 1;if(t===oD.mapValue)return -1;let i=e.fields||{},n=Object.keys(i),r=t.fields||{},s=Object.keys(r);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){let t=oe(n[e],s[e]);if(0!==t)return t;let a=oz(i[n[e]],r[s[e]]);if(0!==a)return a}return oe(n.length,s.length)}(e.mapValue,t.mapValue);default:throw aY()}}function oU(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return oe(e,t);let i=oI(e),n=oI(t),r=oe(i.seconds,n.seconds);return 0!==r?r:oe(i.nanos,n.nanos)}function oB(e){var t,i;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=oI(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?o_(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,ol.fromName(i).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",i=!0;for(let n of e.values||[])i?i=!1:t+=",",t+=oB(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),i="{",n=!0;for(let r of t)n?n=!1:i+=",",i+=`${r}:${oB(e.fields[r])}`;return i+"}"}(e.mapValue):aY()}function oV(e){return!!e&&"integerValue"in e}function oj(e){return!!e&&"arrayValue"in e}function oW(e){return!!e&&"nullValue"in e}function oq(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oH(e){return!!e&&"mapValue"in e}function o$(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return og(e.mapValue.fields,(e,i)=>t.mapValue.fields[e]=o$(i)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=o$(e.arrayValue.values[i]);return t}return Object.assign({},e)}function oG(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class oX{static empty(){return new oX({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(!oH(t=(t.mapValue.fields||{})[e.get(i)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=o$(t)}setAll(e){let t=oo.emptyPath(),i={},n=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){let e=this.getFieldsMap(t);this.applyChanges(e,i,n),i={},n=[],t=r.popLast()}e?i[r.lastSegment()]=o$(e):n.push(r.lastSegment())});let r=this.getFieldsMap(t);this.applyChanges(r,i,n)}delete(e){let t=this.field(e.popLast());oH(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oP(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let n=t.mapValue.fields[e.get(i)];oH(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,i){for(let n of(og(t,(t,i)=>e[t]=i),i))delete e[n]}clone(){return new oX(o$(this.value))}constructor(e){this.value=e}}class oK{static newInvalidDocument(e){return new oK(e,0,on.min(),on.min(),oX.empty(),0)}static newFoundDocument(e,t,i){return new oK(e,1,t,on.min(),i,0)}static newNoDocument(e,t){return new oK(e,2,t,on.min(),oX.empty(),0)}static newUnknownDocument(e,t){return new oK(e,3,t,on.min(),oX.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oX.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oX.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oK&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oK(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}constructor(e,t,i,n,r,s){this.key=e,this.documentType=t,this.version=i,this.readTime=n,this.data=r,this.documentState=s}}class oQ{constructor(e,t=null,i=[],n=[],r=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=s,this.endAt=a,this.ht=null}}function oY(e,t=null,i=[],n=[],r=null,s=null,a=null){return new oQ(e,t,i,n,r,s,a)}function oJ(e){if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:"+e.filters.map(e=>e.field.canonicalString()+e.op.toString()+oB(e.value)).join(",")+"|ob:"+e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:"+e.limit),e.startAt&&(t+="|lb:"+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>oB(e)).join(",")),e.endAt&&(t+="|ub:"+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>oB(e)).join(",")),e.ht=t}return e.ht}function oZ(e,t){var i,n,r,s;if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(r=e.orderBy[i],s=t.orderBy[i],!(r.dir===s.dir&&r.field.isEqual(s.field)))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(i=e.filters[r],n=t.filters[r],i.op!==n.op||!i.field.isEqual(n.field)||!oP(i.value,n.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ln(e.startAt,t.startAt)&&ln(e.endAt,t.endAt)}function o0(e){return ol.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class o1 extends class{}{static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new o2(e,t,i):"array-contains"===t?new o9(e,i):"in"===t?new o4(e,i):"not-in"===t?new o8(e,i):"array-contains-any"===t?new o7(e,i):new o1(e,t,i)}static lt(e,t,i){return"in"===t?new o5(e,i):new o6(e,i)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(oz(t,this.value)):null!==t&&oO(this.value)===oO(t)&&this.ft(oz(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aY()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}}class o2 extends o1{matches(e){let t=ol.comparator(e.key,this.key);return this.ft(t)}constructor(e,t,i){super(e,t,i),this.key=ol.fromName(i.referenceValue)}}class o5 extends o1{matches(e){return this.keys.some(t=>t.isEqual(e.key))}constructor(e,t){super(e,"in",t),this.keys=o3("in",t)}}class o6 extends o1{matches(e){return!this.keys.some(t=>t.isEqual(e.key))}constructor(e,t){super(e,"not-in",t),this.keys=o3("not-in",t)}}function o3(e,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(e=>ol.fromName(e.referenceValue))}class o9 extends o1{matches(e){let t=e.data.field(this.field);return oj(t)&&oF(t.arrayValue,this.value)}constructor(e,t){super(e,"array-contains",t)}}class o4 extends o1{matches(e){let t=e.data.field(this.field);return null!==t&&oF(this.value.arrayValue,t)}constructor(e,t){super(e,"in",t)}}class o8 extends o1{matches(e){if(oF(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!oF(this.value.arrayValue,t)}constructor(e,t){super(e,"not-in",t)}}class o7 extends o1{matches(e){let t=e.data.field(this.field);return!(!oj(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>oF(this.value.arrayValue,e))}constructor(e,t){super(e,"array-contains-any",t)}}class le{constructor(e,t){this.position=e,this.inclusive=t}}class lt{constructor(e,t="asc"){this.field=e,this.dir=t}}function li(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let s=t[r],a=e.position[r];if(n=s.field.isKeyField()?ol.comparator(ol.fromName(a.referenceValue),i.key):oz(a,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function ln(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!oP(e.position[i],t.position[i]))return!1;return!0}class lr{constructor(e,t=null,i=[],n=[],r=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=n,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this._t=null,this.wt=null,this.startAt,this.endAt}}function ls(e){return new lr(e)}function la(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lo(e){if(null===e._t){e._t=[];let t=function(e){for(let t of e.filters)if(t.dt())return t.field;return null}(e),i=e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null;if(null!==t&&null===i)t.isKeyField()||e._t.push(new lt(t)),e._t.push(new lt(oo.keyField(),"asc"));else{let t=!1;for(let i of e.explicitOrderBy)e._t.push(i),i.field.isKeyField()&&(t=!0);if(!t){let t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new lt(oo.keyField(),t))}}}return e._t}function ll(e){if(!e.wt){if("F"===e.limitType)e.wt=oY(e.path,e.collectionGroup,lo(e),e.filters,e.limit,e.startAt,e.endAt);else{let t=[];for(let i of lo(e)){let e="desc"===i.dir?"asc":"desc";t.push(new lt(i.field,e))}let i=e.endAt?new le(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new le(e.startAt.position,e.startAt.inclusive):null;e.wt=oY(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}return e.wt}function lc(e,t,i){return new lr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function lu(e,t){return oZ(ll(e),ll(t))&&e.limitType===t.limitType}function lh(e){return`${oJ(ll(e))}|lt:${e.limitType}`}function ld(e){var t;let i;return`Query(target=${i=(t=ll(e)).path.canonicalString(),null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(e=>`${e.field.canonicalString()} ${e.op} ${oB(e.value)}`).join(", ")}]`),null==t.limit||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(i+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>oB(e)).join(",")),t.endAt&&(i+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>oB(e)).join(",")),`Target(${i})`}; limitType=${e.limitType})`}function lf(e,t){return t.isFoundDocument()&&function(e,t){let i=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):ol.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(e,t)&&function(e,t){for(let i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1;return!0}(e,t)&&function(e,t){for(let i of e.filters)if(!i.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,i){let n=li(e,t,i);return e.inclusive?n<=0:n<0}(e.startAt,lo(e),t))&&(!e.endAt||!!function(e,t,i){let n=li(e,t,i);return e.inclusive?n>=0:n>0}(e.endAt,lo(e),t))}function lp(e){return(t,i)=>{let n=!1;for(let r of lo(e)){let e=function(e,t,i){let n=e.field.isKeyField()?ol.comparator(t.key,i.key):function(e,t,i){let n=t.data.field(e),r=i.data.field(e);return null!==n&&null!==r?oz(n,r):aY()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return aY()}}(r,t,i);if(0!==e)return e;n=n||r.field.isKeyField()}return 0}}function lm(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oR(t)?"-0":t}}function lg(e){return{integerValue:""+e}}class ly{constructor(){this._=void 0}}function lv(e,t){return e instanceof lT?oV(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class lb extends ly{}class lw extends ly{constructor(e){super(),this.elements=e}}function lx(e,t){let i=lI(t);for(let t of e.elements)i.some(e=>oP(e,t))||i.push(t);return{arrayValue:{values:i}}}class lk extends ly{constructor(e){super(),this.elements=e}}function lE(e,t){let i=lI(t);for(let t of e.elements)i=i.filter(e=>!oP(e,t));return{arrayValue:{values:i}}}class lT extends ly{constructor(e,t){super(),this.It=e,this.yt=t}}function lS(e){return oC(e.integerValue||e.doubleValue)}function lI(e){return oj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lC{constructor(e,t){this.field=e,this.transform=t}}class l_{constructor(e,t){this.version=e,this.transformResults=t}}class lN{static none(){return new lN}static exists(e){return new lN(void 0,e)}static updateTime(e){return new lN(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}constructor(e,t){this.updateTime=e,this.exists=t}}function lL(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lA{}function lM(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lB(e.key,lN.none()):new lO(e.key,e.data,lN.none());{let i=e.data,n=oX.empty(),r=new ox(oo.comparator);for(let e of t.fields)if(!r.has(e)){let t=i.field(e);null===t&&e.length>1&&(e=e.popLast(),t=i.field(e)),null===t?n.delete(e):n.set(e,t),r=r.add(e)}return new lP(e.key,n,new oE(r.toArray()),lN.none())}}function lR(e,t,i,n){return e instanceof lO?function(e,t,i,n){if(!lL(e.precondition,t))return i;let r=e.value.clone(),s=lU(e.fieldTransforms,n,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,i,n):e instanceof lP?function(e,t,i,n){if(!lL(e.precondition,t))return i;let r=lU(e.fieldTransforms,n,t),s=t.data;return(s.setAll(lF(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===i)?null:i.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,i,n):lL(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):i}function lD(e,t){var i,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(i=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===i&&void 0===n||!(!i||!n)&&ot(i,n,(e,t)=>{var i,n;return e.field.isEqual(t.field)&&(i=e.transform,n=t.transform,i instanceof lw&&n instanceof lw||i instanceof lk&&n instanceof lk?ot(i.elements,n.elements,oP):i instanceof lT&&n instanceof lT?oP(i.yt,n.yt):i instanceof lb&&n instanceof lb)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lO extends lA{getFieldMask(){return null}constructor(e,t,i,n=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=n,this.type=0}}class lP extends lA{getFieldMask(){return this.fieldMask}constructor(e,t,i,n,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=n,this.fieldTransforms=r,this.type=1}}function lF(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function lz(e,t,i){var n;let r=new Map;e.length===i.length||aY();for(let s=0;s<i.length;s++){let a=e[s],o=a.transform,l=t.data.field(a.field);r.set(a.field,(n=i[s],o instanceof lw?lx(o,l):o instanceof lk?lE(o,l):n))}return r}function lU(e,t,i){let n=new Map;for(let r of e){let e=r.transform,s=i.data.field(r.field);n.set(r.field,e instanceof lb?function(e,t){let i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(i.fields.__previous_value__=t),{mapValue:i}}(t,s):e instanceof lw?lx(e,s):e instanceof lk?lE(e,s):function(e,t){let i=lv(e,t),n=lS(i)+lS(e.yt);return oV(i)&&oV(e.yt)?lg(n):lm(e.It,n)}(e,s))}return n}class lB extends lA{getFieldMask(){return null}constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class lV extends lA{getFieldMask(){return null}constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class lj{constructor(e){this.count=e}}function lW(e){if(void 0===e)return aX("GRPC error has no .code"),aJ.UNKNOWN;switch(e){case d.OK:return aJ.OK;case d.CANCELLED:return aJ.CANCELLED;case d.UNKNOWN:return aJ.UNKNOWN;case d.DEADLINE_EXCEEDED:return aJ.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return aJ.RESOURCE_EXHAUSTED;case d.INTERNAL:return aJ.INTERNAL;case d.UNAVAILABLE:return aJ.UNAVAILABLE;case d.UNAUTHENTICATED:return aJ.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return aJ.INVALID_ARGUMENT;case d.NOT_FOUND:return aJ.NOT_FOUND;case d.ALREADY_EXISTS:return aJ.ALREADY_EXISTS;case d.PERMISSION_DENIED:return aJ.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return aJ.FAILED_PRECONDITION;case d.ABORTED:return aJ.ABORTED;case d.OUT_OF_RANGE:return aJ.OUT_OF_RANGE;case d.UNIMPLEMENTED:return aJ.UNIMPLEMENTED;case d.DATA_LOSS:return aJ.DATA_LOSS;default:return aY()}}(f=d||(d={}))[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS";class lq{get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i){for(let[t,n]of i)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let i=this.mapKeyFn(e),n=this.inner[i];if(void 0===n)return this.inner[i]=[[e,t]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return 1===i.length?delete this.inner[t]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(e){og(this.inner,(t,i)=>{for(let[t,n]of i)e(t,n)})}isEmpty(){return oy(this.inner)}size(){return this.innerSize}constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}}const lH=new ov(ol.comparator),l$=new ov(ol.comparator);function lG(...e){let t=l$;for(let i of e)t=t.insert(i.key,i);return t}function lX(e){let t=l$;return e.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function lK(){return new lq(e=>e.toString(),(e,t)=>e.isEqual(t))}const lQ=new ov(ol.comparator),lY=new ox(ol.comparator);function lJ(...e){let t=lY;for(let i of e)t=t.add(i);return t}const lZ=new ox(oe);class l0{static createSynthesizedRemoteEventForCurrentChange(e,t,i){let n=new Map;return n.set(e,l1.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new l0(on.min(),n,lZ,lH,lJ())}constructor(e,t,i,n,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=r}}class l1{static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new l1(i,t,lJ(),lJ(),lJ())}constructor(e,t,i,n,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=r}}class l2{constructor(e,t,i,n){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=n}}class l5{constructor(e,t){this.targetId=e,this.At=t}}class l6{constructor(e,t,i=oT.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=n}}class l3{get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=lJ(),t=lJ(),i=lJ();return this.bt.forEach((n,r)=>{switch(r){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:i=i.add(n);break;default:aY()}}),new l1(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=l8()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}constructor(){this.Rt=0,this.bt=l8(),this.Pt=oT.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}}class l9{Gt(e){for(let t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(let t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{let i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:aY()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((e,i)=>{this.Ht(i)&&t(i)})}Yt(e){let t=e.targetId,i=e.At.count,n=this.Xt(t);if(n){let e=n.target;if(o0(e)){if(0===i){let i=new ol(e.path);this.jt(t,i,oK.newNoDocument(i,on.min()))}else 1===i||aY()}else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){let t=new Map;this.Lt.forEach((i,n)=>{let r=this.Xt(n);if(r){if(i.current&&o0(r.target)){let t=new ol(r.target.path);null!==this.Ut.get(t)||this.ee(n,t)||this.jt(n,t,oK.newNoDocument(t,e))}i.Dt&&(t.set(n,i.xt()),i.Nt())}});let i=lJ();this.qt.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.Xt(e);return!t||2===t.purpose||(n=!1,!1)}),n&&(i=i.add(e))}),this.Ut.forEach((t,i)=>i.setReadTime(e));let n=new l0(e,t,this.Kt,this.Ut,i);return this.Ut=lH,this.qt=l4(),this.Kt=new ox(oe),n}Qt(e,t){if(!this.Ht(e))return;let i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;let n=this.zt(e);this.ee(e,t)?n.kt(t,1):n.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){let t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new l3,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ox(oe),this.qt=this.qt.insert(e,t)),t}Ht(e){let t=null!==this.Xt(e);return t||aG("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){let t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new l3),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=lH,this.qt=l4(),this.Kt=new ox(oe)}}function l4(){return new ov(ol.comparator)}function l8(){return new ov(ol.comparator)}const l7={asc:"ASCENDING",desc:"DESCENDING"},ce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ct{constructor(e,t){this.databaseId=e,this.gt=t}}function ci(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cn(e,t){return e.gt?t.toBase64():t.toUint8Array()}function cr(e){return e||aY(),on.fromTimestamp(function(e){let t=oI(e);return new oi(t.seconds,t.nanos)}(e))}function cs(e,t){return new os(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function ca(e){let t=os.fromString(e);return cm(t)||aY(),t}function co(e,t){return cs(e.databaseId,t.path)}function cl(e,t){let i=ca(t);if(i.get(1)!==e.databaseId.projectId)throw new aZ(aJ.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new aZ(aJ.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new ol(ch(i))}function cc(e,t){return cs(e.databaseId,t)}function cu(e){return new os(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ch(e){return e.length>4&&"documents"===e.get(4)||aY(),e.popFirst(5)}function cd(e,t,i){return{name:co(e,t),fields:i.value.mapValue.fields}}function cf(e){return{fieldPath:e.canonicalString()}}function cp(e){return oo.fromServerFormat(e.fieldPath)}function cm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cg{applyToRemoteDocument(e,t){let i=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];if(r.key.isEqual(e.key)){var n;n=i[t],r instanceof lO?function(e,t,i){let n=e.value.clone(),r=lz(e.fieldTransforms,t,i.transformResults);n.setAll(r),t.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(r,e,n):r instanceof lP?function(e,t,i){if(!lL(e.precondition,t))return void t.convertToUnknownDocument(i.version);let n=lz(e.fieldTransforms,t,i.transformResults),r=t.data;r.setAll(lF(e)),r.setAll(n),t.convertToFoundDocument(i.version,r).setHasCommittedMutations()}(r,e,n):function(e,t,i){t.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=lR(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=lR(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=lK();return this.mutations.forEach(n=>{let r=e.get(n.key),s=r.overlayedDocument,a=this.applyToLocalView(s,r.mutatedFields);a=t.has(n.key)?null:a;let o=lM(s,a);null!==o&&i.set(n.key,o),s.isValidDocument()||s.convertToNoDocument(on.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lJ())}isEqual(e){return this.batchId===e.batchId&&ot(this.mutations,e.mutations,(e,t)=>lD(e,t))&&ot(this.baseMutations,e.baseMutations,(e,t)=>lD(e,t))}constructor(e,t,i,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=n}}class cy{static from(e,t,i){e.mutations.length===i.length||aY();let n=lQ,r=e.mutations;for(let e=0;e<r.length;e++)n=n.insert(r[e].key,i[e].version);return new cy(e,t,i,n)}constructor(e,t,i,n){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=n}}class cv{getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}constructor(e,t){this.largestBatchId=e,this.mutation=t}}class cb{withSequenceNumber(e){return new cb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}constructor(e,t,i,n,r=on.min(),s=on.min(),a=oT.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}}class cw{constructor(e){this.re=e}}class cx{ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(oC(e.integerValue));else if("doubleValue"in e){let i=oC(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),oR(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){let i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(o_(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?oG(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):aY()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){let i=e.fields||{};for(let e of(this.le(t,55),Object.keys(i)))this._e(e,t),this.ae(i[e],t)}pe(e,t){let i=e.values||[];for(let e of(this.le(t,50),i))this.ae(e,t)}ge(e,t){this.le(t,37),ol.fromName(e).path.forEach(e=>{this.le(t,60),this.Ie(e,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}constructor(){}}cx.Te=new cx;class ck{addToCollectionParentIndex(e,t){return this.Ye.add(t),od.resolve()}getCollectionParents(e,t){return od.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return od.resolve()}deleteFieldIndex(e,t){return od.resolve()}getDocumentsMatchingTarget(e,t){return od.resolve(null)}getIndexType(e,t){return od.resolve(0)}getFieldIndexes(e,t){return od.resolve([])}getNextCollectionGroupToUpdate(e){return od.resolve(null)}getMinOffset(e,t){return od.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,t){return od.resolve(oc.min())}updateCollectionGroup(e,t,i){return od.resolve()}updateIndexEntries(e,t){return od.resolve()}constructor(){this.Ye=new cE}}class cE{add(e){let t=e.lastSegment(),i=e.popLast(),n=this.index[t]||new ox(os.comparator),r=!n.has(i);return this.index[t]=n.add(i),r}has(e){let t=e.lastSegment(),i=e.popLast(),n=this.index[t];return n&&n.has(i)}getEntries(e){return(this.index[e]||new ox(os.comparator)).toArray()}constructor(){this.index={}}}new Uint8Array(0);class cT{static withCacheSize(e){return new cT(e,cT.DEFAULT_COLLECTION_PERCENTILE,cT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}cT.DEFAULT_COLLECTION_PERCENTILE=10,cT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cT.DEFAULT=new cT(41943040,cT.DEFAULT_COLLECTION_PERCENTILE,cT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cT.DISABLED=new cT(-1,0,0);class cS{next(){return this.bn+=2,this.bn}static Pn(){return new cS(0)}static vn(){return new cS(-1)}constructor(e){this.bn=e}}class cI{addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oK.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return void 0!==i?od.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}constructor(){this.changes=new lq(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}}class cC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class c_{getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(i=n,this.getBaseDocument(e,t,i))).next(e=>(null!==i&&lR(i.mutation,e,oE.empty(),oi.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lJ()).next(()=>t))}getLocalViewOfDocuments(e,t,i=lJ()){let n=lK();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,i).next(e=>{let t=lG();return e.forEach((e,i)=>{t=t.insert(e,i.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let i=lK();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,lJ()))}populateOverlays(e,t,i){let n=[];return i.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,i)=>{t.set(e,i)})})}computeViews(e,t,i,n){let r=lH,s=lK(),a=lK();return t.forEach((e,t)=>{let a=i.get(t.key);n.has(t.key)&&(void 0===a||a.mutation instanceof lP)?r=r.insert(t.key,t):void 0!==a&&(s.set(t.key,a.mutation.getFieldMask()),lR(a.mutation,t,a.mutation.getFieldMask(),oi.now()))}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var i;return a.set(e,new cC(t,null!==(i=s.get(e))&&void 0!==i?i:null))}),a))}recalculateAndSaveOverlays(e,t){let i=lK(),n=new ov((e,t)=>e-t),r=lJ();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let r of e)r.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=i.get(e)||oE.empty();a=r.applyToLocalView(s,a),i.set(e,a);let o=(n.get(r.batchId)||lJ()).add(e);n=n.insert(r.batchId,o)})}).next(()=>{let s=[],a=n.getReverseIterator();for(;a.hasNext();){let n=a.getNext(),o=n.key,l=n.value,c=lK();l.forEach(e=>{if(!r.has(e)){let n=lM(t.get(e),i.get(e));null!==n&&c.set(e,n),r=r.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return od.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,i){return ol.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i)}getNextDocuments(e,t,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,n).next(r=>{let s=n-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,n-r.size):od.resolve(lK()),a=-1,o=r;return s.next(t=>od.forEach(t,(t,i)=>(a<i.largestBatchId&&(a=i.largestBatchId),r.get(t)?od.resolve():this.getBaseDocument(e,t,i).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,lJ())).next(e=>({batchId:a,changes:lX(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ol(t)).next(e=>{let t=lG();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,i){let n=t.collectionGroup,r=lG();return this.indexManager.getCollectionParents(e,n).next(s=>od.forEach(s,s=>{var a;let o=(a=s.child(n),new lr(a,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt));return this.getDocumentsMatchingCollectionQuery(e,o,i).next(e=>{e.forEach((e,t)=>{r=r.insert(e,t)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,t,i){let n;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(r=>(n=r,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(e=>{e.forEach((e,t)=>{let i=t.getKey();null===n.get(i)&&(n=n.insert(i,oK.newInvalidDocument(i)))});let i=lG();return n.forEach((n,r)=>{let s=e.get(n);void 0!==s&&lR(s.mutation,r,oE.empty(),oi.now()),lf(t,r)&&(i=i.insert(n,r))}),i})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):od.resolve(oK.newInvalidDocument(t))}constructor(e,t,i,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=n}}class cN{getBundleMetadata(e,t){return od.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){return this.Zn.set(t.id,{id:t.id,version:t.version,createTime:cr(t.createTime)}),od.resolve()}getNamedQuery(e,t){return od.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:t.name,query:function(e){let t=function(e){var t,i,n,r,s,a,o,l;let c,u=function(e){let t=ca(e);return 4===t.length?os.emptyPath():ch(t)}(e.parent),h=e.structuredQuery,d=h.from?h.from.length:0,f=null;if(d>0){1===d||aY();let e=h.from[0];e.allDescendants?f=e.collectionId:u=u.child(e.collectionId)}let p=[];h.where&&(p=function e(t){return t?void 0!==t.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=cp(e.unaryFilter.field);return o1.create(t,"==",{doubleValue:NaN});case"IS_NULL":let i=cp(e.unaryFilter.field);return o1.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=cp(e.unaryFilter.field);return o1.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let r=cp(e.unaryFilter.field);return o1.create(r,"!=",{nullValue:"NULL_VALUE"});default:return aY()}}(t)]:void 0!==t.fieldFilter?[o1.create(cp(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return aY()}}(t.fieldFilter.op),t.fieldFilter.value)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>e(t)).reduce((e,t)=>e.concat(t)):aY():[]}(h.where));let m=[];h.orderBy&&(m=h.orderBy.map(e=>new lt(cp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let g=null;h.limit&&(g=null==(c="object"==typeof(t=h.limit)?t.value:t)?null:c);let y=null;h.startAt&&(y=function(e){let t=!!e.before,i=e.values||[];return new le(i,t)}(h.startAt));let v=null;return h.endAt&&(v=function(e){let t=!e.before,i=e.values||[];return new le(i,t)}(h.endAt)),i=u,n=f,r=m,s=p,a=g,o=y,l=v,new lr(i,n,r,s,a,"F",o,l)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lc(t,t.limit,"L"):t}(t.bundledQuery),readTime:cr(t.readTime)}),od.resolve()}constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}}class cL{getOverlay(e,t){return od.resolve(this.overlays.get(t))}getOverlays(e,t){let i=lK();return od.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&i.set(t,e)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((i,n)=>{this.ue(e,t,n)}),od.resolve()}removeOverlaysForBatchId(e,t,i){let n=this.es.get(i);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(i)),od.resolve()}getOverlaysForCollection(e,t,i){let n=lK(),r=t.length+1,s=new ol(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>i&&n.set(e.getKey(),e)}return od.resolve(n)}getOverlaysForCollectionGroup(e,t,i,n){let r=new ov((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>i){let t=r.get(e.largestBatchId);null===t&&(t=lK(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=lK(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=n)););return od.resolve(a)}ue(e,t,i){let n=this.overlays.get(i.key);if(null!==n){let e=this.es.get(n.largestBatchId).delete(i.key);this.es.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(i.key,new cv(t,i));let r=this.es.get(t);void 0===r&&(r=lJ(),this.es.set(t,r)),this.es.set(t,r.add(i.key))}constructor(){this.overlays=new ov(ol.comparator),this.es=new Map}}class cA{isEmpty(){return this.ns.isEmpty()}addReference(e,t){let i=new cM(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new cM(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){let t=new ol(new os([])),i=new cM(t,e),n=new cM(t,e+1),r=[];return this.rs.forEachInRange([i,n],e=>{this.cs(e),r.push(e.key)}),r}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){let t=new ol(new os([])),i=new cM(t,e),n=new cM(t,e+1),r=lJ();return this.rs.forEachInRange([i,n],e=>{r=r.add(e.key)}),r}containsKey(e){let t=new cM(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}constructor(){this.ns=new ox(cM.ss),this.rs=new ox(cM.os)}}class cM{static ss(e,t){return ol.comparator(e.key,t.key)||oe(e._s,t._s)}static os(e,t){return oe(e._s,t._s)||ol.comparator(e.key,t.key)}constructor(e,t){this.key=e,this._s=t}}class cR{checkEmpty(e){return od.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,n){let r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cg(r,t,i,n);for(let t of(this.mutationQueue.push(s),n))this.gs=this.gs.add(new cM(t.key,r)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return od.resolve(s)}lookupMutationBatch(e,t){return od.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){let i=this.ps(t+1),n=i<0?0:i;return od.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return od.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return od.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new cM(t,0),n=new cM(t,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([i,n],e=>{let t=this.ys(e._s);r.push(t)}),od.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ox(oe);return t.forEach(e=>{let t=new cM(e,0),n=new cM(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,n],e=>{i=i.add(e._s)})}),od.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,n=i.length+1,r=i;ol.isDocumentKey(r)||(r=r.child(""));let s=new cM(new ol(r),0),a=new ox(oe);return this.gs.forEachWhile(e=>{let t=e.key.path;return!!i.isPrefixOf(t)&&(t.length===n&&(a=a.add(e._s)),!0)},s),od.resolve(this.Is(a))}Is(e){let t=[];return e.forEach(e=>{let i=this.ys(e);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){0===this.Ts(t.batchId,"removed")||aY(),this.mutationQueue.shift();let i=this.gs;return od.forEach(t.mutations,n=>{let r=new cM(n.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){let i=new cM(t,0),n=this.gs.firstAfterOrEqual(i);return od.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,od.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){let t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ox(cM.ss)}}class cD{setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,n=this.docs.get(i),r=n?n.size:0,s=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return od.resolve(i?i.document.mutableCopy():oK.newInvalidDocument(t))}getEntries(e,t){let i=lH;return t.forEach(e=>{let t=this.docs.get(e);i=i.insert(e,t?t.document.mutableCopy():oK.newInvalidDocument(e))}),od.resolve(i)}getAllFromCollection(e,t,i){let n=lH,r=new ol(t.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){let{key:e,value:{document:r}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||0>=function(e,t){let i=e.readTime.compareTo(t.readTime);return 0!==i?i:0!==(i=ol.comparator(e.documentKey,t.documentKey))?i:oe(e.largestBatchId,t.largestBatchId)}(new oc(r.readTime,r.key,-1),i)||(n=n.insert(r.key,r.mutableCopy()))}return od.resolve(n)}getAllFromCollectionGroup(e,t,i,n){aY()}As(e,t){return od.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cO(this)}getSize(e){return od.resolve(this.size)}constructor(e){this.Es=e,this.docs=new ov(ol.comparator),this.size=0}}class cO extends cI{applyChanges(e){let t=[];return this.changes.forEach((i,n)=>{n.isValidDocument()?t.push(this.Yn.addEntry(e,n)):this.Yn.removeEntry(i)}),od.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}constructor(e){super(),this.Yn=e}}class cP{forEachTarget(e,t){return this.Rs.forEach((e,i)=>t(i)),od.resolve()}getLastRemoteSnapshotVersion(e){return od.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return od.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),od.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),od.resolve()}Dn(e){this.Rs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.vs=new cS(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,od.resolve()}updateTargetData(e,t){return this.Dn(t),od.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,od.resolve()}removeTargets(e,t,i){let n=0,r=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),od.waitFor(r).next(()=>n)}getTargetCount(e){return od.resolve(this.targetCount)}getTargetData(e,t){let i=this.Rs.get(t)||null;return od.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),od.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);let n=this.persistence.referenceDelegate,r=[];return n&&t.forEach(t=>{r.push(n.markPotentiallyOrphaned(e,t))}),od.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),od.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Ps.ds(t);return od.resolve(i)}containsKey(e,t){return od.resolve(this.Ps.containsKey(t))}constructor(e){this.persistence=e,this.Rs=new lq(e=>oJ(e),oZ),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cA,this.targetCount=0,this.vs=cS.Pn()}}class cF{start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new cR(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){aG("MemoryPersistence","Starting transaction:",e);let n=new cz(this.Ss.next());return this.referenceDelegate.ks(),i(n).next(e=>this.referenceDelegate.Os(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ms(e,t){return od.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}constructor(e,t){this.Vs={},this.overlays={},this.Ss=new op(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cP(this),this.indexManager=new ck,this.remoteDocumentCache=new cD(e=>this.referenceDelegate.xs(e)),this.It=new cw(t),this.Ns=new cN(this.It)}}class cz extends ou{constructor(e){super(),this.currentSequenceNumber=e}}class cU{static Bs(e){return new cU(e)}get Ls(){if(this.$s)return this.$s;throw aY()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),od.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),od.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),od.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return od.forEach(this.Ls,i=>{let n=ol.fromPath(i);return this.Us(e,n).next(e=>{e||t.removeEntry(n,on.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return od.or([()=>od.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}constructor(e){this.persistence=e,this.Fs=new cA,this.$s=null}}class cB{static Ci(e,t){let i=lJ(),n=lJ();for(let e of t.docChanges)switch(e.type){case 0:i=i.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new cB(e,t.fromCache,i,n)}constructor(e,t,i,n){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=n}}class cV{initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,n){return this.ki(e,t).next(r=>r||this.Oi(e,t,n,i)).next(i=>i||this.Mi(e,t))}ki(e,t){if(la(t))return od.resolve(null);let i=ll(t);return this.indexManager.getIndexType(e,i).next(n=>0===n?null:(null!==t.limit&&1===n&&(i=ll(t=lc(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,i).next(n=>{let r=lJ(...n);return this.Ni.getDocuments(e,r).next(n=>this.indexManager.getMinOffset(e,i).next(i=>{let s=this.Fi(t,n);return this.$i(t,s,r,i.readTime)?this.ki(e,lc(t,null,"F")):this.Bi(e,s,t,i)}))})))}Oi(e,t,i,n){return la(t)||n.isEqual(on.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(r=>{let s=this.Fi(t,r);return this.$i(t,s,i,n)?this.Mi(e,t):(a$()<=nA.DEBUG&&aG("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ld(t)),this.Bi(e,s,t,function(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=on.fromTimestamp(1e9===n?new oi(i+1,0):new oi(i,n));return new oc(r,ol.empty(),-1)}(n,0)))})}Fi(e,t){let i=new ox(lp(e));return t.forEach((t,n)=>{lf(e,n)&&(i=i.add(n))}),i}$i(e,t,i,n){if(null===e.limit)return!1;if(i.size!==t.size)return!0;let r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Mi(e,t){return a$()<=nA.DEBUG&&aG("QueryEngine","Using full collection scan to execute query:",ld(t)),this.Ni.getDocumentsMatchingQuery(e,t,oc.min())}Bi(e,t,i,n){return this.Ni.getDocumentsMatchingQuery(e,i,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}constructor(){this.xi=!1}}class cj{Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}constructor(e,t,i,n){this.persistence=e,this.Li=t,this.It=n,this.Ui=new ov(oe),this.qi=new lq(e=>oJ(e),oZ),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}}async function cW(e,t){return await e.persistence.runTransaction("Handle user change","readonly",i=>{let n;return e.mutationQueue.getAllMutationBatches(i).next(r=>(n=r,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(t=>{let r=[],s=[],a=lJ();for(let e of n)for(let t of(r.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(i,a).next(e=>({ji:e,removedBatchIds:r,addedBatchIds:s}))})})}function cq(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}async function cH(e,t,i){let n=e.Ui.get(t);try{i||await e.persistence.runTransaction("Release target",i?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,n))}catch(e){if(!of(e))throw e;aG("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.Ui=e.Ui.remove(t),e.qi.delete(n.target)}function c$(e,t,i){let n=on.min(),r=lJ();return e.persistence.runTransaction("Execute query","readonly",s=>(function(e,t,i){let n=e.qi.get(i);return void 0!==n?od.resolve(e.Ui.get(n)):e.Cs.getTargetData(t,i)})(e,s,ll(t)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,e.Cs.getMatchingKeysForTargetId(s,t.targetId).next(e=>{r=e})}).next(()=>e.Li.getDocumentsMatchingQuery(s,t,i?n:on.min(),i?r:lJ())).next(i=>{var n;let s;return n=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),s=e.Ki.get(n)||on.min(),i.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),e.Ki.set(n,s),{documents:i,Hi:r}}))}class cG{er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}constructor(){this.activeTargetIds=lZ}}class cX{addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cG,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}constructor(){this.Lr=new cG,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}}class cK{qr(e){}shutdown(){}}class cQ{qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){for(let e of(aG("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.Wr))e(0)}jr(){for(let e of(aG("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.Wr))e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}}const cY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cJ{Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}}class cZ extends class{get co(){return!1}ao(e,t,i,n,r){let s=this.ho(e,t);aG("RestConnection","Sending: ",s,i);let a={};return this.lo(a,n,r),this.fo(e,s,a,i).then(e=>(aG("RestConnection","Received: ",e),e),t=>{throw aK("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",i),t})}_o(e,t,i,n,r,s){return this.ao(e,t,i,n,r)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+aq,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,i)=>e[i]=t),i&&i.headers.forEach((t,i)=>e[i]=t)}ho(e,t){let i=cY[e];return`${this.oo}/v1/${t}:${i}`}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}}{fo(e,t,i,n){return new Promise((r,s)=>{let a=new aV;a.setWithCredentials(!0),a.listenOnce(aP.COMPLETE,()=>{var t;try{switch(a.getLastErrorCode()){case aO.NO_ERROR:let i=a.getResponseJson();aG("Connection","XHR received:",JSON.stringify(i)),r(i);break;case aO.TIMEOUT:aG("Connection",'RPC "'+e+'" timed out'),s(new aZ(aJ.DEADLINE_EXCEEDED,"Request time out"));break;case aO.HTTP_ERROR:let n=a.getStatus();if(aG("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);let i=null===(t=e)||void 0===t?void 0:t.error;if(i&&i.status&&i.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(aJ).indexOf(t)>=0?t:aJ.UNKNOWN}(i.status);s(new aZ(e,i.message))}else s(new aZ(aJ.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new aZ(aJ.UNAVAILABLE,"Connection failed."));break;default:aY()}}finally{aG("Connection",'RPC "'+e+'" completed.')}});let o=JSON.stringify(n);a.send(t,"POST",o,i,15)})}wo(e,t,i){let n=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=aR(),s=aD(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new aU({})),this.lo(a.initMessageHeaders,t,i),a.encodeInitMessageHeaders=!0;let o=n.join("");aG("Connection","Creating WebChannel: "+o,a);let l=r.createWebChannel(o,a),c=!1,u=!1,h=new cJ({Hr:e=>{u?aG("Connection","Not sending because WebChannel is closed:",e):(c||(aG("Connection","Opening WebChannel transport."),l.open(),c=!0),aG("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),f=(e,t,i)=>{e.listen(t,e=>{try{i(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(l,aB.EventType.OPEN,()=>{u||aG("Connection","WebChannel transport opened.")}),f(l,aB.EventType.CLOSE,()=>{u||(u=!0,aG("Connection","WebChannel transport closed"),h.io())}),f(l,aB.EventType.ERROR,e=>{u||(u=!0,aK("Connection","WebChannel transport errored:",e),h.io(new aZ(aJ.UNAVAILABLE,"The operation could not be completed")))}),f(l,aB.EventType.MESSAGE,e=>{var t;if(!u){let i=e.data[0];i||aY();let n=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(n){aG("Connection","WebChannel received error:",n);let e=n.status,t=function(e){let t=d[e];if(void 0!==t)return lW(t)}(e),i=n.message;void 0===t&&(t=aJ.INTERNAL,i="Unknown error status: "+e+" with message "+n.message),u=!0,h.io(new aZ(t,i)),l.close()}else aG("Connection","WebChannel received:",i),h.ro(i)}}),f(s,aF.STAT_EVENT,e=>{e.stat===az.PROXY?aG("Connection","Detected buffering proxy"):e.stat===az.NOPROXY&&aG("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}}function c0(){return"undefined"!=typeof document?document:null}function c1(e){return new ct(e,!0)}class c2{reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();let t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),n=Math.max(0,t-i);n>0&&aG("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,n,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}constructor(e,t,i=1e3,n=1.5,r=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=n,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}}class c5{No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===aJ.RESOURCE_EXHAUSTED?(aX(t.toString()),aX("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===aJ.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;let e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,i])=>{this.So===t&&this.Go(e,i)},t=>{e(()=>{let e=new aZ(aJ.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)})})}Go(e,t){let i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{i(()=>this.Qo(e))}),this.stream.onMessage(e=>{i(()=>this.onMessage(e))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return aG("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(aG("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}constructor(e,t,i,n,r,s,a,o){this.Hs=e,this.vo=i,this.Vo=n,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new c2(e,t)}}class c6 extends c5{jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();let t=function(e,t){let i;if("targetChange"in t){var n,r;t.targetChange;let s="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:aY(),a=t.targetChange.targetIds||[],o=(r=t.targetChange.resumeToken,e.gt?(void 0===r||"string"==typeof r||aY(),oT.fromBase64String(r||"")):(void 0===r||r instanceof Uint8Array||aY(),oT.fromUint8Array(r||new Uint8Array))),l=t.targetChange.cause,c=l&&function(e){let t=void 0===e.code?aJ.UNKNOWN:lW(e.code);return new aZ(t,e.message||"")}(l);i=new l6(s,a,o,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=cl(e,n.document.name),s=cr(n.document.updateTime),a=new oX({mapValue:{fields:n.document.fields}}),o=oK.newFoundDocument(r,s,a),l=n.targetIds||[],c=n.removedTargetIds||[];i=new l2(l,c,o.key,o)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=cl(e,n.document),s=n.readTime?cr(n.readTime):on.min(),a=oK.newNoDocument(r,s),o=n.removedTargetIds||[];i=new l2([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=cl(e,n.document),s=n.removedTargetIds||[];i=new l2([],s,r,null)}else{if(!("filter"in t))return aY();{t.filter;let e=t.filter;e.targetId;let n=e.count||0,r=new lj(n),s=e.targetId;i=new l5(s,r)}}return i}(this.It,e),i=function(e){if(!("targetChange"in e))return on.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?on.min():t.readTime?cr(t.readTime):on.min()}(e);return this.listener.Wo(t,i)}zo(e){let t={};t.database=cu(this.It),t.addTarget=function(e,t){let i;let n=t.target;return(i=o0(n)?{documents:{documents:[cc(e,n.path)]}}:{query:function(e,t){var i,n,r;let s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(s.parent=cc(e,a),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=cc(e,a.popLast()),s.structuredQuery.from=[{collectionId:a.lastSegment()}]);let o=function(e){if(0===e.length)return;let t=e.map(e=>(function(e){if("=="===e.op){if(oq(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NAN"}};if(oW(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oq(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NAN"}};if(oW(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(e.field),op:ce[e.op],value:e.value}}})(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);o&&(s.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:cf(e.field),direction:l7[e.dir]}))}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let c=(n=t.limit,e.gt||null==n?n:{value:n});return null!==c&&(s.structuredQuery.limit=c),t.startAt&&(s.structuredQuery.startAt={before:(i=t.startAt).inclusive,values:i.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),s}(e,n)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?i.resumeToken=cn(e,t.resumeToken):t.snapshotVersion.compareTo(on.min())>0&&(i.readTime=ci(e,t.snapshotVersion.toTimestamp())),i}(this.It,e);let i=function(e,t){let i=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return aY()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(this.It,e);i&&(t.labels=i),this.Bo(t)}Ho(e){let t={};t.database=cu(this.It),t.removeTarget=e,this.Bo(t)}constructor(e,t,i,n,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,n,s),this.It=r}}class c3 extends c5{get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){var t,i;if(e.streamToken||aY(),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();let n=(t=e.writeResults,i=e.commitTime,t&&t.length>0?(void 0!==i||aY(),t.map(e=>{let t;return(t=e.updateTime?cr(e.updateTime):cr(i)).isEqual(on.min())&&(t=cr(i)),new l_(t,e.transformResults||[])})):[]),r=cr(e.commitTime);return this.listener.Zo(r,n)}return e.writeResults&&0!==e.writeResults.length&&aY(),this.Jo=!0,this.listener.tu()}eu(){let e={};e.database=cu(this.It),this.Bo(e)}Xo(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var i;let n;if(t instanceof lO)n={update:cd(e,t.key,t.value)};else if(t instanceof lB)n={delete:co(e,t.key)};else if(t instanceof lP)n={update:cd(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof lV))return aY();n={verify:co(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let i=t.transform;if(i instanceof lb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof lw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof lk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof lT)return{fieldPath:t.field.canonicalString(),increment:i.yt};throw aY()})(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:ci(e,i.updateTime.toTimestamp())}:void 0!==i.exists?{exists:i.exists}:aY()),n})(this.It,e))};this.Bo(t)}constructor(e,t,i,n,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,n,s),this.It=r,this.Jo=!1}}class c9 extends class{}{su(){if(this.nu)throw new aZ(aJ.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([n,r])=>this.connection.ao(e,t,i,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aJ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aZ(aJ.UNKNOWN,e.toString())})}_o(e,t,i,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection._o(e,t,i,r,s,n)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aJ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aZ(aJ.UNKNOWN,e.toString())})}terminate(){this.nu=!0}constructor(e,t,i,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=n,this.nu=!1}}class c4{uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(aX(t),this.ou=!1):aG("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}}class c8{constructor(e,t,i,n,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.qr(e=>{i.enqueueAndForget(async()=>{uo(this)&&(aG("RemoteStore","Restarting streams for network reachability change."),await async function(e){e._u.add(4),await ue(e),e.gu.set("Unknown"),e._u.delete(4),await c7(e)}(this))})}),this.gu=new c4(i,n)}}async function c7(e){if(uo(e))for(let t of e.wu)await t(!0)}async function ue(e){for(let t of e.wu)await t(!1)}function ut(e,t){e.du.has(t.targetId)||(e.du.set(t.targetId,t),ua(e)?us(e):uk(e).ko()&&un(e,t))}function ui(e,t){let i=uk(e);e.du.delete(t),i.ko()&&ur(e,t),0===e.du.size&&(i.ko()?i.Fo():uo(e)&&e.gu.set("Unknown"))}function un(e,t){e.yu.Mt(t.targetId),uk(e).zo(t)}function ur(e,t){e.yu.Mt(t),uk(e).Ho(t)}function us(e){e.yu=new l9({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),uk(e).start(),e.gu.uu()}function ua(e){return uo(e)&&!uk(e).No()&&e.du.size>0}function uo(e){return 0===e._u.size}async function ul(e){e.du.forEach((t,i)=>{un(e,t)})}async function uc(e,t){e.yu=void 0,ua(e)?(e.gu.hu(t),us(e)):e.gu.set("Unknown")}async function uu(e,t,i){if(e.gu.set("Online"),t instanceof l6&&2===t.state&&t.cause)try{await async function(e,t){let i=t.cause;for(let n of t.targetIds)e.du.has(n)&&(await e.remoteSyncer.rejectListen(n,i),e.du.delete(n),e.yu.removeTarget(n))}(e,t)}catch(i){aG("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await uh(e,i)}else if(t instanceof l2?e.yu.Gt(t):t instanceof l5?e.yu.Yt(t):e.yu.Wt(t),!i.isEqual(on.min()))try{let t=await cq(e.localStore);i.compareTo(t)>=0&&await function(e,t){let i=e.yu.te(t);return i.targetChanges.forEach((i,n)=>{if(i.resumeToken.approximateByteSize()>0){let r=e.du.get(n);r&&e.du.set(n,r.withResumeToken(i.resumeToken,t))}}),i.targetMismatches.forEach(t=>{let i=e.du.get(t);if(!i)return;e.du.set(t,i.withResumeToken(oT.EMPTY_BYTE_STRING,i.snapshotVersion)),ur(e,t);let n=new cb(i.target,t,1,i.sequenceNumber);un(e,n)}),e.remoteSyncer.applyRemoteEvent(i)}(e,i)}catch(t){aG("RemoteStore","Failed to raise snapshot:",t),await uh(e,t)}}async function uh(e,t,i){if(!of(t))throw t;e._u.add(1),await ue(e),e.gu.set("Offline"),i||(i=()=>cq(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{aG("RemoteStore","Retrying IndexedDB access"),await i(),e._u.delete(1),await c7(e)})}function ud(e,t){return t().catch(i=>uh(e,i,t))}async function uf(e){let t=uE(e),i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;uo(e)&&e.fu.length<10;)try{let n=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}(e.localStore,i);if(null===n){0===e.fu.length&&t.Fo();break}i=n.batchId,function(e,t){e.fu.push(t);let i=uE(e);i.ko()&&i.Yo&&i.Xo(t.mutations)}(e,n)}catch(t){await uh(e,t)}up(e)&&um(e)}function up(e){return uo(e)&&!uE(e).No()&&e.fu.length>0}function um(e){uE(e).start()}async function ug(e){uE(e).eu()}async function uy(e){let t=uE(e);for(let i of e.fu)t.Xo(i.mutations)}async function uv(e,t,i){let n=e.fu.shift(),r=cy.from(n,t,i);await ud(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await uf(e)}async function ub(e,t){t&&uE(e).Yo&&await async function(e,t){var i;if(function(e){switch(e){default:return aY();case aJ.CANCELLED:case aJ.UNKNOWN:case aJ.DEADLINE_EXCEEDED:case aJ.RESOURCE_EXHAUSTED:case aJ.INTERNAL:case aJ.UNAVAILABLE:case aJ.UNAUTHENTICATED:return!1;case aJ.INVALID_ARGUMENT:case aJ.NOT_FOUND:case aJ.ALREADY_EXISTS:case aJ.PERMISSION_DENIED:case aJ.FAILED_PRECONDITION:case aJ.ABORTED:case aJ.OUT_OF_RANGE:case aJ.UNIMPLEMENTED:case aJ.DATA_LOSS:return!0}}(i=t.code)&&i!==aJ.ABORTED){let i=e.fu.shift();uE(e).Mo(),await ud(e,()=>e.remoteSyncer.rejectFailedWrite(i.batchId,t)),await uf(e)}}(e,t),up(e)&&um(e)}async function uw(e,t){e.asyncQueue.verifyOperationInProgress(),aG("RemoteStore","RemoteStore received new credentials");let i=uo(e);e._u.add(3),await ue(e),i&&e.gu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),await c7(e)}async function ux(e,t){t?(e._u.delete(2),await c7(e)):t||(e._u.add(2),await ue(e),e.gu.set("Unknown"))}function uk(e){var t,i,n;return e.pu||(e.pu=(t=e.datastore,i=e.asyncQueue,n={Yr:ul.bind(null,e),Zr:uc.bind(null,e),Wo:uu.bind(null,e)},t.su(),new c6(i,t.connection,t.authCredentials,t.appCheckCredentials,t.It,n)),e.wu.push(async t=>{t?(e.pu.Mo(),ua(e)?us(e):e.gu.set("Unknown")):(await e.pu.stop(),e.yu=void 0)})),e.pu}function uE(e){var t,i,n;return e.Iu||(e.Iu=(t=e.datastore,i=e.asyncQueue,n={Yr:ug.bind(null,e),Zr:ub.bind(null,e),tu:uy.bind(null,e),Zo:uv.bind(null,e)},t.su(),new c3(i,t.connection,t.authCredentials,t.appCheckCredentials,t.It,n)),e.wu.push(async t=>{t?(e.Iu.Mo(),await uf(e)):(await e.Iu.stop(),e.fu.length>0&&(aG("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}class uT{static createAndSchedule(e,t,i,n,r){let s=Date.now()+i,a=new uT(e,t,s,n,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new aZ(aJ.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}constructor(e,t,i,n,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=n,this.removalCallback=r,this.deferred=new a0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}}function uS(e,t){if(aX("AsyncQueue",`${t}: ${e}`),of(e))return new aZ(aJ.UNAVAILABLE,`${t}: ${e}`);throw e}class uI{static emptySet(e){return new uI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uI)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=i.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let i=new uI;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ol.comparator(t.key,i.key):(e,t)=>ol.comparator(e.key,t.key),this.keyedMap=lG(),this.sortedSet=new ov(this.comparator)}}class uC{track(e){let t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):aY():this.Tu=this.Tu.insert(t,e)}Eu(){let e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}constructor(){this.Tu=new ov(ol.comparator)}}class u_{static fromInitialDocuments(e,t,i,n,r){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new u_(e,t,uI.emptySet(t),s,i,n,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==i[e].type||!t[e].doc.isEqual(i[e].doc))return!1;return!0}constructor(e,t,i,n,r,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}}class uN{constructor(){this.Au=void 0,this.listeners=[]}}class uL{constructor(){this.queries=new lq(e=>lh(e),lu),this.onlineState="Unknown",this.Ru=new Set}}async function uA(e,t){let i=t.query,n=!1,r=e.queries.get(i);if(r||(n=!0,r=new uN),n)try{r.Au=await e.onListen(i)}catch(i){let e=uS(i,`Initialization of query '${ld(t.query)}' failed`);return void t.onError(e)}e.queries.set(i,r),r.listeners.push(t),t.bu(e.onlineState),r.Au&&t.Pu(r.Au)&&uO(e)}async function uM(e,t){let i=t.query,n=!1,r=e.queries.get(i);if(r){let e=r.listeners.indexOf(t);e>=0&&(r.listeners.splice(e,1),n=0===r.listeners.length)}if(n)return e.queries.delete(i),e.onUnlisten(i)}function uR(e,t){let i=!1;for(let n of t){let t=n.query,r=e.queries.get(t);if(r){for(let e of r.listeners)e.Pu(n)&&(i=!0);r.Au=n}}i&&uO(e)}function uD(e,t,i){let n=e.queries.get(t);if(n)for(let e of n.listeners)e.onError(i);e.queries.delete(t)}function uO(e){e.Ru.forEach(e=>{e.next()})}class uP{Pu(e){if(!this.options.includeMetadataChanges){let t=[];for(let i of e.docChanges)3!==i.type&&t.push(i);e=new u_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;let t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=u_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}}class uF{constructor(e){this.key=e}}class uz{constructor(e){this.key=e}}class uU{get ju(){return this.Uu}Wu(e,t){let i=t?t.zu:new uC,n=t?t.Qu:this.Qu,r=t?t.mutatedKeys:this.mutatedKeys,s=n,a=!1,o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let c=n.get(e),u=lf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(i.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(i.track({type:2,doc:u}),f=!0,(o&&this.Gu(u,o)>0||l&&0>this.Gu(u,l))&&(a=!0)):!c&&u?(i.track({type:0,doc:u}),f=!0):c&&!u&&(i.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),i.track({type:1,doc:e})}return{Qu:s,zu:i,$i:a,mutatedKeys:r}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){let n=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;let r=e.zu.Eu();r.sort((e,t)=>(function(e,t){let i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aY()}};return i(e)-i(t)})(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(i);let s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,o=a!==this.qu;return(this.qu=a,0!==r.length||o)?{snapshot:new u_(this.query,e.Qu,n,r,e.mutatedKeys,0===a,o,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new uC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];let e=this.Ku;this.Ku=lJ(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});let t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new uz(e))}),this.Ku.forEach(i=>{e.has(i)||t.push(new uF(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=lJ();let t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return u_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=lJ(),this.mutatedKeys=lJ(),this.Gu=lp(e),this.Qu=new uI(this.Gu)}}class uB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class uV{constructor(e){this.key=e,this.nc=!1}}class uj{get isPrimaryClient(){return!0===this.dc}constructor(e,t,i,n,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new lq(e=>lh(e),lu),this.rc=new Map,this.oc=new Set,this.uc=new ov(ol.comparator),this.cc=new Map,this.ac=new cA,this.hc={},this.lc=new Map,this.fc=cS.vn(),this.onlineState="Unknown",this.dc=void 0}}async function uW(e,t){var i,n;let r,s;let a=(e.remoteStore.remoteSyncer.applyRemoteEvent=uG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uK.bind(null,e),e.sc.Wo=uR.bind(null,e.eventManager),e.sc.wc=uD.bind(null,e.eventManager),e),o=a.ic.get(t);if(o)r=o.targetId,a.sharedClientState.addLocalQueryTarget(r),s=o.view.ec();else{let e=await (i=a.localStore,n=ll(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Cs.getTargetData(e,n).next(r=>r?(t=r,od.resolve(t)):i.Cs.allocateTargetId(e).next(r=>(t=new cb(n,r,0,e.currentSequenceNumber),i.Cs.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.Ui.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.Ui=i.Ui.insert(e.targetId,e),i.qi.set(n,e.targetId)),e}));a.isPrimaryClient&&ut(a.remoteStore,e);let o=a.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await uq(a,t,r,"current"===o,e.resumeToken)}return s}async function uq(e,t,i,n,r){e._c=(t,i,n)=>(async function(e,t,i,n){let r=t.view.Wu(i);r.$i&&(r=await c$(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,r)));let s=n&&n.targetChanges.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,s);return u2(e,t.targetId,a.Xu),a.snapshot})(e,t,i,n);let s=await c$(e.localStore,t,!0),a=new uU(t,s.Hi),o=a.Wu(s.documents),l=l1.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);u2(e,i,c.Xu);let u=new uB(t,i,a);return e.ic.set(t,u),e.rc.has(i)?e.rc.get(i).push(t):e.rc.set(i,[t]),c.snapshot}async function uH(e,t){let i=e.ic.get(t),n=e.rc.get(i.targetId);if(n.length>1)return e.rc.set(i.targetId,n.filter(e=>!lu(e,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||await cH(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ui(e.remoteStore,i.targetId),u0(e,i.targetId)}).catch(oh)):(u0(e,i.targetId),await cH(e.localStore,i.targetId,!0))}async function u$(e,t,i){var n;let r=(e.remoteStore.remoteSyncer.applySuccessfulWrite=uQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uY.bind(null,e),e);try{let e;let s=await function(e,t){let i,n;let r=oi.now(),s=t.reduce((e,t)=>e.add(t.key),lJ());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let o=lH,l=lJ();return e.Gi.getEntries(a,s).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,o)).next(n=>{i=n;let s=[];for(let e of t){let t=function(e,t){let i=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),r=lv(n.transform,e||null);null!=r&&(null===i&&(i=oX.empty()),i.set(n.field,r))}return i||null}(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new lP(e.key,t,function e(t){let i=[];return og(t.fields,(t,n)=>{let r=new oo([t]);if(oH(n)){let t=e(n.mapValue).fields;if(0===t.length)i.push(r);else for(let e of t)i.push(r.child(e))}else i.push(r)}),new oE(i)}(t.value.mapValue),lN.exists(!0)))}return e.mutationQueue.addMutationBatch(a,r,s,t)}).next(t=>{n=t;let r=t.applyToLocalDocumentSet(i,l);return e.documentOverlayCache.saveOverlays(a,t.batchId,r)})}).then(()=>({batchId:n.batchId,changes:lX(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),n=s.batchId,(e=r.hc[r.currentUser.toKey()])||(e=new ov(oe)),e=e.insert(n,i),r.hc[r.currentUser.toKey()]=e,await u6(r,s.changes),await uf(r.remoteStore)}catch(t){let e=uS(t,"Failed to persist write");i.reject(e)}}async function uG(e,t){try{let i=await function(e,t){let i=t.snapshotVersion,n=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{var s;let a,o;let l=e.Gi.newChangeBuffer({trackRemovals:!0});n=e.Ui;let c=[];t.targetChanges.forEach((s,a)=>{var o;let l=n.get(a);if(!l)return;c.push(e.Cs.removeMatchingKeys(r,s.removedDocuments,a).next(()=>e.Cs.addMatchingKeys(r,s.addedDocuments,a)));let u=l.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(oT.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,i)),n=n.insert(a,u),o=u,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&c.push(e.Cs.updateTargetData(r,u))});let u=lH,h=lJ();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(r,i))}),c.push((s=t.documentUpdates,a=lJ(),o=lJ(),s.forEach(e=>a=a.add(e)),l.getEntries(r,a).next(e=>{let t=lH;return s.forEach((i,n)=>{let r=e.get(i);n.isFoundDocument()!==r.isFoundDocument()&&(o=o.add(i)),n.isNoDocument()&&n.version.isEqual(on.min())?(l.removeEntry(i,n.readTime),t=t.insert(i,n)):!r.isValidDocument()||n.version.compareTo(r.version)>0||0===n.version.compareTo(r.version)&&r.hasPendingWrites?(l.addEntry(n),t=t.insert(i,n)):aG("LocalStore","Ignoring outdated watch update for ",i,". Current version:",r.version," Watch version:",n.version)}),{Wi:t,zi:o}})).next(e=>{u=e.Wi,h=e.zi})),!i.isEqual(on.min())){let t=e.Cs.getLastRemoteSnapshotVersion(r).next(t=>e.Cs.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(t)}return od.waitFor(c).next(()=>l.apply(r)).next(()=>e.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(t=>(e.Ui=n,t))}(e.localStore,t);t.targetChanges.forEach((t,i)=>{let n=e.cc.get(i);n&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||aY(),t.addedDocuments.size>0?n.nc=!0:t.modifiedDocuments.size>0?n.nc||aY():t.removedDocuments.size>0&&(n.nc||aY(),n.nc=!1))}),await u6(e,i,t)}catch(e){await oh(e)}}function uX(e,t,i){var n;if(e.isPrimaryClient&&0===i||!e.isPrimaryClient&&1===i){let i;let r=[];e.ic.forEach((e,i)=>{let n=i.view.bu(t);n.snapshot&&r.push(n.snapshot)}),(n=e.eventManager).onlineState=t,i=!1,n.queries.forEach((e,n)=>{for(let e of n.listeners)e.bu(t)&&(i=!0)}),i&&uO(n),r.length&&e.sc.Wo(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function uK(e,t,i){e.sharedClientState.updateQueryState(t,"rejected",i);let n=e.cc.get(t),r=n&&n.key;if(r){let i=new ov(ol.comparator);i=i.insert(r,oK.newNoDocument(r,on.min()));let n=lJ().add(r),s=new l0(on.min(),new Map,new ox(oe),i,n);await uG(e,s),e.uc=e.uc.remove(r),e.cc.delete(t),u5(e)}else await cH(e.localStore,t,!1).then(()=>u0(e,t,i)).catch(oh)}async function uQ(e,t){var i;let n=t.batch.batchId;try{let r=await (i=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),r=i.Gi.newChangeBuffer({trackRemovals:!0});return(function(e,t,i,n){let r=i.batch,s=r.keys(),a=od.resolve();return s.forEach(e=>{a=a.next(()=>n.getEntry(t,e)).next(t=>{let s=i.docVersions.get(e);null!==s||aY(),0>t.version.compareTo(s)&&(r.applyToRemoteDocument(t,i),t.isValidDocument()&&(t.setReadTime(i.commitVersion),n.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,r))})(i,e,t,r).next(()=>r.apply(e)).next(()=>i.mutationQueue.performConsistencyCheck(e)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lJ();for(let i=0;i<e.mutationResults.length;++i)e.mutationResults[i].transformResults.length>0&&(t=t.add(e.batch.mutations[i].key));return t}(t))).next(()=>i.localDocuments.getDocuments(e,n))});uZ(e,n,null),uJ(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await u6(e,r)}catch(e){await oh(e)}}async function uY(e,t,i){var n;try{let r=await (n=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||aY(),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>n.localDocuments.getDocuments(e,i))});uZ(e,t,i),uJ(e,t),e.sharedClientState.updateMutationState(t,"rejected",i),await u6(e,r)}catch(e){await oh(e)}}function uJ(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function uZ(e,t,i){let n=e.hc[e.currentUser.toKey()];if(n){let r=n.get(t);r&&(i?r.reject(i):r.resolve(),n=n.remove(t)),e.hc[e.currentUser.toKey()]=n}}function u0(e,t,i=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.rc.get(t)))e.ic.delete(n),i&&e.sc.wc(n,i);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||u1(e,t)})}function u1(e,t){e.oc.delete(t.path.canonicalString());let i=e.uc.get(t);null!==i&&(ui(e.remoteStore,i),e.uc=e.uc.remove(t),e.cc.delete(i),u5(e))}function u2(e,t,i){for(let n of i)n instanceof uF?(e.ac.addReference(n.key,t),function(e,t){let i=t.key,n=i.path.canonicalString();e.uc.get(i)||e.oc.has(n)||(aG("SyncEngine","New document in limbo: "+i),e.oc.add(n),u5(e))}(e,n)):n instanceof uz?(aG("SyncEngine","Document no longer in limbo: "+n.key),e.ac.removeReference(n.key,t),e.ac.containsKey(n.key)||u1(e,n.key)):aY()}function u5(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){let t=e.oc.values().next().value;e.oc.delete(t);let i=new ol(os.fromString(t)),n=e.fc.next();e.cc.set(n,new uV(i)),e.uc=e.uc.insert(i,n),ut(e.remoteStore,new cb(ll(ls(i.path)),n,2,op.at))}}async function u6(e,t,i){let n=[],r=[],s=[];e.ic.isEmpty()||(e.ic.forEach((a,o)=>{s.push(e._c(o,t,i).then(t=>{if((t||i)&&e.isPrimaryClient&&e.sharedClientState.updateQueryState(o.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){n.push(t);let e=cB.Ci(o.targetId,t);r.push(e)}}))}),await Promise.all(s),e.sc.Wo(n),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",i=>od.forEach(t,t=>od.forEach(t.Si,n=>e.persistence.referenceDelegate.addReference(i,t.targetId,n)).next(()=>od.forEach(t.Di,n=>e.persistence.referenceDelegate.removeReference(i,t.targetId,n)))))}catch(e){if(!of(e))throw e;aG("LocalStore","Failed to update sequence numbers: "+e)}for(let i of t){let t=i.targetId;if(!i.fromCache){let i=e.Ui.get(t),n=i.snapshotVersion,r=i.withLastLimboFreeSnapshotVersion(n);e.Ui=e.Ui.insert(t,r)}}}(e.localStore,r))}async function u3(e,t){if(!e.currentUser.isEqual(t)){aG("SyncEngine","User change. New user:",t.toKey());let i=await cW(e.localStore,t);e.currentUser=t,e.lc.forEach(e=>{e.forEach(e=>{e.reject(new aZ(aJ.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await u6(e,i.ji)}}function u9(e,t){let i=e.cc.get(t);if(i&&i.nc)return lJ().add(i.key);{let i=lJ(),n=e.rc.get(t);if(!n)return i;for(let t of n){let n=e.ic.get(t);i=i.unionWith(n.view.ju)}return i}}class u4{async initialize(e){this.It=c1(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){var t,i,n,r;return t=this.persistence,i=new cV,n=e.initialUser,r=this.It,new cj(t,i,n,r)}yc(e){return new cF(cU.Bs,this.It)}gc(e){return new cX}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}constructor(){this.synchronizeTabs=!1}}class u8{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uX(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=u3.bind(null,this.syncEngine),await ux(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new uL}createDatastore(e){var t,i,n;let r=c1(e.databaseInfo.databaseId),s=(t=e.databaseInfo,new cZ(t));return i=e.authCredentials,n=e.appCheckCredentials,new c9(i,n,s,r)}createRemoteStore(e){var t,i,n,r;return t=this.localStore,i=this.datastore,n=e.asyncQueue,r=cQ.C()?new cQ:new cK,new c8(t,i,n,e=>uX(this.syncEngine,e,0),r)}createSyncEngine(e,t){return function(e,t,i,n,r,s,a){let o=new uj(e,t,i,n,r,s);return a&&(o.dc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){aG("RemoteStore","RemoteStore shutting down."),e._u.add(5),await ue(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}function u7(e){if(!ol.isDocumentKey(e))throw new aZ(aJ.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function he(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let i=(t=e).constructor?t.constructor.name:null;return i?`a custom ${i} object`:"an object"}}return"function"==typeof e?"a function":aY()}function ht(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new aZ(aJ.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=he(e);throw new aZ(aJ.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}const hi=new Map;class hn{isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new aZ(aJ.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new aZ(aJ.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,i,n){if(!0===t&&!0===n)throw new aZ(aJ.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}}class hr{get app(){if(!this._app)throw new aZ(aJ.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new aZ(aJ.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hn(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new a2;switch(e.type){case"gapi":let t=e.client;return new a9(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new aZ(aJ.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=hi.get(e);t&&(aG("ComponentProvider","Removing Datastore"),hi.delete(e),t.terminate())}(this),Promise.resolve()}constructor(e,t,i,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hn({}),this._settingsFrozen=!1}}class hs{get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}}class ha{withConverter(e){return new ha(this.firestore,e,this._query)}constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}}class ho extends ha{get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new ol(e))}withConverter(e){return new ho(this.firestore,e,this._path)}constructor(e,t,i){super(e,t,ls(i)),this._path=i,this.type="collection"}}function hl(e,t,...i){if(e=eu(e),1==arguments.length&&(t=a7.R()),function(e,t,i){if(!i)throw new aZ(aJ.INVALID_ARGUMENT,`Function doc() cannot be called with an empty ${t}.`)}(0,"path",t),e instanceof hr){let n=os.fromString(t,...i);return u7(n),new hs(e,null,new ol(n))}{if(!(e instanceof hs||e instanceof ho))throw new aZ(aJ.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(os.fromString(t,...i));return u7(n),new hs(e.firestore,e instanceof ho?e.converter:null,new ol(n))}}class hc{next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):aX("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}constructor(e){this.observer=e,this.muted=!1}}class hu{async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new aZ(aJ.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new a0;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let t=uS(i,"Failed to shutdown persistence");e.reject(t)}}),e.promise}constructor(e,t,i,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=n,this.user=aW.UNAUTHENTICATED,this.clientId=a7.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async e=>{aG("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(i,e=>(aG("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}}async function hh(e,t){e.asyncQueue.verifyOperationInProgress(),aG("FirestoreClient","Initializing OfflineComponentProvider");let i=await e.getConfiguration();await t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await cW(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function hd(e,t){e.asyncQueue.verifyOperationInProgress();let i=await hf(e);aG("FirestoreClient","Initializing OnlineComponentProvider");let n=await e.getConfiguration();await t.initialize(i,n),e.setCredentialChangeListener(e=>uw(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,i)=>uw(t.remoteStore,i)),e.onlineComponents=t}async function hf(e){return e.offlineComponents||(aG("FirestoreClient","Using default OfflineComponentProvider"),await hh(e,new u4)),e.offlineComponents}async function hp(e){return e.onlineComponents||(aG("FirestoreClient","Using default OnlineComponentProvider"),await hd(e,new u8)),e.onlineComponents}async function hm(e){let t=await hp(e),i=t.eventManager;return i.onListen=uW.bind(null,t.syncEngine),i.onUnlisten=uH.bind(null,t.syncEngine),i}class hg{get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;let t=c0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});let t=new a0;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!of(e))throw e;aG("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){let t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{let t;this.Kc=e,this.Gc=!1;let i=(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t);throw aX("INTERNAL UNHANDLED ERROR: ",i),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);let n=uT.createAndSchedule(this,e,t,i,e=>this.Yc(e));return this.qc.push(n),n}zc(){this.Kc&&aY()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(let t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{for(let t of(this.qc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.qc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){let t=this.qc.indexOf(e);this.qc.splice(t,1)}constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new c2(this,"async_queue_retry"),this.Wc=()=>{let e=c0();e&&aG("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};let e=c0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}}function hy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])}class hv extends hr{_terminate(){return this._firestoreClient||hw(this),this._firestoreClient.terminate()}constructor(e,t,i,n){super(e,t,i,n),this.type="firestore",this._queue=new hg,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}}function hb(e){return e._firestoreClient||hw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hw(e){var t,i,n,r;let s=e._freezeSettings(),a=(i=e._databaseId,n=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",r=e._persistenceKey,new oA(i,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));e._firestoreClient=new hu(e._authCredentials,e._appCheckCredentials,e._queue,a)}class hx{static fromBase64String(e){try{return new hx(oT.fromBase64String(e))}catch(e){throw new aZ(aJ.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hx(oT.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}constructor(e){this._byteString=e}}class hk{isEqual(e){return this._internalPath.isEqual(e._internalPath)}constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new aZ(aJ.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oo(e)}}class hE{constructor(e){this._methodName=e}}class hT{get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new aZ(aJ.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new aZ(aJ.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}}const hS=/^__.*__$/;class hI{toMutation(e,t){return null!==this.fieldMask?new lP(e,this.data,this.fieldMask,t,this.fieldTransforms):new lO(e,this.data,t,this.fieldTransforms)}constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}}class hC{toMutation(e,t){return new lP(e,this.data,this.fieldMask,t,this.fieldTransforms)}constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}}function h_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aY()}}class hN{get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new hN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;let i=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:i,oa:!1});return n.ua(e),n}ca(e){var t;let i=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:i,oa:!1});return n.na(),n}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return hW(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(h_(this.sa)&&hS.test(e))throw this.ha('Document fields cannot begin and end with "__"')}constructor(e,t,i,n,r,s){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=n,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}}class hL{da(e,t,i,n=!1){return new hN({sa:e,methodName:t,fa:i,path:oo.emptyPath(),oa:!1,la:n},this.databaseId,this.It,this.ignoreUndefinedProperties)}constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||c1(e)}}function hA(e){let t=e._freezeSettings(),i=c1(e._databaseId);return new hL(e._databaseId,!!t.ignoreUndefinedProperties,i)}class hM extends hE{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hM}}function hR(e,t,i){return new hN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:i},t.databaseId,t.It,t.ignoreUndefinedProperties)}class hD extends hE{_toFieldTransform(e){let t=hR(this,e,!0),i=this._a.map(e=>hP(e,t)),n=new lw(i);return new lC(e.path,n)}isEqual(e){return this===e}constructor(e,t){super(e),this._a=t}}class hO extends hE{_toFieldTransform(e){let t=hR(this,e,!0),i=this._a.map(e=>hP(e,t)),n=new lk(i);return new lC(e.path,n)}isEqual(e){return this===e}constructor(e,t){super(e),this._a=t}}function hP(e,t){if(hz(e=eu(e)))return hU("Unsupported field value:",t,e),hF(e,t);if(e instanceof hE)return function(e,t){if(!h_(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);let i=e._toFieldTransform(t);i&&t.fieldTransforms.push(i)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){let i=[],n=0;for(let r of e){let e=hP(r,t.aa(n));null==e&&(e={nullValue:"NULL_VALUE"}),i.push(e),n++}return{arrayValue:{values:i}}}(e,t)}return function(e,t){if(null===(e=eu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e){var i,n,r;return i=t.It,"number"==typeof(r=n=e)&&Number.isInteger(r)&&!oR(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER?lg(n):lm(i,n)}if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let i=oi.fromDate(e);return{timestampValue:ci(t.It,i)}}if(e instanceof oi){let i=new oi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ci(t.It,i)}}if(e instanceof hT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hx)return{bytesValue:cn(t.It,e._byteString)};if(e instanceof hs){let i=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(i))throw t.ha(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${he(e)}`)}(e,t)}function hF(e,t){let i={};return oy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):og(e,(e,n)=>{let r=hP(n,t.ra(e));null!=r&&(i[e]=r)}),{mapValue:{fields:i}}}function hz(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oi||e instanceof hT||e instanceof hx||e instanceof hs||e instanceof hE)}function hU(e,t,i){if(!hz(i)||!("object"==typeof i&&null!==i&&(Object.getPrototypeOf(i)===Object.prototype||null===Object.getPrototypeOf(i)))){let n=he(i);throw"an object"===n?t.ha(e+" a custom object"):t.ha(e+" "+n)}}function hB(e,t,i){if((t=eu(t))instanceof hk)return t._internalPath;if("string"==typeof t)return hj(e,t);throw hW("Field path arguments must be of type string or ",e,!1,void 0,i)}const hV=RegExp("[~\\*/\\[\\]]");function hj(e,t,i){if(t.search(hV)>=0)throw hW(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new hk(...t.split("."))._internalPath}catch(n){throw hW(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function hW(e,t,i,n,r){let s=n&&!n.isEmpty(),a=void 0!==r,o=`Function ${t}() called with invalid data`;i&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${r}`),l+=")"),new aZ(aJ.INVALID_ARGUMENT,o+e+l)}function hq(e,t){return e.some(e=>e.isEqual(t))}class hH{get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new h$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hG("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}constructor(e,t,i,n,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=n,this._converter=r}}class h$ extends hH{data(){return super.data()}}function hG(e,t){return"string"==typeof t?hj(e,t):t instanceof hk?t._internalPath:t._delegate._internalPath}class hX{convertValue(e,t="none"){switch(oO(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(o_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw aY()}}convertObject(e,t){let i={};return og(e.fields,(e,n)=>{i[e]=this.convertValue(n,t)}),i}convertGeoPoint(e){return new hT(oC(e.latitude),oC(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=function e(t){let i=t.mapValue.fields.__previous_value__;return oN(i)?e(i):i}(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(oL(e));default:return null}}convertTimestamp(e){let t=oI(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=os.fromString(e);cm(i)||aY();let n=new oM(i.get(1),i.get(3)),r=new ol(i.popFirst(5));return n.isEqual(t)||aX(`Document ${r} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}class hK{isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}}class hQ extends hH{exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(hG("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}constructor(e,t,i,n,r,s){super(e,t,i,n,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}}class hY extends hQ{data(e={}){return super.data(e)}}class hJ{get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new hY(this._firestore,this._userDataWriter,i.key,i,new hK(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new aZ(aJ.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(i=>{let n=new hY(e._firestore,e._userDataWriter,i.doc.key,i.doc,new hK(e._snapshot.mutatedKeys.has(i.doc.key),e._snapshot.fromCache),e.query.converter);return i.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let i=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let n=new hY(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hK(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),r=-1,s=-1;return 0!==t.type&&(r=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(s=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aY()}}(t.type),doc:n,oldIndex:r,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}constructor(e,t,i,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new hK(n.hasPendingWrites,n.fromCache),this.query=i}}class hZ extends hX{convertBytes(e){return new hx(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,t)}constructor(e){super(),this.firestore=e}}function h0(e,t,i,...n){let r;e=ht(e,hs);let s=ht(e.firestore,hv),a=hA(s);return r="string"==typeof(t=eu(t))||t instanceof hk?function(e,t,i,n,r,s){let a=e.da(1,t,i),o=[hB(t,n,i)],l=[r];if(s.length%2!=0)throw new aZ(aJ.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(hB(t,s[e])),l.push(s[e+1]);let c=[],u=oX.empty();for(let e=o.length-1;e>=0;--e)if(!hq(c,o[e])){let t=o[e],i=l[e];i=eu(i);let n=a.ca(t);if(i instanceof hM)c.push(t);else{let e=hP(i,n);null!=e&&(c.push(t),u.set(t,e))}}let h=new oE(c);return new hC(u,h,a.fieldTransforms)}(a,"updateDoc",e._key,t,i,n):function(e,t,i,n){let r=e.da(1,t,i);hU("Data must be an object, but it was:",r,n);let s=[],a=oX.empty();og(n,(e,n)=>{let o=hj(t,e,i);n=eu(n);let l=r.ca(o);if(n instanceof hM)s.push(o);else{let e=hP(n,l);null!=e&&(s.push(o),a.set(o,e))}});let o=new oE(s);return new hC(a,o,r.fieldTransforms)}(a,"updateDoc",e._key,t),h1(s,[r.toMutation(e._key,lN.exists(!0))])}function h1(e,t){return function(e,t){let i=new a0;return e.asyncQueue.enqueueAndForget(async()=>u$(await hp(e).then(e=>e.syncEngine),t,i)),i.promise}(hb(e),t)}function h2(e,t,i){let n=i.docs.get(t._key),r=new hZ(e);return new hQ(e,r,t._key,n,new hK(i.hasPendingWrites,i.fromCache),t.converter)}!function(e,t=!0){aq=e$,ej(new eh("firestore",(e,{instanceIdentifier:i,options:n})=>{let r=e.getProvider("app").getImmediate(),s=new hv(new a6(e.getProvider("auth-internal")),new a8(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new aZ(aJ.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oM(e.options.projectId,t)}(r,i),r);return n=Object.assign({useFetchStreams:t},n),s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),eK(aj,"3.7.3",void 0),eK(aj,"3.7.3","esm2017")}();const h5=document.querySelector(".auth-hide"),h6=eG({apiKey:"AIzaSyAv9FmtcpRb4rflw6K6IuqfaJrJWVCYfkw",authDomain:"bookshelf-2f40f.firebaseapp.com",databaseURL:"https://bookshelf-2f40f-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bookshelf-2f40f",storageBucket:"bookshelf-2f40f.appspot.com",messagingSenderId:"578193415348",appId:"1:578193415348:web:8b4047b41c95ecc1278be1",measurementId:"G-B0N26TBFD1"}),h3=function(e=eX()){let t=eW(e,"auth");if(t.isInitialized())return t.getImmediate();let i=function(e,t){let i=eW(e,"auth");if(i.isInitialized()){let e=i.getImmediate(),n=i.getOptions();if(en(n,null!=t?t:{}))return e;tt(e,"already-initialized")}let n=i.initialize({options:t});return n}(e,{popupRedirectResolver:nv,persistence:[iX,iA,iM]}),n=J("authTokenSyncURL");if(n){let e=nI(n);eu(i).beforeAuthStateChanged(e,()=>e(i.currentUser)),eu(i).onIdTokenChanged(t=>e(t),void 0,void 0)}let r=K("auth");return r&&function(e,t,i){let n=eu(e);tr(n._canInitEmulator,n,"emulator-config-failed"),tr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!(null==i?void 0:i.disableWarnings),s=t0(t),{host:a,port:o}=function(e){let t=t0(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let e=r[1];return{host:e,port:t1(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:t1(t)}}}(t),l=null===o?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(i,`http://${r}`),i}(h6),h9=function(e,t){let i="object"==typeof e?e:eX(),n=eW(i,"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=Q("firestore");e&&function(e,t,i,n={}){var r;let s=(e=ht(e,hr))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&aK("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${i}`,ssl:!1})),n.mockUserToken){let t,i;if("string"==typeof n.mockUserToken)t=n.mockUserToken,i=aW.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(s)),""].join(".")}(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);let s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new aZ(aJ.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new aW(s)}e._authCredentials=new a5(new a1(t,i))}}(n,...e)}return n}(h6);let h4={},h8={};function h7(){let e={txtUserName:document.querySelector("#txtName"),txtEmail:document.querySelector("#txtEmail"),txtPsw:document.querySelector("#txtPsw")};return{email:e.txtEmail.value,password:e.txtPsw.value,userName:e.txtUserName?e.txtUserName.value:""}}async function de(e){await h0(h4,{books:function(...e){return new hD("arrayUnion",e)}(e)})}async function dt(e){await h0(h4,{books:function(...e){return new hO("arrayRemove",e)}(e)})}async function di(){let e=h7(),{email:t,password:i,userName:n}=e,r=await iS(h3,t,i);return await iC(h3.currentUser,{displayName:n}),r}async function dn(){let e=h7(),{email:t,password:i}=e,n=await iT(eu(h3),il.credential(t,i));return n}async function dr(e){e.preventDefault(),h8(),eu(h3).signOut().then(()=>{document.querySelector(".js-shopping-list-page"),(0,S.Notify).success("Log out successful",{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top",success:{background:"#eac645"}}),setTimeout(()=>{document.location.href="index.html"},1e3)}).catch(e=>{console.log(e)})}async function ds(){let e=await function(e){e=ht(e,hs);let t=ht(e.firestore,hv);return(function(e,t,i={}){let n=new a0;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,i,n,r){let s=new hc({next:s=>{t.enqueueAndForget(()=>uM(e,a));let o=s.docs.has(i);!o&&s.fromCache?r.reject(new aZ(aJ.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&n&&"server"===n.source?r.reject(new aZ(aJ.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),a=new uP(ls(i.path),s,{includeMetadataChanges:!0,Nu:!0});return uA(e,a)})(await hm(e),e.asyncQueue,t,i,n)),n.promise})(hb(t),e._key).then(i=>h2(t,e,i))}(h4);if(e.exists())return e.data().books;await function(e,t,i){var n;e=ht(e,hs);let r=ht(e.firestore,hv),s=(n=e.converter)?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t;return h1(r,[(function(e,t,i,n,r,s={}){let a,o;let l=e.da(s.merge||s.mergeFields?2:0,t,i,r);hU("Data must be an object, but it was:",l,n);let c=hF(n,l);if(s.merge)a=new oE(l.fieldMask),o=l.fieldTransforms;else if(s.mergeFields){let e=[];for(let n of s.mergeFields){let r=hB(t,n,i);if(!l.contains(r))throw new aZ(aJ.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);hq(e,r)||e.push(r)}a=new oE(e),o=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,o=l.fieldTransforms;return new hI(new oX(c),a,o)})(hA(r),"setDoc",e._key,s,null!==e.converter,i).toMutation(e._key,lN.none())])}(h4,{books:[]})}i_(h3,e=>{e?(h4=hl(h9,"users",h3.currentUser.uid),setTimeout(()=>{[...T.userName].map(t=>{t.textContent=e.displayName}),T.greeting.classList.add("flex"),T.greetingMob.classList.add("flex")},600),T.iconDown.classList.add("block"),[...T.user].map(e=>{e.classList.add("flex")}),[...T.btnLog].map(e=>{e.style.display="none"}),[...T.btnOpenLogInModal].map(e=>{e.classList.add("none")}),T.btnLogOutMob.classList.add("button-log-out-mob"),ds(),h5.classList.add("auth-block"),h5.classList.remove("auth-hide"),h8=function(e,...t){var i,n,r;let s,a,o;e=eu(e);let l={includeMetadataChanges:!1},c=0;"object"!=typeof t[0]||hy(t[c])||(l=t[c],c++);let u={includeMetadataChanges:l.includeMetadataChanges};if(hy(t[c])){let e=t[c];t[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),t[c+1]=null===(n=e.error)||void 0===n?void 0:n.bind(e),t[c+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}if(e instanceof hs)a=ht(e.firestore,hv),o=ls(e._key.path),s={next:i=>{t[c]&&t[c](h2(a,e,i))},error:t[c+1],complete:t[c+2]};else{let i=ht(e,ha);a=ht(i.firestore,hv),o=i._query;let n=new hZ(a);s={next:e=>{t[c]&&t[c](new hJ(a,n,i,e))},error:t[c+1],complete:t[c+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new aZ(aJ.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,i,n){let r=new hc(n),s=new uP(t,r,i);return e.asyncQueue.enqueueAndForget(async()=>uA(await hm(e),s)),()=>{r.bc(),e.asyncQueue.enqueueAndForget(async()=>uM(await hm(e),s))}}(hb(a),o,u,s)}(h4,e=>{e.metadata.hasPendingWrites}),T.shoppingListLink.style.display="list-item",T.btnLogOutTablDesk.style.display="flex"):(h5.classList.remove("auth-block"),h5.classList.add("auth-hide"),T.btnUser.classList.remove("flex-2"),T.btnUser.classList.remove("flex"),T.greeting.classList.remove("flex"),T.greetingMob.classList.remove("flex"),T.iconDown.classList.remove("block"),[...T.user].map(e=>{e.classList.remove("flex")}),[...T.btnLog].map(e=>{e.style.display="flex"}),T.btnLogOutTablDesk.style.display="none",T.btnLogOutTablDesk.classList.remove("button-log-out-toggle"),T.btnLogOutMob.classList.remove("button-log-out-mob"),[...T.btnOpenLogInModal].map(e=>{e.classList.remove("none")}),T.shoppingListLink.style.display="none")}),[...T.btnLogOut].map(e=>{e.addEventListener("click",dr)}),T.greeting.addEventListener("click",function(){T.btnLogOutTablDesk.classList.toggle("button-log-out-toggle")});var da={};da=new URL(y("kyEFX").resolve("9orvw"),import.meta.url).toString();var dl={};dl=new URL(y("kyEFX").resolve("e0NC8"),import.meta.url).toString();var dc={};dc=new URL(y("kyEFX").resolve("ivDmU"),import.meta.url).toString();var du={};du=new URL(y("kyEFX").resolve("iBhy2"),import.meta.url).toString();var dh={};function dd(){return{appleBooksIconPath:new URL(da).href,bookShopIconPath:new URL(dl).href,amazonIconPath:new URL(dc).href,emptyListStubImage:new URL(du).href,svgTrashIcon:new URL(dh),svgClose:new URL(dh),colorSwitcherCnt:document.querySelector(".color-scheme-switcher"),colorSwitcher:document.querySelector("#color-scheme-switcher-checkbox"),colorSwitcherSlider:document.querySelector(".color-scheme-switcher-slider")}}dh=new URL(y("kyEFX").resolve("aKCGF"),import.meta.url).toString();const{appleBooksIconPath:df,bookShopIconPath:dp,amazonIconPath:dm,svgTrashIcon:dg}=dd();function dy(e){document.body.style.overflow="hidden";let t=document.createElement("div");t.className="modal_background";let i=document.createElement("div");i.className="modal_body",t.append(i);let n=e.buy_links.map(({url:e,name:t})=>{let i;if("Amazon"===t)i=`${dm}`;else if("Apple Books"===t)i=`${df}`;else{if("Bookshop"!==t)return;i=`${dp}`}return`
        <li class="shoplist-url-item">
          <a class="shoplist_url" href="${e}" target="_blank" rel="noopener noreferrer nofollow" aria-label="${t} link">
            <img class="modal_img" src="${i}" alt="${t} link" width="48px" height="15px" />
          </a>
        </li>
    `}).join(""),r=e.description||"The description of the book can be viewed on the seller's website.";i.innerHTML=`
        <div class="modal_container">
            <img class="modal_image" src="${e.book_image}" alt="">
            <ul>
                <li>
                  <div class="card_title">${e.title}</div></li>
                <li>
                  <div class="card_author">${e.author}</div></li>
                <li>
                  <div class="card_description">${r}</div></li>
                <li>
                  <div>
                  <ul class="modal_links">${n}</ul></div></li>
            </ul>
        </div>
        `;let s=document.createElement("button");function a(){t.remove(),s.removeEventListener("click",a),t.removeEventListener("click",a),document.removeEventListener("keydown",o),document.body.removeAttribute("style")}function o(e){"Escape"==e.key&&a()}s.className="close_btn",s.innerHTML=`<svg class="icon_close" width="24" height="24">
  <use href="${dg}#icon-close"></use></svg>`,s.addEventListener("click",a),t.addEventListener("click",a),i.onclick=function(e){e.stopPropagation()};let l=document.createElement("button");l.className="btn",l.type="button",l.setAttribute("data-book-id",e._id),l.setAttribute("data-is-auth-btn","false"),i.append(s,l),i.insertAdjacentElement("afterbegin",s),i.append(l);let c=new E(e,l);l.onclick=()=>{c.handleBook(),"toAdd"===l.getAttribute("data-action")?de(e):"toRemove"===l.getAttribute("data-action")&&dt(e)},document.addEventListener("keydown",o),document.body.append(t);let u=document.querySelector("[data-is-auth-btn]");i_(h3,e=>{e?(h4=hl(h9,"users",h3.currentUser.uid),u&&(u.disabled=!1)):u&&(u.disabled=!0,u.textContent="Unlock button after Log in")})}var dv={};!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof dv?dv=t(e):e.Notiflix=t(e)}(void 0===p?"undefined"==typeof window?dv:window:p,function(e){"use strict";if(void 0===e&&void 0===e.document)return!1;var t,i,n,r,s,a="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",o='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',l={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},c={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},u={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},h={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},d={Show:"Show",Ask:"Ask",Prompt:"Prompt"},f={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},p={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},m={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},g={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},y={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},v=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+a)},b=function(e){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+e+a)},w=function(t){return t||(t="head"),null!==e.document[t]||(v('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},x=function(t,i){if(!w("head"))return!1;if(null!==t()&&!e.document.getElementById(i)){var n=e.document.createElement("style");n.id=i,n.innerHTML=t(),e.document.head.appendChild(n)}},k=function(){var e={},t=!1,i=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);i<arguments.length;i++)!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=t&&"[object Object]"===Object.prototype.toString.call(i[n])?k(e[n],i[n]):i[n])}(arguments[i]);return e},E=function(t){var i=e.document.createElement("div");return i.innerHTML=t,i.textContent||i.innerText||""},T=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},S=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},I=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+e+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+e+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+t+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},C=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},_=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},N=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},L=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},A=0,M=function(i,n,r,s){if(!w("body"))return!1;t||W.Notify.init({});var a=k(!0,t,{});if("object"==typeof r&&!Array.isArray(r)||"object"==typeof s&&!Array.isArray(s)){var u={};"object"==typeof r?u=r:"object"==typeof s&&(u=s),t=k(!0,t,u)}var h=t[i.toLocaleLowerCase("en")];A++,"string"!=typeof n&&(n="Notiflix "+i),t.plainText&&(n=E(n)),!t.plainText&&n.length>t.messageMaxLength&&(t=k(!0,t,{closeButton:!0,messageMaxLength:150}),n='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),n.length>t.messageMaxLength&&(n=n.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(h.fontAwesomeIconColor=h.background),t.cssAnimation||(t.cssAnimationDuration=0);var d=e.document.getElementById(c.wrapID)||e.document.createElement("div");if(d.id=c.wrapID,d.style.width=t.width,d.style.zIndex=t.zindex,d.style.opacity=t.opacity,"center-center"===t.position?(d.style.left=t.distance,d.style.top=t.distance,d.style.right=t.distance,d.style.bottom=t.distance,d.style.margin="auto",d.classList.add("nx-flex-center-center"),d.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",d.style.display="flex",d.style.flexWrap="wrap",d.style.flexDirection="column",d.style.justifyContent="center",d.style.alignItems="center",d.style.pointerEvents="none"):"center-top"===t.position?(d.style.left=t.distance,d.style.right=t.distance,d.style.top=t.distance,d.style.bottom="auto",d.style.margin="auto"):"center-bottom"===t.position?(d.style.left=t.distance,d.style.right=t.distance,d.style.bottom=t.distance,d.style.top="auto",d.style.margin="auto"):"right-bottom"===t.position?(d.style.right=t.distance,d.style.bottom=t.distance,d.style.top="auto",d.style.left="auto"):"left-top"===t.position?(d.style.left=t.distance,d.style.top=t.distance,d.style.right="auto",d.style.bottom="auto"):"left-bottom"===t.position?(d.style.left=t.distance,d.style.bottom=t.distance,d.style.top="auto",d.style.right="auto"):(d.style.right=t.distance,d.style.top=t.distance,d.style.left="auto",d.style.bottom="auto"),t.backOverlay){var f=e.document.getElementById(c.overlayID)||e.document.createElement("div");f.id=c.overlayID,f.style.width="100%",f.style.height="100%",f.style.position="fixed",f.style.zIndex=t.zindex-1,f.style.left=0,f.style.top=0,f.style.right=0,f.style.bottom=0,f.style.background=h.backOverlayColor||t.backOverlayColor,f.className=t.cssAnimation?"nx-with-animation":"",f.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(c.overlayID)||e.document.body.appendChild(f)}e.document.getElementById(c.wrapID)||e.document.body.appendChild(d);var p=e.document.createElement("div");p.id=t.ID+"-"+A,p.className=t.className+" "+h.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof r?"nx-with-close-button":"")+" "+("function"==typeof r?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),p.style.fontSize=t.fontSize,p.style.color=h.textColor,p.style.background=h.background,p.style.borderRadius=t.borderRadius,p.style.pointerEvents="all",t.rtl&&(p.setAttribute("dir","rtl"),p.classList.add("nx-rtl-on")),p.style.fontFamily='"'+t.fontFamily+'", '+o,t.cssAnimation&&(p.style.animationDuration=t.cssAnimationDuration+"ms");var m="";if(t.closeButton&&"function"!=typeof r&&(m='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+h.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon){if(t.useFontAwesome)p.innerHTML='<i style="color:'+h.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+h.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+n+"</span>"+(t.closeButton?m:"");else{var g="";i===l.Success?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+h.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':i===l.Failure?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+h.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':i===l.Warning?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+h.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':i===l.Info&&(g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+h.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),p.innerHTML=g+'<span class="nx-message nx-with-icon">'+n+"</span>"+(t.closeButton?m:"")}}else p.innerHTML='<span class="nx-message">'+n+"</span>"+(t.closeButton?m:"");if("left-bottom"===t.position||"right-bottom"===t.position){var y=e.document.getElementById(c.wrapID);y.insertBefore(p,y.firstChild)}else e.document.getElementById(c.wrapID).appendChild(p);var v=e.document.getElementById(p.id);if(v){var b,x,T=function(){v.classList.add("nx-remove");var t=e.document.getElementById(c.overlayID);t&&0>=d.childElementCount&&t.classList.add("nx-remove"),clearTimeout(b)},S=function(){if(v&&null!==v.parentNode&&v.parentNode.removeChild(v),0>=d.childElementCount&&null!==d.parentNode){d.parentNode.removeChild(d);var t=e.document.getElementById(c.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(x)};if(t.closeButton&&"function"!=typeof r&&e.document.getElementById(p.id).querySelector("span.nx-close-button").addEventListener("click",function(){T();var e=setTimeout(function(){S(),clearTimeout(e)},t.cssAnimationDuration)}),("function"==typeof r||t.clickToClose)&&v.addEventListener("click",function(){"function"==typeof r&&r(),T();var e=setTimeout(function(){S(),clearTimeout(e)},t.cssAnimationDuration)}),!t.closeButton&&"function"!=typeof r){var I=function(){b=setTimeout(function(){T()},t.timeout),x=setTimeout(function(){S()},t.timeout+t.cssAnimationDuration)};I(),t.pauseOnHover&&(v.addEventListener("mouseenter",function(){v.classList.add("nx-paused"),clearTimeout(b),clearTimeout(x)}),v.addEventListener("mouseleave",function(){v.classList.remove("nx-paused"),I()}))}}if(t.showOnlyTheLastOne&&0<A)for(var C,_=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+A+"])"),N=0;N<_.length;N++)null!==(C=_[N]).parentNode&&C.parentNode.removeChild(C);t=k(!0,t,a)},R=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},D=function(t,n,r,s,a,l){if(!w("body"))return!1;i||W.Report.init({});var c,d,f,p,m,g,y,v,b={};if("object"==typeof a&&!Array.isArray(a)||"object"==typeof l&&!Array.isArray(l)){var x={};"object"==typeof a?x=a:"object"==typeof l&&(x=l),b=k(!0,i,{}),i=k(!0,i,x)}var T=i[t.toLocaleLowerCase("en")];"string"!=typeof n&&(n="Notiflix "+t),"string"!=typeof r&&(t===u.Success?r='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':t===u.Failure?r='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':t===u.Warning?r='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':t===u.Info&&(r='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof s&&(s="Okay"),i.plainText&&(n=E(n),r=E(r),s=E(s)),i.plainText||(n.length>i.titleMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',s="Okay"),r.length>i.messageMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',s="Okay"),s.length>i.buttonMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',s="Okay")),n.length>i.titleMaxLength&&(n=n.substring(0,i.titleMaxLength)+"..."),r.length>i.messageMaxLength&&(r=r.substring(0,i.messageMaxLength)+"..."),s.length>i.buttonMaxLength&&(s=s.substring(0,i.buttonMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var S=e.document.createElement("div");S.id=h.ID,S.className=i.className,S.style.zIndex=i.zindex,S.style.borderRadius=i.borderRadius,S.style.fontFamily='"'+i.fontFamily+'", '+o,i.rtl&&(S.setAttribute("dir","rtl"),S.classList.add("nx-rtl-on")),S.style.display="flex",S.style.flexWrap="wrap",S.style.flexDirection="column",S.style.alignItems="center",S.style.justifyContent="center";var I="",C=!0===i.backOverlayClickToClose;i.backOverlay&&(I='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+(C?" nx-report-click-to-close":"")+'" style="background:'+(T.backOverlayColor||i.backOverlayColor)+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var _="";if(t===u.Success?(c=i.svgSize,d=T.svgColor,c||(c="110px"),d||(d="#32c682"),_='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+c+'" height="'+c+'" fill="'+d+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===u.Failure?(f=i.svgSize,p=T.svgColor,f||(f="110px"),p||(p="#ff5549"),_='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+f+'" height="'+f+'" fill="'+p+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===u.Warning?(m=i.svgSize,g=T.svgColor,m||(m="110px"),g||(g="#eebf31"),_='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+m+'" height="'+m+'" fill="'+g+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===u.Info&&(y=i.svgSize,v=T.svgColor,y||(y="110px"),v||(v="#26c0d3"),_='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+y+'" height="'+y+'" fill="'+v+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'),S.innerHTML=I+'<div class="'+i.className+"-content"+(i.cssAnimation?" nx-with-animation ":"")+" nx-"+i.cssAnimationStyle+'" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+'ms;"><div style="width:'+i.svgSize+"; height:"+i.svgSize+';" class="'+i.className+'-icon">'+_+'</div><h5 class="'+i.className+'-title" style="font-weight:500; font-size:'+i.titleFontSize+"; color:"+T.titleColor+';">'+n+'</h5><p class="'+i.className+'-message" style="font-size:'+i.messageFontSize+"; color:"+T.messageColor+';">'+r+'</p><a id="NXReportButton" class="'+i.className+'-button" style="font-weight:500; font-size:'+i.buttonFontSize+"; background:"+T.buttonBackground+"; color:"+T.buttonColor+';">'+s+"</a></div>",!e.document.getElementById(S.id)){e.document.body.appendChild(S);var N=function(){var t=e.document.getElementById(S.id);t.classList.add("nx-remove");var n=setTimeout(function(){null!==t.parentNode&&t.parentNode.removeChild(t),clearTimeout(n)},i.cssAnimationDuration)};e.document.getElementById("NXReportButton").addEventListener("click",function(){"function"==typeof a&&a(),N()}),I&&C&&e.document.querySelector(".nx-report-click-to-close").addEventListener("click",function(){N()})}i=k(!0,i,b)},O=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},P=function(t,i,r,s,a,l,c,u,h){if(!w("body"))return!1;n||W.Confirm.init({});var p=k(!0,n,{});"object"!=typeof h||Array.isArray(h)||(n=k(!0,n,h)),"string"!=typeof i&&(i="Notiflix Confirm"),"string"!=typeof r&&(r="Do you agree with me?"),"string"!=typeof a&&(a="Yes"),"string"!=typeof l&&(l="No"),"function"!=typeof c&&(c=void 0),"function"!=typeof u&&(u=void 0),n.plainText&&(i=E(i),r=E(r),a=E(a),l=E(l)),n.plainText||(i.length>n.titleMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',a="Okay",l="..."),r.length>n.messageMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',a="Okay",l="..."),(a.length||l.length)>n.buttonsMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',a="Okay",l="...")),i.length>n.titleMaxLength&&(i=i.substring(0,n.titleMaxLength)+"..."),r.length>n.messageMaxLength&&(r=r.substring(0,n.messageMaxLength)+"..."),a.length>n.buttonsMaxLength&&(a=a.substring(0,n.buttonsMaxLength)+"..."),l.length>n.buttonsMaxLength&&(l=l.substring(0,n.buttonsMaxLength)+"..."),n.cssAnimation||(n.cssAnimationDuration=0);var m=e.document.createElement("div");m.id=f.ID,m.className=n.className+(n.cssAnimation?" nx-with-animation nx-"+n.cssAnimationStyle:""),m.style.zIndex=n.zindex,m.style.padding=n.distance,n.rtl&&(m.setAttribute("dir","rtl"),m.classList.add("nx-rtl-on"));var g="string"==typeof n.position?n.position.trim():"center";m.classList.add("nx-position-"+g),m.style.fontFamily='"'+n.fontFamily+'", '+o;var y="";n.backOverlay&&(y='<div class="'+n.className+"-overlay"+(n.cssAnimation?" nx-with-animation":"")+'" style="background:'+n.backOverlayColor+";animation-duration:"+n.cssAnimationDuration+'ms;"></div>');var v="";"function"==typeof c&&(v='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+n.cancelButtonColor+";background:"+n.cancelButtonBackground+";font-size:"+n.buttonsFontSize+';">'+l+"</a>");var b="",x=null,T=void 0;if(t===d.Ask||t===d.Prompt){x=s||"";var S=t===d.Ask?Math.ceil(1.5*x.length):200<x.length?Math.ceil(1.5*x.length):250;b='<div><input id="NXConfirmValidationInput" type="text" '+(t===d.Prompt?'value="'+x+'"':"")+' maxlength="'+S+'" style="font-size:'+n.messageFontSize+";border-radius: "+n.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(m.innerHTML=y+'<div class="'+n.className+'-content" style="width:'+n.width+"; background:"+n.backgroundColor+"; animation-duration:"+n.cssAnimationDuration+"ms; border-radius: "+n.borderRadius+';"><div class="'+n.className+'-head"><h5 style="color:'+n.titleColor+";font-size:"+n.titleFontSize+';">'+i+'</h5><div style="color:'+n.messageColor+";font-size:"+n.messageFontSize+';">'+r+b+'</div></div><div class="'+n.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof c?"":" nx-full")+'" style="color:'+n.okButtonColor+";background:"+n.okButtonBackground+";font-size:"+n.buttonsFontSize+';">'+a+"</a>"+v+"</div></div>",!e.document.getElementById(m.id)){e.document.body.appendChild(m);var I=e.document.getElementById(m.id),C=e.document.getElementById("NXConfirmButtonOk"),_=e.document.getElementById("NXConfirmValidationInput");_&&(_.focus(),_.setSelectionRange(0,(_.value||"").length),_.addEventListener("keyup",function(e){var i=e.target.value;t===d.Ask&&i!==x?(e.preventDefault(),_.classList.add("nx-validation-failure"),_.classList.remove("nx-validation-success")):(t===d.Ask&&(_.classList.remove("nx-validation-failure"),_.classList.add("nx-validation-success")),("enter"===(e.key||"").toLocaleLowerCase("en")||13===e.keyCode)&&C.dispatchEvent(new Event("click")))})),C.addEventListener("click",function(e){if(t===d.Ask&&x&&_){if((_.value||"").toString()!==x)return _.focus(),_.classList.add("nx-validation-failure"),e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1;_.classList.remove("nx-validation-failure")}"function"==typeof c&&(t===d.Prompt&&_&&(T=_.value||""),c(T)),I.classList.add("nx-remove");var i=setTimeout(function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(i))},n.cssAnimationDuration)}),"function"==typeof c&&e.document.getElementById("NXConfirmButtonCancel").addEventListener("click",function(){"function"==typeof u&&(t===d.Prompt&&_&&(T=_.value||""),u(T)),I.classList.add("nx-remove");var e=setTimeout(function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(e))},n.cssAnimationDuration)})}n=k(!0,n,p)},F=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},z=function(t,i,n,s,a){if(!w("body"))return!1;r||W.Loading.init({});var l=k(!0,r,{});if("object"==typeof i&&!Array.isArray(i)||"object"==typeof n&&!Array.isArray(n)){var c={};"object"==typeof i?c=i:"object"==typeof n&&(c=n),r=k(!0,r,c)}var u="";if("string"==typeof i&&0<i.length&&(u=i),s){u=u.length>r.messageMaxLength?E(u).toString().substring(0,r.messageMaxLength)+"...":E(u).toString();var h,d,f="";0<u.length&&(f='<p id="'+r.messageID+'" class="nx-loading-message" style="color:'+r.messageColor+";font-size:"+r.messageFontSize+';">'+u+"</p>"),r.cssAnimation||(r.cssAnimationDuration=0);var g="";if(t===p.Standard)g=T(r.svgSize,r.svgColor);else if(t===p.Hourglass)g=S(r.svgSize,r.svgColor);else if(t===p.Circle)g=I(r.svgSize,r.svgColor);else if(t===p.Arrows)g=C(r.svgSize,r.svgColor);else if(t===p.Dots)g=_(r.svgSize,r.svgColor);else if(t===p.Pulse)g=N(r.svgSize,r.svgColor);else if(t===p.Custom&&null!==r.customSvgCode&&null===r.customSvgUrl)g=r.customSvgCode||"";else if(t===p.Custom&&null!==r.customSvgUrl&&null===r.customSvgCode)g='<img class="nx-custom-loading-icon" width="'+r.svgSize+'" height="'+r.svgSize+'" src="'+r.customSvgUrl+'" alt="Notiflix">';else{if(t===p.Custom&&(null===r.customSvgUrl||null===r.customSvgCode))return v('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;(h=r.svgSize)||(h="60px"),g='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+h+'" height="'+h+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:#f8f8f8;stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+(d="#32c682")+'" stroke="'+d+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}var y=parseInt((r.svgSize||"").replace(/[^0-9]/g,"")),b=e.innerWidth,x=y>=b?b-40+"px":y+"px",L='<div style="width:'+x+"; height:"+x+';" class="'+r.className+"-icon"+(0<u.length?" nx-with-message":"")+'">'+g+"</div>",A=e.document.createElement("div");A.id=m.ID,A.className=r.className+(r.cssAnimation?" nx-with-animation":"")+(r.clickToClose?" nx-loading-click-to-close":""),A.style.zIndex=r.zindex,A.style.background=r.backgroundColor,A.style.animationDuration=r.cssAnimationDuration+"ms",A.style.fontFamily='"'+r.fontFamily+'", '+o,A.style.display="flex",A.style.flexWrap="wrap",A.style.flexDirection="column",A.style.alignItems="center",A.style.justifyContent="center",r.rtl&&(A.setAttribute("dir","rtl"),A.classList.add("nx-rtl-on")),A.innerHTML=L+f,!e.document.getElementById(A.id)&&(e.document.body.appendChild(A),r.clickToClose)&&e.document.getElementById(A.id).addEventListener("click",function(){A.classList.add("nx-remove");var e=setTimeout(function(){null!==A.parentNode&&(A.parentNode.removeChild(A),clearTimeout(e))},r.cssAnimationDuration)})}else if(e.document.getElementById(m.ID))var M=e.document.getElementById(m.ID),R=setTimeout(function(){M.classList.add("nx-remove");var e=setTimeout(function(){null!==M.parentNode&&(M.parentNode.removeChild(M),clearTimeout(e))},r.cssAnimationDuration);clearTimeout(R)},a);r=k(!0,r,l)},U=function(t){"string"!=typeof t&&(t="");var i=e.document.getElementById(m.ID);if(i){if(0<t.length){t=t.length>r.messageMaxLength?E(t).substring(0,r.messageMaxLength)+"...":E(t);var n=i.getElementsByTagName("p")[0];if(n)n.innerHTML=t;else{var s=e.document.createElement("p");s.id=r.messageID,s.className="nx-loading-message nx-loading-message-new",s.style.color=r.messageColor,s.style.fontSize=r.messageFontSize,s.innerHTML=t,i.appendChild(s)}}else v("Where is the new message?")}},B=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},V=0,j=function(t,i,n,r,a,l){if(Array.isArray(n)){if(1>n.length)return v("Array of HTMLElements should contains at least one HTMLElement."),!1;L=n}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,n)){if(1>n.length)return v("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;L=Array.prototype.slice.call(n)}else{if("string"!=typeof n||1>(n||"").length||1===(n||"").length&&("#"===(n||"")[0]||"."===(n||"")[0]))return v("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var c=e.document.querySelectorAll(n);if(1>c.length)return v('You called the "Notiflix.Block..." function with "'+n+'" selector, but there is no such element(s) in the document.'),!1;L=c}s||W.Block.init({});var u=k(!0,s,{});if("object"==typeof r&&!Array.isArray(r)||"object"==typeof a&&!Array.isArray(a)){var h={};"object"==typeof r?h=r:"object"==typeof a&&(h=a),s=k(!0,s,h)}var d="";"string"==typeof r&&0<r.length&&(d=r),s.cssAnimation||(s.cssAnimationDuration=0);var f=y.className;"string"==typeof s.className&&(f=s.className.trim());var p="number"==typeof s.querySelectorLimit?s.querySelectorLimit:200,m=(L||[]).length>=p?p:L.length,x="nx-block-temporary-position";if(t){for(var L,A,M=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],R=0;R<m;R++)if(A=L[R]){if(-1<M.indexOf(A.tagName.toLocaleLowerCase("en")))break;var D=A.querySelectorAll("[id^="+y.ID+"]");if(1>D.length){var O="";i&&(O=i===g.Hourglass?S(s.svgSize,s.svgColor):i===g.Circle?I(s.svgSize,s.svgColor):i===g.Arrows?C(s.svgSize,s.svgColor):i===g.Dots?_(s.svgSize,s.svgColor):i===g.Pulse?N(s.svgSize,s.svgColor):T(s.svgSize,s.svgColor));var P='<span class="'+f+'-icon" style="width:'+s.svgSize+";height:"+s.svgSize+';">'+O+"</span>",F="";0<d.length&&(d=d.length>s.messageMaxLength?E(d).substring(0,s.messageMaxLength)+"...":E(d),F='<span style="font-size:'+s.messageFontSize+";color:"+s.messageColor+';" class="'+f+'-message">'+d+"</span>"),V++;var z=e.document.createElement("div");z.id=y.ID+"-"+V,z.className=f+(s.cssAnimation?" nx-with-animation":""),z.style.position=s.position,z.style.zIndex=s.zindex,z.style.background=s.backgroundColor,z.style.animationDuration=s.cssAnimationDuration+"ms",z.style.fontFamily='"'+s.fontFamily+'", '+o,z.style.display="flex",z.style.flexWrap="wrap",z.style.flexDirection="column",z.style.alignItems="center",z.style.justifyContent="center",s.rtl&&(z.setAttribute("dir","rtl"),z.classList.add("nx-rtl-on")),z.innerHTML=P+F;var U=e.getComputedStyle(A).getPropertyValue("position"),B="string"==typeof U?U.toLocaleLowerCase("en"):"relative",j=Math.round(1.25*parseInt(s.svgSize))+40,q=A.offsetHeight||0,H="";j>q&&(H="min-height:"+j+"px;");var $="";$=A.getAttribute("id")?"#"+A.getAttribute("id"):A.classList[0]?"."+A.classList[0]:(A.tagName||"").toLocaleLowerCase("en");var G="",X=-1>=["absolute","relative","fixed","sticky"].indexOf(B);if(X||0<H.length){if(!w("head"))return!1;X&&(G="position:relative!important;");var K='<style id="Style-'+y.ID+"-"+V+'">'+$+"."+x+"{"+G+H+"}</style>",Q=e.document.createRange();Q.selectNode(e.document.head);var Y=Q.createContextualFragment(K);e.document.head.appendChild(Y),A.classList.add(x)}A.appendChild(z)}}}else var J=function(t){var i=setTimeout(function(){null!==t.parentNode&&t.parentNode.removeChild(t);var n=t.getAttribute("id"),r=e.document.getElementById("Style-"+n);r&&null!==r.parentNode&&r.parentNode.removeChild(r),clearTimeout(i)},s.cssAnimationDuration)},Z=function(e){if(e&&0<e.length)for(var t,i=0;i<e.length;i++)(t=e[i])&&(t.classList.add("nx-remove"),J(t));else"string"==typeof n?b('"Notiflix.Block.remove();" function called with "'+n+'" selector, but this selector does not have a "Block" element to remove.'):b('"Notiflix.Block.remove();" function called with "'+n+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},ee=function(e){var t=setTimeout(function(){e.classList.remove(x),clearTimeout(t)},s.cssAnimationDuration+300)},et=setTimeout(function(){for(var e,t=0;t<m;t++)(e=L[t])&&(ee(e),Z(D=e.querySelectorAll("[id^="+y.ID+"]")));clearTimeout(et)},l);s=k(!0,s,u)},W={Notify:{init:function(e){t=k(!0,c,e),x(L,"NotiflixNotifyInternalCSS")},merge:function(e){return t?void(t=k(!0,t,e)):(v("You have to initialize the Notify module before call Merge function."),!1)},success:function(e,t,i){M(l.Success,e,t,i)},failure:function(e,t,i){M(l.Failure,e,t,i)},warning:function(e,t,i){M(l.Warning,e,t,i)},info:function(e,t,i){M(l.Info,e,t,i)}},Report:{init:function(e){i=k(!0,h,e),x(R,"NotiflixReportInternalCSS")},merge:function(e){return i?void(i=k(!0,i,e)):(v("You have to initialize the Report module before call Merge function."),!1)},success:function(e,t,i,n,r){D(u.Success,e,t,i,n,r)},failure:function(e,t,i,n,r){D(u.Failure,e,t,i,n,r)},warning:function(e,t,i,n,r){D(u.Warning,e,t,i,n,r)},info:function(e,t,i,n,r){D(u.Info,e,t,i,n,r)}},Confirm:{init:function(e){n=k(!0,f,e),x(O,"NotiflixConfirmInternalCSS")},merge:function(e){return n?void(n=k(!0,n,e)):(v("You have to initialize the Confirm module before call Merge function."),!1)},show:function(e,t,i,n,r,s,a){P(d.Show,e,t,null,i,n,r,s,a)},ask:function(e,t,i,n,r,s,a,o){P(d.Ask,e,t,i,n,r,s,a,o)},prompt:function(e,t,i,n,r,s,a,o){P(d.Prompt,e,t,i,n,r,s,a,o)}},Loading:{init:function(e){r=k(!0,m,e),x(F,"NotiflixLoadingInternalCSS")},merge:function(e){return r?void(r=k(!0,r,e)):(v("You have to initialize the Loading module before call Merge function."),!1)},standard:function(e,t){z(p.Standard,e,t,!0,0)},hourglass:function(e,t){z(p.Hourglass,e,t,!0,0)},circle:function(e,t){z(p.Circle,e,t,!0,0)},arrows:function(e,t){z(p.Arrows,e,t,!0,0)},dots:function(e,t){z(p.Dots,e,t,!0,0)},pulse:function(e,t){z(p.Pulse,e,t,!0,0)},custom:function(e,t){z(p.Custom,e,t,!0,0)},notiflix:function(e,t){z(p.Notiflix,e,t,!0,0)},remove:function(e){"number"!=typeof e&&(e=0),z(null,null,null,!1,e)},change:function(e){U(e)}},Block:{init:function(e){s=k(!0,y,e),x(B,"NotiflixBlockInternalCSS")},merge:function(e){return s?void(s=k(!0,s,e)):(v('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(e,t,i){j(!0,g.Standard,e,t,i)},hourglass:function(e,t,i){j(!0,g.Hourglass,e,t,i)},circle:function(e,t,i){j(!0,g.Circle,e,t,i)},arrows:function(e,t,i){j(!0,g.Arrows,e,t,i)},dots:function(e,t,i){j(!0,g.Dots,e,t,i)},pulse:function(e,t,i){j(!0,g.Pulse,e,t,i)},remove:function(e,t){"number"!=typeof t&&(t=0),j(!1,null,e,null,null,t)}}};return"object"==typeof e.Notiflix?k(!0,e.Notiflix,{Notify:W.Notify,Report:W.Report,Confirm:W.Confirm,Loading:W.Loading,Block:W.Block}):{Notify:W.Notify,Report:W.Report,Confirm:W.Confirm,Loading:W.Loading,Block:W.Block}}),document.querySelector(".category-books-wrapper");const db=document.querySelector(".books_container"),dw=document.querySelector(".static-btn"),dx=document.querySelector(".best-sellers-loader"),dk=new k;async function dE(e){try{dx.style.display="block";let t=await dk.getBooksByCategory(e);if(dw.classList.remove("accent"),db.innerHTML="",0===t.length){a(dv).Notify.info(`Sorry, but no books on the selected category '${e}' were found. 
      Please choose another category.`,{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top",messageMaxLength:150,info:{background:"rgba(79, 46, 232, 0.9)"}});return}(function(){let e=dD.split(" "),t=e[e.length-1],i=`<span class='section-books-header-span'>${t}</span>`,n=e.slice(0,-1).join(" ")+" "+i,r=`
    <h1 class="section-books-header">${n}</h1>
    <div>
      <ul class="card_list category-list"></ul>
    </div>
  `;db.insertAdjacentHTML("beforeend",r)})(),dx.style.display="none",function(e){let t=document.querySelector(".category-list");t.innerHTML="";let i=e.map(e=>{let{title:t,book_image:i,author:n}=e,r=document.createElement("li");return r.classList.add("category-item"),r.onclick=function(){dy(e)},r.innerHTML=`
        <div class='card-wrapper card'>
        <div class='img_wrapper'>
                ${i?`<img class="book_image" src="${i}" alt="${t}" loading="lazy" width='335' height='485'>`:'<div class="empty_img"></div>'}
        </div>
        <div class='book-info'>         
        <p class='book_title'>${t}</p>
        <p class='book_author'>${n}</p>
        </div>
        </div>
        `,r});t.append(...i)}(t)}catch(e){console.log(e)}}a(dv).Notify.init({width:"340px",distance:"15px",timeout:5e3,messageMaxLength:150,fontFamily:"DM Sans",fontSize:"16px",cssAnimationStyle:"from-top",info:{background:"rgba(79, 46, 232, 0.9)"}});var dT={};function dS(e,t,i){function n(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(n,t-c):(r=null,i||(l=e.apply(a,s),a=s=null))}null==t&&(t=100);var r,s,a,o,l,c=function(){a=this,s=arguments,o=Date.now();var c=i&&!r;return r||(r=setTimeout(n,t)),c&&(l=e.apply(a,s),a=s=null),l};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(l=e.apply(a,s),a=s=null,clearTimeout(r),r=null)},c}dS.debounce=dS,dT=dS;const dI=document.querySelector(".best-sellers-loader"),dC=new k,d_=document.querySelector(".books_container"),dN={};async function dL(){dI&&(dI.style.display="block");try{let e=await dC.getTopBooks();if(dI&&(dI.style.display="none"),function(){let e=`
    <h1 class="section-books-header">
      Best Sellers <span class="section-books-header-span">Books</span>
    </h1>
  `;d_.insertAdjacentHTML("beforeend",e)}(),0===e.length){a(dv).Notify.info("Sorry, but no books on all categories were found. Please choose another category.",{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top",messageMaxLength:150,info:{background:"rgba(79, 46, 232, 0.9)"}});return}e.forEach(e=>{let t=document.createElement("div");t.className="book-group",t.innerHTML=`
      <div class="book-group_title">${e.list_name}</div>
      <div class="book-card_list"></div>
      <button class="btn-main see-more-btn" data-category="${e.list_name}">See More</button>
    `;let i=t.querySelector(".see-more-btn");i.addEventListener("click",dA),d_.appendChild(t);let n=t.querySelector(".book-card_list"),r=n.querySelectorAll(".book-card");if(screen.width<=767.98){let t=e.books[0],i=dM(t);n.appendChild(i)}else screen.width<=1439.98&&screen.width>=768?e.books.slice(0,3).forEach((e,t)=>{let i=dM(e);t<r.length?n.insertBefore(i,r[t]):n.appendChild(i)}):e.books.forEach((e,t)=>{let i=dM(e);t<5?t<r.length?n.insertBefore(i,r[t]):n.appendChild(i):(i.style.display="none",n.appendChild(i))});dN[e.list_name]=5})}catch(e){console.log(e),dI&&(dI.style.display="none"),a(dv).Notify.failure("Failed to fetch top books. Please try again later.",{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top",success:{background:"#eac645"}})}}if(d_){let e=document.documentElement.clientWidth;dL(),window.onresize=(0,dT.debounce)(t=>{if(document.documentElement.clientWidth!==e){for(e=document.documentElement.clientWidth;d_.firstChild;)d_.removeChild(d_.firstChild);dL()}},100)}async function dA(e){if(e.target.classList.contains("see-more-btn")){let t=e.target,i=t.dataset.category,n=t.closest(".book-group").querySelector(".book-card_list");try{let e=dN[i]||0,t=await dC.getBooksByCategory(i),r=t.slice(e);screen.width<=1439.98?(r.slice(0,3).forEach(e=>{let t=dM(e);n.appendChild(t)}),dN[i]=e+3):(r.forEach(e=>{let t=dM(e);n.appendChild(t)}),dN[i]=e+r.length)}catch(e){console.log(e),a(dv).Notify.failure("Failed to fetch books for this category. Please try again later.",{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top",success:{background:"#eac645"}})}e.target.style.display="none"}}function dM(e){let t=document.createElement("div");t.className="book-card";let i=document.createElement("button");i.className="quick_view",i.textContent="QUICK VIEW",i.addEventListener("click",()=>dy(e));let n="";return n=e.book_image?`<div class="img_wrapper">
  <img class="book_image" src="${e.book_image}" alt="${e.title}" />
</div>`:'<div class="empty_img"></div>',t.innerHTML=`
    ${n}
    <div class="book-descr">
      <p class="book_title">${e.title}</p>
      <p class="book_author">${e.author}</p>
    </div>
  `,t.append(i),t.addEventListener("click",()=>dy(e)),t}const dR=document.querySelector(".list-js");let dD="";const dO=document.querySelector(".static-btn"),dP=document.querySelector(".books_container"),dF=new k,dz=document.querySelector(".categories-loader"),dU=document.querySelector(".best-sellers-loader");async function dB(){try{let e=await dF.getBookCategories();dO&&dO.classList.add("accent"),dz&&(dz.style.display="none"),function(e){let t=e.sort((e,t)=>e.list_name.localeCompare(t.list_name)),i=t.map(e=>`<li class='genres-item'><button type='button' class='genres-btn genres-btn-js'>${e.list_name}</button></li>`).join("");dR.insertAdjacentHTML("beforeend",i)}(e),dO.addEventListener("click",dV),(i=document.querySelectorAll(".genres-btn-js")).forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("accent")&&e.classList.contains("genres-btn-js")||(dD=event.target.textContent,dP.innerHTML="",dE(dD),i.forEach(e=>{e.textContent!==dD&&e.classList.remove("accent"),e.textContent===dD&&e.classList.add("accent")}))})})}catch(e){console.log(e)}}function dV(){if(!(dO.classList.contains("accent")&&dO.classList.contains("static-btn"))&&(dU.style.display="block",dO.classList.add("accent"),i.forEach(e=>{e.classList.remove("accent")}),dP.innerHTML="",dL(),dO.classList.contains("accent")))return}dR&&dB();const{colorSwitcher:dj,colorSwitcherSlider:dW}=dd();function dq(){dj.checked?document.body.classList.add("dark"):document.body.classList.remove("dark")}!function(){let e=localStorage.getItem("dark-color-scheme");e&&"false"!==e&&(dj.checked=!0)}(),dq(),dj.addEventListener("change",function(e){var t;dq(),t=e.currentTarget,localStorage.setItem("dark-color-scheme",t.checked)}),setTimeout(()=>{dW.classList.add("animated")},100);var dH={};function d$(e){"Escape"===e.code&&this.close()}dH=(function e(t,i,n){function r(a,o){if(!i[a]){if(!t[a]){var l=void 0;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var c=Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s=void 0,a=0;a<n.length;a++)r(n[a]);return r})({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.create=i.visible=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=document.createElement("div");return i.innerHTML=e.trim(),!0===t?i.children:i.firstChild},r=function(e,t){var i=e.children;return 1===i.length&&i[0].tagName===t},s=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};i.visible=s,i.create=function(e,t){var i=function(e,t){var i=n('\n		<div class="basicLightbox '.concat(t.className,'">\n			<div class="basicLightbox__placeholder" role="dialog"></div>\n		</div>\n	')),s=i.querySelector(".basicLightbox__placeholder");e.forEach(function(e){return s.appendChild(e)});var a=r(s,"IMG"),o=r(s,"VIDEO"),l=r(s,"IFRAME");return!0===a&&i.classList.add("basicLightbox--img"),!0===o&&i.classList.add("basicLightbox--video"),!0===l&&i.classList.add("basicLightbox--iframe"),i}(e=function(e){var t="string"==typeof e,i=e instanceof HTMLElement==1;if(!1===t&&!1===i)throw Error("Content must be a DOM element/node or string");return!0===t?Array.from(n(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw Error("Property `onClose` must be a function");return e}(t)),a=function(e){var n;return!1!==t.onClose(o)&&(n=function(){if("function"==typeof e)return e(o)},i.classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===s(i)||i.parentElement.removeChild(i),n()},410),!0)};!0===t.closable&&i.addEventListener("click",function(e){e.target===i&&a()});var o={element:function(){return i},visible:function(){return s(i)},show:function(e){var n;return!1!==t.onShow(o)&&(n=function(){if("function"==typeof e)return e(o)},document.body.appendChild(i),setTimeout(function(){requestAnimationFrame(function(){return i.classList.add("basicLightbox--visible"),n()})},10),!0)},close:a};return o}},{}]},{},[1])(1);class dG extends Error{constructor(e,...t){super(e),this.args=t}}const dX="accepted",dK="alpha",dQ="alpha-num",dY="alpha-num-dash",dJ="between-length",dZ="between-number",d0="digits",d1="email",d2="ends-with",d5="equal-length",d6="equal-number",d3="greater-equal",d9="integer",d4="less-equal",d8="max-length",d7="min-length",fe="num-dash",ft="number",fi="regex",fn="required",fr="starts-with",fs="within",fa=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fo=/^[+-]?\d+$/,fl=/^[+-]?(\d+|\d*\.\d*)$/,fc=/^[\p{L}\p{M}]+$/u,fu=/^[\p{L}\p{M}\p{N}]+$/u,fh=/^[\p{L}\p{M}\p{N}_-]+$/u,fd=/^[\p{N}_-]+$/u,ff=new class{set(e){this.lang=e}get(){return"object"==typeof this.lang?this.lang:{}}};function fp(e){return e.replace(/-./g,e=>e[1].toUpperCase())}function fm(e){return e instanceof HTMLInputElement?"checkbox"===e.type||"radio"===e.type?e.checked?"checked":"":e.value:e instanceof HTMLTextAreaElement?e.value:e instanceof HTMLSelectElement?Array.from(e.selectedOptions).map(e=>e.value).join(","):""}function fg(e,t){let[i,n=""]=e.split(":");if(e.startsWith("x-")){if(!(e.includes(":")&&2===e.split(":").length))throw Error(`${e}: x-rules require an argument that is defined in the config.xRules object`);i=i.substring(2),n=String(null==t?void 0:t[n])||""}return{name:i,argsText:n,args:fy(n)}}function fy(e){return e?e.split(","):[]}function fv(e){return{throwError(t){if(e)throw Error(t)}}}const fb="An argument must be provided",fw="The argument must be a number",fx="The argument must be a positive number";function fk(e){return fo.test(e)||new dG(d9)}const fE=e=>{try{return new RegExp(e),!0}catch{return!1}},fT=e=>{var t,i,n,r;let s=null!==(n=null===(t=e.match(/\/(.+)\/.*/))||void 0===t?void 0:t[1])&&void 0!==n?n:"",a=null!==(r=null===(i=e.match(/\/.+\/(.*)/))||void 0===i?void 0:i[1])&&void 0!==r?r:"";return new RegExp(s,a)};function fS(e){return e.trim().length>0||new dG(fn)}function fI(e,t){let[i,...n]=fy(t);if(fv(!i).throwError(fb),"array"===i){let t=fy(e);for(let e of t)if(!n.includes(e))return new dG(fs);return!0}return n.includes(e)||new dG(fs)}const fC={__proto__:null,accepted:function(e){return"checked"===e||new dG(dX)},alpha:function(e){return fc.test(e)||new dG(dK)},alphaNum:function(e){return fu.test(e)||new dG(dQ)},alphaNumDash:function(e){return fh.test(e)||new dG(dY)},between:function(e,t=""){let[i,n,r]=fy(t);fv(!i).throwError(fb),fv(!n||!r).throwError(fb);let s=Number(n),a=Number(r);return(fv(Number.isNaN(s)||Number.isNaN(a)).throwError(fw),fv(s>a).throwError("min must be less than max"),fv(s===a).throwError("min and max must not be equal"),"number"===i)?function(e,t,i){let n=Number(e);return""!==e&&!Number.isNaN(n)&&n>=t&&n<=i||new dG(dZ,String(t),String(i))}(e,s,a):(fv(s<0||a<0).throwError(fx),e.length>=s&&e.length<=a||new dG(dJ,String(s),String(a)))},digits:function(e,t=""){fv(""===t).throwError(fb),fv(!0!==fk(t)||1>+t).throwError("The argument must be an integer");let i=RegExp(`^-?[0-9]{${t}}$`);return!!i.test(e)||new dG(d0,t)},endsWith:function(e,t=""){return fv(""===t).throwError(fb),e.endsWith(t)||new dG(d2,t)},email:function(e){return fa.test(e)||new dG(d1)},min:function(e,t=""){let[i,n]=fy(t);fv(!i).throwError(fb),fv(!n).throwError(fb);let r=Number(n);return(fv(Number.isNaN(r)).throwError(fw),"number"===i)?function(e,t){let i=Number(e);return""!==e&&!Number.isNaN(i)&&i>=t||new dG(d3,String(t))}(e,r):(fv(r<0).throwError(fx),e.length>=r||new dG(d7,String(r)))},integer:fk,int:fk,max:function(e,t=""){let[i,n]=fy(t);fv(!i).throwError(fb),fv(!n).throwError(fb);let r=Number(n);return(fv(Number.isNaN(r)).throwError(fw),"number"===i)?function(e,t){let i=Number(e);return""!==e&&!Number.isNaN(i)&&i<=t||new dG(d4,String(t))}(e,r):(fv(r<0).throwError(fx),e.length<=r||new dG(d8,String(r)))},number:function(e){return fl.test(e)||new dG(ft)},numDash:function(e){return fd.test(e)||new dG(fe)},regex:function(e,t){fv(!t).throwError(fb),fv(!1===fE(t)).throwError("Invalid pattern provided");let i=fT(t);return i.test(e)||new dG(fi)},required:fS,requiredIf:function(e,t=""){let i=fS(t);return!0!==i||fS(e)},size:function(e,t=""){let[i,n]=fy(t);fv(!i).throwError(fb),fv(!n).throwError(fb);let r=Number(n);return fv(Number.isNaN(r)).throwError(fw),"number"===i?function(e,t){let i=Number(e);return!(""===e||Number.isNaN(i))&&i===t||new dG(d6,String(t))}(e,r):(fv(r<0).throwError(fx),e.length===r||new dG(d5,String(r)))},startsWith:function(e,t=""){return fv(""===t).throwError(fb),e.startsWith(t)||new dG(fr,t)},within:fI,in:fI};class f_{setError(e,t,i){let n=this.errorsList.find(t=>t[0].element===e);n||(n=[],this.errorsList.push(n));let r=function(e,...t){let i=ff.get(),n=e;return Object.prototype.hasOwnProperty.call(i,e)&&(n=i[e]),function(e,...t){return e.replace(/\$(\d)/g,(e,i)=>(null==t?void 0:t[i-1])||"")}(n,...t)}(i.message,...i.args),s={message:r,element:e,rule:t,cause:i.message,args:i.args};n.push(s)}get hasError(){return Object.keys(this.errorsList).length>0}get errors(){return this.errorsList}clearErrors(){this.errorsList=[]}constructor(){this.lang=ff.get(),this.errorsList=[]}}class fN{on(e,t){this.events[e]||(this.events[e]=[]);let i=this.events[e];i.push(t)}off(e,t){if(void 0===this.events[e])return;let i=this.events[e],n=i.indexOf(t);-1!==n&&i.splice(n,1)}call(e,...t){if(void 0!==this.events[e]){let i=this.events[e];i.forEach(e=>{e(...t)})}}clear(){this.events={}}constructor(e={}){this.events={};let t=Object.keys(e);t.forEach(t=>{"function"==typeof e[t]&&(this.events[t]=[],this.events[t].push(e[t]))})}}const fL={requiredIf:function(e,t,i,n,r){let{name:s,args:a}=fg(e,r);if(0===a.length)return s;let o="";if(a.length>0){let e=document.getElementById(a[0]);null!==e&&(o=fm(e))}return a.splice(0,1,o),`${s}:${a.join(",")}`},between:fA,size:fA,min:fA,max:fA,in:fA};function fA(e,t,i,n,r){let{name:s,argsText:a}=fg(e,r),o=t.indexOf(e),l=t.slice(0,o),c="string";return l.includes("number")||l.includes("int")||l.includes("integer")?c="number":l.includes("array")&&(c="array"),`${s}:${c},${a}`}const fM={renderErrors:!0,onFieldChangeValidationDelay:500},fR=class{validate(e,t=!0){this.events.call("validation:start",this.container);let i=!0,n="success";return void 0===e&&(e=this.container.querySelectorAll("[data-rules]")),e.length>0&&(n=(i=this.validateFields(Array.from(e)))?"success":"failed"),this.events.call("validation:end",this.container,i),t&&this.events.call(`validation:${n}`,this.container),i}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}validateFields(e){for(let i of e){var t;let e=null===(t=i.getAttribute("data-rules"))||void 0===t?void 0:t.split("|");if(e&&e.length>0){let t=fm(i),n=this.shouldStopOnFirstFailure(e),r=this.getComputedFieldRules(e,i);for(let e of r){let{name:r,argsText:s}=fg(e,this.options.xRules),a=fp(r);if(this.isNullable(a)&&""===t)break;if(a in fC)try{let e=fC[a](t,s);if(e instanceof dG&&(this.validatorError.setError(i,r,e),n))break}catch(e){return console.error(Error(`${r}: ${e.message}`)),!1}}}}return!this.validatorError.hasError}shouldStopOnFirstFailure(e){return e.includes("bail")}isNullable(e){return"nullable"===e}getComputedFieldRules(e,t){return e.map(i=>(function(e,t,i,n,r){var s;let a=fp(fg(e,r).name);return(null===(s=fL[a])||void 0===s?void 0:s.call(fL,e,t,i,n,r))||e})(i,e,t,this.container,this.options.xRules))}triggerFieldErrorEvent(){let e=this.validatorError.errors;e.forEach(e=>{0!==e.length&&this.events.call("field:error",this.container,e[0].element,e)})}validateOnFieldChange(){let e;this.container.addEventListener("input",t=>{window.clearTimeout(e);let i=this.options.onFieldChangeValidationDelay;e=window.setTimeout(()=>{let e=t.target;if(e.matches("[data-rules]")){let t=this.validate([e],!1);!1===t&&this.triggerFieldErrorEvent()}},i)})}setLanguage(e){ff.set(e)}constructor(e,t={}){if(null===e||!(e instanceof HTMLElement))throw Error("Invalid container element");this.options=Object.assign(fM,t),this.validatorError=new f_,this.events=new fN(this.options.on),this.container=e,ff.set(this.options.lang),this.options.renderErrors&&function(e){e.on("field:error",(e,t,i)=>{i.reverse().forEach(e=>{let i=document.createElement("p");i.classList.add("validator-err"),i.innerHTML=e.message,t.parentNode&&t.parentNode.insertBefore(i,t.nextSibling)})}),e.on("validation:start",e=>{e.querySelectorAll(".validator-err").forEach(e=>{e.remove()})})}(this.events),this.events.on("validation:start",()=>this.validatorError.clearErrors()),this.events.on("validation:failed",()=>this.triggerFieldErrorEvent()),t.onFieldChangeValidation&&this.validateOnFieldChange()}},fD={[dX]:"Please accept this field",[dK]:"Please enter only alphabetic characters",[dQ]:"Please enter only alpha-numeric characters",[dY]:"Please enter only alpha-numeric characters, dashes, and underscores",[dJ]:"The value must have between $1 and $2 characters",[dZ]:"Please enter a number between $1 and $2",[d0]:"The value must be a $1-digits number",[d1]:"Please enter a valid email address",[d2]:'The value must ends with "$1"',[d5]:"The value must have $1 characters",[d6]:"The value must be equal to $1",[d3]:"Please enter a number greater than or equal to $1",[d9]:"The value must be a valid integer",[d4]:"Please enter a number less than or equal to $1",[d8]:"Max length is $1",[d7]:"Min length is $1",[fe]:"Please enter numbers with dashes and underscores",[ft]:"Please enter a valid number",[fi]:"The value doesn't match the pattern",[fn]:"This field is required",[fr]:'The value must start with "$1"',[fs]:"The value is incorrect"};function fO(e){let t="";switch(e.code){case"auth/email-already-exists":case"auth/email-already-in-use":t="The provided email is already in use by an existing user. Each user must have a unique email.";break;case"auth/invalid-password":case"auth/wrong-password":t="Wrong password.";break;case"auth/user-not-found":t="There is no existing user with this Email.";break;default:t=`${e.code}`}return t}const fP=document.createElement("p");function fF(){let e=document.querySelector(".form");e.removeEventListener("focusin",fz),e.removeEventListener("focusout",fU)}function fz(e){let{name:t}=e.target;"userName"===t&&(fP.textContent='Example "John"',e.target.after(fP)),"psw"===t&&(fP.textContent="Password length from 6 to 10 characters, consists of the following - lowercase (a-z) and uppercase (A-Z).",e.target.after(fP))}function fU(e){let{name:t}=e.target;"userName"===t&&e.target.nextElementSibling.remove(),"psw"===t&&e.target.nextElementSibling.remove()}fP.className="validator-err";let fB={};function fV(e){e.preventDefault(),fB.validate()}const fj={password:new URL(dh),email:new URL(dh),svgClose:new URL(dh)},fW=document.querySelector("body");let fq={},fH=!1;const f$={handler:null,onShow(e){fW.style.overflow="hidden",this.handler=d$.bind(e),document.addEventListener("keydown",this.handler),document.addEventListener("keydown",this.handler)},onClose(){fW.style.overflow="visible",document.removeEventListener("keydown",this.handler),T.closeBtn.removeEventListener("click",fX)}};function fG(e){fH=!1,(fq=dH.create(`<div class="login-modal">
      <button class="close_btn" aria-label="Close modal">
        <svg class="login-icon-close">
          <use href="${fj.svgClose}#icon-close"></use>
        </svg>
      </button>

      <form class="form" name="logInForm" autocomplete="off">
        <div class="labels-wrapper">
          <label class="label">
            <input
              class="input-field"
              id="txtEmail"
              type="text"
              placeholder="Email"
              name="email"
              autocomplete="email"
              data-rules="bail|required|email"
            />
            <svg class="login-icon-mail">
              <use href="${fj.email}#icon-mail"></use>
            </svg>
          </label>

          <label class="label">
            <input
              class="input-field"
              id="txtPsw"
              type="password"
              placeholder="Password"
              name="psw"
              title="Password length from 6 to 10 characters, consists of the following - lowercase (a-z) and uppercase (A-Z)."
              data-rules="bail|required"
            />
            <svg class="login-icon-password">
              <use href="${fj.password}#icon-lock"></use>
            </svg>
          </label>
        </div>

        <button class="modal__btn modal__btn-primary" id="btnSignin" type="submit">
          Log in
        </button>
      </form>
        <div class="switch-modal-btns">
          <button class="modal__btn js-sign-up-btn" aria-label="Switch to sign up">
            sign up
          </button>
          <button class="modal__btn login-accent js-sign-in-btn" aria-label="Switch to sign in">
            log in
          </button>
        </div>
    </div>`,f$)).show(()=>{(function(){T.modalForm=document.querySelector(".form");let{modalForm:e}=T;fB=new fR(e,{lang:fD,xRules:{firstCapital:/[A-Z][a-z]/,password:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{6,10}/},on:{"validation:start":e=>{e.querySelector("#txtName")&&(e.querySelector("#txtName").style.borderColor="#111111"),e.querySelector("#txtEmail").style.borderColor="#111111",e.querySelector("#txtPsw").style.borderColor="#111111"},"validation:failed":()=>{},"field:error":(e,t,i)=>{i.forEach(t=>{"signUpForm"===e.name?(t.element&&"userName"===t.element.name&&(t.element.style.borderColor="red",t.message='Please enter a valid username! Ex. "John"'),t.element.name,"psw"===t.element.name&&(t.message="Please enter a valid password! Password length from 6 to 10 characters, consists of the following - lowercase (a-z) and uppercase (A-Z)."),fF()):"logInForm"===e.name&&("email"===t.element.name&&(t.message="Required"),"psw"===t.element.name&&(t.message="Required")),"email"===t.element.name&&(t.element.style.borderColor="red"),"psw"===t.element.name&&(t.element.style.borderColor="red")})},"validation:success":()=>{fH?di().then(e=>{fX()}).catch(e=>{(0,S.Notify).failure(fO(e),{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top"})}):dn().then(e=>{fX()}).catch(e=>{(0,S.Notify).failure(fO(e),{fontFamily:"DM Sans",fontSize:"16px",clickToClose:!0,cssAnimationStyle:"from-top",timeout:2e3,position:"center-top"})})}}}),e.addEventListener("submit",fV)})();let e=getComputedStyle(document.documentElement).getPropertyValue("--login-modal-bg");document.querySelector(".basicLightbox").style.background=e,T.closeBtn=document.querySelector(".close_btn"),T.switchModalBtns=document.querySelector(".switch-modal-btns"),T.form=document.querySelector(".form"),T.closeBtn.addEventListener("click",fX),T.switchModalBtns.addEventListener("click",fK)})}function fX(){fq.close()}function fK(e){let t=e.target.classList.value;t.includes("js-sign-up-btn")?(function(){let e=document.querySelector(".form");e.addEventListener("focusin",fz),e.addEventListener("focusout",fU)}(),T.form.setAttribute("name","signUpForm"),T.form.innerHTML=`
        <div class="labels-wrapper">
          <label class="label">
            <input
              class="input-field"
              id="txtName"
              type="text"
              placeholder="Name"
              name="userName"
              title="Example &quot;John&quot;"
              autocomplete="given-name"
              data-rules="bail|required|alpha|between:2,32|x-regex:firstCapital"
          /></label>
          <label class="label">
            <input
              class="input-field"
              id="txtEmail"
              type="text"
              placeholder="Email"
              name="email"
              autocomplete="email"
              data-rules="bail|required|email"
            />
            <svg class="login-icon-mail">
              <use href="${fj.email}#icon-mail"></use>
            </svg>
          </label>

          <label class="label">
            <input
              class="input-field"
              id="txtPsw"
              type="password"
              placeholder="Password"
              name="psw"
              title="Password length from 6 to 10 characters, consists of the following - lowercase (a-z) and uppercase (A-Z)."
              data-rules="bail|required|x-regex:password"
            />
            <svg class="login-icon-password">
              <use href="${fj.password}#icon-lock"></use>
            </svg>
          </label>
        </div>

        <button class="modal__btn modal__btn-primary" id="btnSignup" type="submit">
          Sign up
        </button>
      `,e.target.classList.add("login-accent"),e.target.nextElementSibling.classList.remove("login-accent"),fH=!0):t.includes("js-sign-in-btn")&&(fF(),T.form.setAttribute("name","logInForm"),T.form.innerHTML=`
        <div class="labels-wrapper">
          <label class="label">
            <input
              class="input-field"
              id="txtEmail"
              type="text"
              placeholder="Email"
              name="email"
              autocomplete="email"
              data-rules="bail|required"
            />
            <svg class="login-icon-mail">
              <use href="${fj.email}#icon-mail"></use>
            </svg>
          </label>

          <label class="label">
            <input
              class="input-field"
              id="txtPsw"
              type="password"
              placeholder="Password"
              name="psw"
              title="Password length from 6 to 10 characters, consists of the following - lowercase (a-z) and uppercase (A-Z)."
              data-rules="bail|required"
            />
            <svg class="login-icon-password">
              <use href="${fj.password}#icon-lock"></use>
            </svg>
          </label>
        </div>

        <button class="modal__btn modal__btn-primary" id="btnSignin" type="submit">
          Log in
        </button>
      `,e.target.classList.add("login-accent"),e.target.previousElementSibling.classList.remove("login-accent"),fH=!1)}[...T.btnOpenLogInModal].map(e=>{e.addEventListener("click",fG)});const fQ=()=>{let e={scrollProgress:document.querySelector(".progress"),progressValue:document.querySelector(".progress-value"),pos:document.documentElement.scrollTop};document.documentElement.scrollHeight,document.documentElement.clientHeight,e.pos,e.pos>100?e.scrollProgress.style.display="grid":e.scrollProgress.style.display="none",e.scrollProgress.addEventListener("click",()=>{document.documentElement.scrollTop=0})};window.onscroll=fQ,window.onload=fQ;var fY={};fY=new URL(y("kyEFX").resolve("bmVkm"),import.meta.url).toString();var fJ={};fJ=new URL(y("kyEFX").resolve("5ViO0"),import.meta.url).toString();var fZ={};fZ=new URL(y("kyEFX").resolve("36zgu"),import.meta.url).toString();var f0={};f0=new URL(y("kyEFX").resolve("hVrkw"),import.meta.url).toString();var f1={};f1=new URL(y("kyEFX").resolve("7puOq"),import.meta.url).toString();var f2={};f2=new URL(y("kyEFX").resolve("1bXYs"),import.meta.url).toString();var f5={};f5=new URL(y("kyEFX").resolve("9SFQK"),import.meta.url).toString();var f6={};f6=new URL(y("kyEFX").resolve("9G1BH"),import.meta.url).toString();var f3={};f3=new URL(y("kyEFX").resolve("eFJjp"),import.meta.url).toString();var f9={};f9=new URL(y("kyEFX").resolve("bjhm6"),import.meta.url).toString();var f4={};f4=new URL(y("kyEFX").resolve("ljdSm"),import.meta.url).toString();var f8={};f8=new URL(y("kyEFX").resolve("efbls"),import.meta.url).toString();var f7={};f7=new URL(y("kyEFX").resolve("6pnsS"),import.meta.url).toString();var pe={};pe=new URL(y("kyEFX").resolve("1Ilg8"),import.meta.url).toString();var pt={};pt=new URL(y("kyEFX").resolve("6rNIT"),import.meta.url).toString();var pi={};pi=new URL(y("kyEFX").resolve("cKshg"),import.meta.url).toString();var pn={};pn=new URL(y("kyEFX").resolve("6t3Gk"),import.meta.url).toString();var pr={};pr=new URL(y("kyEFX").resolve("eks2N"),import.meta.url).toString();const ps=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:{x1:new URL(fY).href,x2:new URL(fJ).href}},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:{x1:new URL(fZ).href,x2:new URL(f0).href}},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:{x1:new URL(f1).href,x2:new URL(f2).href}},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:{x1:new URL(f5).href,x2:new URL(f6).href}},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:{x1:new URL(f3).href,x2:new URL(f9).href}},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:{x1:new URL(f4).href,x2:new URL(f8).href}},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:{x1:new URL(f7).href,x2:new URL(pe).href}},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:{x1:new URL(pt).href,x2:new URL(pi).href}},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:{x1:new URL(pn).href,x2:new URL(pr).href}}];function pa(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function po(e={},t={}){Object.keys(t).forEach(i=>{void 0===e[i]?e[i]=t[i]:pa(t[i])&&pa(e[i])&&Object.keys(t[i]).length>0&&po(e[i],t[i])})}const pl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pc(){let e="undefined"!=typeof document?document:{};return po(e,pl),e}const pu={document:pl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function ph(){let e="undefined"!=typeof window?window:{};return po(e,pu),e}function pd(e,t=0){return setTimeout(e,t)}function pf(){return Date.now()}function pp(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function pm(...e){let t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){let r=e[n];if(null!=r&&("undefined"!=typeof window&&void 0!==window.HTMLElement?!(r instanceof HTMLElement):!r||1!==r.nodeType&&11!==r.nodeType)){let e=Object.keys(Object(r)).filter(e=>0>i.indexOf(e));for(let i=0,n=e.length;i<n;i+=1){let n=e[i],s=Object.getOwnPropertyDescriptor(r,n);void 0!==s&&s.enumerable&&(pp(t[n])&&pp(r[n])?r[n].__swiper__?t[n]=r[n]:pm(t[n],r[n]):!pp(t[n])&&pp(r[n])?(t[n]={},r[n].__swiper__?t[n]=r[n]:pm(t[n],r[n])):t[n]=r[n])}}}return t}function pg(e,t,i){e.style.setProperty(t,i)}function py({swiper:e,targetPosition:t,side:i}){let n;let r=ph(),s=-e.translate,a=null,o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let l=t>s?"next":"prev",c=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,u=()=>{n=new Date().getTime(),null===a&&(a=n);let l=Math.max(Math.min((n-a)/o,1),0),h=s+(.5-Math.cos(l*Math.PI)/2)*(t-s);if(c(h,t)&&(h=t),e.wrapperEl.scrollTo({[i]:h}),c(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:h})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(u)};u()}function pv(e,t=""){return[...e.children].filter(e=>e.matches(t))}function pb(e,t=[]){let i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function pw(e,t){let i=ph();return i.getComputedStyle(e,null).getPropertyValue(t)}function px(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function pk(e,t,i){let n=ph();return i?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function pE(){return n||(n=function(){let e=ph(),t=pc();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),n}const pT=(e,t)=>{if(!e||e.destroyed||!e.params)return;let i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}},pS=(e,t)=>{if(!e.slides[t])return;let i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},pI=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext,i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);let n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){let i=[r-t];i.push(...Array.from({length:t}).map((e,t)=>r+n+t)),e.slides.forEach((t,n)=>{i.includes(t.column)&&pS(e,n)});return}let s=r+n-1;if(e.params.rewind||e.params.loop)for(let n=r-t;n<=s+t;n+=1){let t=(n%i+i)%i;(t<r||t>s)&&pS(e,t)}else for(let n=Math.max(r-t,0);n<=Math.min(s+t,i-1);n+=1)n!==r&&(n>s||n<r)&&pS(e,n)};function pC({swiper:e,runCallbacks:t,direction:i,step:n}){let{activeIndex:r,previousIndex:s}=e,a=i;if(a||(a=r>s?"next":r<s?"prev":"reset"),e.emit(`transition${n}`),t&&r!==s){if("reset"===a){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),"next"===a?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function p_(e){let t=pc(),i=ph(),n=this.touchEventsData;n.evCache.push(e);let{params:r,touches:s,enabled:a}=this;if(!a||!r.simulateTouch&&"mouse"===e.pointerType||this.animating&&r.preventInteractionOnTransition)return;!this.animating&&r.cssMode&&r.loop&&this.loopFix();let o=e;o.originalEvent&&(o=o.originalEvent);let l=o.target;if("wrapper"===r.touchEventsTarget&&!this.wrapperEl.contains(l)||"which"in o&&3===o.which||"button"in o&&o.button>0||n.isTouched&&n.isMoved)return;let c=!!r.noSwipingClass&&""!==r.noSwipingClass,u=e.composedPath?e.composedPath():e.path;c&&o.target&&o.target.shadowRoot&&u&&(l=u[0]);let h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,d=!!(o.target&&o.target.shadowRoot);if(r.noSwiping&&(d?function(e,t=this){return function t(i){if(!i||i===pc()||i===ph())return null;i.assignedSlot&&(i=i.assignedSlot);let n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(h,l):l.closest(h))){this.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;s.currentX=o.pageX,s.currentY=o.pageY;let f=s.currentX,p=s.currentY,m=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,g=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(m&&(f<=g||f>=i.innerWidth-g)){if("prevent"!==m)return;e.preventDefault()}Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=f,s.startY=p,n.touchStartTime=pf(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let y=!0;l.matches(n.focusableElements)&&(y=!1,"SELECT"===l.nodeName&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==l&&t.activeElement.blur();let v=y&&this.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||v)&&!l.isContentEditable&&o.preventDefault(),r.freeMode&&r.freeMode.enabled&&this.freeMode&&this.animating&&!r.cssMode&&this.freeMode.onTouchStart(),this.emit("touchStart",o)}function pN(e){let t;let i=pc(),n=this.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=this;if(!o||!r.simulateTouch&&"mouse"===e.pointerType)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",l);return}let c=n.evCache.findIndex(e=>e.pointerId===l.pointerId);c>=0&&(n.evCache[c]=l);let u=n.evCache.length>1?n.evCache[0]:l,h=u.pageX,d=u.pageY;if(l.preventedByNestedSwiper){s.startX=h,s.startY=d;return}if(!this.allowTouchMove){l.target.matches(n.focusableElements)||(this.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:h,startY:d,prevX:this.touches.currentX,prevY:this.touches.currentY,currentX:h,currentY:d}),n.touchStartTime=pf());return}if(r.touchReleaseOnEdges&&!r.loop){if(this.isVertical()){if(d<s.startY&&this.translate<=this.maxTranslate()||d>s.startY&&this.translate>=this.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(h<s.startX&&this.translate<=this.maxTranslate()||h>s.startX&&this.translate>=this.minTranslate())return}if(i.activeElement&&l.target===i.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,this.allowClick=!1;return}if(n.allowTouchCallbacks&&this.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=h,s.currentY=d;let f=s.currentX-s.startX,p=s.currentY-s.startY;if(this.params.threshold&&Math.sqrt(f**2+p**2)<this.params.threshold)return;if(void 0===n.isScrolling){let e;this.isHorizontal()&&s.currentY===s.startY||this.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:f*f+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(f))/Math.PI,n.isScrolling=this.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(n.isScrolling&&this.emit("touchMoveOpposite",l),void 0===n.startMoving&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling||this.zoom&&this.params.zoom&&this.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;this.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=this.isHorizontal()?f:p,g=this.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(m=Math.abs(m)*(a?1:-1),g=Math.abs(g)*(a?1:-1)),s.diff=m,m*=r.touchRatio,a&&(m=-m,g=-g);let y=this.touchesDirection;this.swipeDirection=m>0?"prev":"next",this.touchesDirection=g>0?"prev":"next";let v=this.params.loop&&!r.cssMode;if(!n.isMoved){if(v&&this.loopFix({direction:this.swipeDirection}),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating){let e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});this.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,r.grabCursor&&(!0===this.allowSlideNext||!0===this.allowSlidePrev)&&this.setGrabCursor(!0),this.emit("sliderFirstMove",l)}n.isMoved&&y!==this.touchesDirection&&v&&Math.abs(m)>=1&&(this.loopFix({direction:this.swipeDirection,setTranslate:!0}),t=!0),this.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=m+n.startTranslate;let b=!0,w=r.resistanceRatio;if(r.touchReleaseOnEdges&&(w=0),m>0?(v&&!t&&n.currentTranslate>(r.centeredSlides?this.minTranslate()-this.size/2:this.minTranslate())&&this.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>this.minTranslate()&&(b=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+(-this.minTranslate()+n.startTranslate+m)**w))):m<0&&(v&&!t&&n.currentTranslate<(r.centeredSlides?this.maxTranslate()+this.size/2:this.maxTranslate())&&this.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:this.slides.length-("auto"===r.slidesPerView?this.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<this.maxTranslate()&&(b=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-(this.maxTranslate()-n.startTranslate-m)**w))),b&&(l.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(Math.abs(m)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=this.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&this.freeMode||r.watchSlidesProgress)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&this.freeMode&&this.freeMode.onTouchMove(),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}function pL(e){let t;let i=this,n=i.touchEventsData,r=n.evCache.findIndex(t=>t.pointerId===e.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)){let t="pointercancel"===e.type&&(i.browser.isSafari||i.browser.isWebView);if(!t)return}let{params:s,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=i;if(!c||!s.simulateTouch&&"mouse"===e.pointerType)return;let u=e;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&i.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&i.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!1);let h=pf(),d=h-n.touchStartTime;if(i.allowClick){let e=u.path||u.composedPath&&u.composedPath();i.updateClickedSlide(e&&e[0]||u.target),i.emit("tap click",u),d<300&&h-n.lastClickTime<300&&i.emit("doubleTap doubleClick",u)}if(n.lastClickTime=pf(),pd(()=>{i.destroyed||(i.allowClick=!0)}),!n.isTouched||!n.isMoved||!i.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,t=s.followFinger?o?i.translate:-i.translate:-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:t});return}let f=0,p=i.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<s.slidesPerGroupSkip?1:s.slidesPerGroup){let i=e<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==l[e+i]?t>=l[e]&&t<l[e+i]&&(f=e,p=l[e+i]-l[e]):t>=l[e]&&(f=e,p=l[l.length-1]-l[l.length-2])}let m=null,g=null;s.rewind&&(i.isBeginning?g=s.virtual&&s.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(m=0));let y=(t-l[f])/p,v=f<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes){i.slideTo(i.activeIndex);return}"next"===i.swipeDirection&&(y>=s.longSwipesRatio?i.slideTo(s.rewind&&i.isEnd?m:f+v):i.slideTo(f)),"prev"===i.swipeDirection&&(y>1-s.longSwipesRatio?i.slideTo(f+v):null!==g&&y<0&&Math.abs(y)>s.longSwipesRatio?i.slideTo(g):i.slideTo(f))}else{if(!s.shortSwipes){i.slideTo(i.activeIndex);return}let e=i.navigation&&(u.target===i.navigation.nextEl||u.target===i.navigation.prevEl);e?u.target===i.navigation.nextEl?i.slideTo(f+v):i.slideTo(f):("next"===i.swipeDirection&&i.slideTo(null!==m?m:f+v),"prev"===i.swipeDirection&&i.slideTo(null!==g?g:f))}}function pA(){let e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();let{allowSlideNext:n,allowSlidePrev:r,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();let o=a&&t.loop;"auto"!==t.slidesPerView&&!(t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function pM(e){this.enabled&&!this.allowClick&&(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function pR(){let{wrapperEl:e,rtlTranslate:t,enabled:i}=this;if(!i)return;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=-e.scrollLeft:this.translate=-e.scrollTop,0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();let n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}function pD(e){pT(this,e.target),!this.params.cssMode&&("auto"===this.params.slidesPerView||this.params.autoHeight)&&this.update()}let pO=!1;function pP(){}const pF=(e,t)=>{let i=pc(),{params:n,el:r,wrapperEl:s,device:a}=e,o=!!n.nested,l="on"===t?"addEventListener":"removeEventListener";r[l]("pointerdown",e.onTouchStart,{passive:!1}),i[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),i[l]("pointerup",e.onTouchEnd,{passive:!0}),i[l]("pointercancel",e.onTouchEnd,{passive:!0}),i[l]("pointerout",e.onTouchEnd,{passive:!0}),i[l]("pointerleave",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[l]("click",e.onClick,!0),n.cssMode&&s[l]("scroll",e.onScroll),n.updateOnWindowResize?e[t](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",pA,!0):e[t]("observerUpdate",pA,!0),r[l]("load",e.onLoad,{capture:!0})},pz=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var pU={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};const pB={eventsEmitter:{on(e,t,i){let n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;let r=i?"unshift":"push";return e.split(" ").forEach(e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)}),n},once(e,t,i){let n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;function r(...i){n.off(e,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(n,i)}return r.__emitterProxy=t,n.on(e,r,i)},onAny(e,t){return!this.eventsListeners||this.destroyed||"function"!=typeof e||0>this.eventsAnyListeners.indexOf(e)&&this.eventsAnyListeners[t?"unshift":"push"](e),this},offAny(e){if(!this.eventsListeners||this.destroyed||!this.eventsAnyListeners)return this;let t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off(e,t){let i=this;return i.eventsListeners&&!i.destroyed&&i.eventsListeners&&e.split(" ").forEach(e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach((n,r)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)})}),i},emit(...e){let t,i,n;let r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;"string"==typeof e[0]||Array.isArray(e[0])?(t=e[0],i=e.slice(1,e.length),n=r):(t=e[0].events,i=e[0].data,n=e[0].context||r),i.unshift(n);let s=Array.isArray(t)?t:t.split(" ");return s.forEach(e=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(t=>{t.apply(n,[e,...i])}),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach(e=>{e.apply(n,i)})}),r}},update:{updateSize:function(){let e,t;let i=this.el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:i.clientWidth,t=void 0!==this.params.height&&null!==this.params.height?this.params.height:i.clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(pw(i,"padding-left")||0,10)-parseInt(pw(i,"padding-right")||0,10),t=t-parseInt(pw(i,"padding-top")||0,10)-parseInt(pw(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){let e;let t=this;function i(e){return t.isHorizontal()?e:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[e]}function n(e,t){return parseFloat(e.getPropertyValue(i(t))||0)}let r=t.params,{wrapperEl:s,slidesEl:a,size:o,rtlTranslate:l,wrongRTL:c}=t,u=t.virtual&&r.virtual.enabled,h=u?t.virtual.slides.length:t.slides.length,d=pv(a,`.${t.params.slideClass}, swiper-slide`),f=u?t.virtual.slides.length:d.length,p=[],m=[],g=[],y=r.slidesOffsetBefore;"function"==typeof y&&(y=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;"function"==typeof v&&(v=r.slidesOffsetAfter.call(t));let b=t.snapGrid.length,w=t.slidesGrid.length,x=r.spaceBetween,k=-y,E=0,T=0;if(void 0===o)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*o:"string"==typeof x&&(x=parseFloat(x)),t.virtualSize=-x,d.forEach(e=>{l?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(pg(s,"--swiper-centered-offset-before",""),pg(s,"--swiper-centered-offset-after",""));let S=r.grid&&r.grid.rows>1&&t.grid;S&&t.grid.initSlides(f);let I="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(e=>void 0!==r.breakpoints[e].slidesPerView).length>0;for(let s=0;s<f;s+=1){let a;if(e=0,d[s]&&(a=d[s]),S&&t.grid.updateSlide(s,a,f,i),!d[s]||"none"!==pw(a,"display")){if("auto"===r.slidesPerView){I&&(d[s].style[i("width")]="");let o=getComputedStyle(a),l=a.style.transform,c=a.style.webkitTransform;if(l&&(a.style.transform="none"),c&&(a.style.webkitTransform="none"),r.roundLengths)e=t.isHorizontal()?pk(a,"width",!0):pk(a,"height",!0);else{let t=n(o,"width"),i=n(o,"padding-left"),r=n(o,"padding-right"),s=n(o,"margin-left"),l=n(o,"margin-right"),c=o.getPropertyValue("box-sizing");if(c&&"border-box"===c)e=t+s+l;else{let{clientWidth:n,offsetWidth:o}=a;e=t+i+r+s+l+(o-n)}}l&&(a.style.transform=l),c&&(a.style.webkitTransform=c),r.roundLengths&&(e=Math.floor(e))}else e=(o-(r.slidesPerView-1)*x)/r.slidesPerView,r.roundLengths&&(e=Math.floor(e)),d[s]&&(d[s].style[i("width")]=`${e}px`);d[s]&&(d[s].swiperSlideSize=e),g.push(e),r.centeredSlides?(k=k+e/2+E/2+x,0===E&&0!==s&&(k=k-o/2-x),0===s&&(k=k-o/2-x),.001>Math.abs(k)&&(k=0),r.roundLengths&&(k=Math.floor(k)),T%r.slidesPerGroup==0&&p.push(k),m.push(k)):(r.roundLengths&&(k=Math.floor(k)),(T-Math.min(t.params.slidesPerGroupSkip,T))%t.params.slidesPerGroup==0&&p.push(k),m.push(k),k=k+e+x),t.virtualSize+=e+x,E=e,T+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+v,l&&c&&("slide"===r.effect||"coverflow"===r.effect)&&(s.style.width=`${t.virtualSize+x}px`),r.setWrapperSize&&(s.style[i("width")]=`${t.virtualSize+x}px`),S&&t.grid.updateWrapperSize(e,p,i),!r.centeredSlides){let e=[];for(let i=0;i<p.length;i+=1){let n=p[i];r.roundLengths&&(n=Math.floor(n)),p[i]<=t.virtualSize-o&&e.push(n)}p=e,Math.floor(t.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-o)}if(u&&r.loop){let e=g[0]+x;if(r.slidesPerGroup>1){let i=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),n=e*r.slidesPerGroup;for(let e=0;e<i;e+=1)p.push(p[p.length-1]+n)}for(let i=0;i<t.virtual.slidesBefore+t.virtual.slidesAfter;i+=1)1===r.slidesPerGroup&&p.push(p[p.length-1]+e),m.push(m[m.length-1]+e),t.virtualSize+=e}if(0===p.length&&(p=[0]),0!==x){let e=t.isHorizontal()&&l?"marginLeft":i("marginRight");d.filter((e,t)=>!r.cssMode||!!r.loop||t!==d.length-1).forEach(t=>{t.style[e]=`${x}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;g.forEach(t=>{e+=t+(x||0)}),e-=x;let t=e-o;p=p.map(e=>e<=0?-y:e>t?t+v:e)}if(r.centerInsufficientSlides){let e=0;if(g.forEach(t=>{e+=t+(x||0)}),(e-=x)<o){let t=(o-e)/2;p.forEach((e,i)=>{p[i]=e-t}),m.forEach((e,i)=>{m[i]=e+t})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){pg(s,"--swiper-centered-offset-before",`${-p[0]}px`),pg(s,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);let e=-t.snapGrid[0],i=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(e=>e+i)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==w&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){let e=`${r.containerModifierClass}backface-hidden`,i=t.el.classList.contains(e);f<=r.maxBackfaceHiddenSlides?i||t.el.classList.add(e):i&&t.el.classList.remove(e)}},updateAutoHeight:function(e){let t;let i=this,n=[],r=i.virtual&&i.params.virtual.enabled,s=0;"number"==typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed);let a=e=>r?i.slides[i.getSlideIndexByData(e)]:i.slides[e];if("auto"!==i.params.slidesPerView&&i.params.slidesPerView>1){if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(e=>{n.push(e)});else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){let e=i.activeIndex+t;if(e>i.slides.length&&!r)break;n.push(a(e))}}else n.push(a(i.activeIndex));for(t=0;t<n.length;t+=1)if(void 0!==n[t]){let e=n[t].offsetHeight;s=e>s?e:s}(s||0===s)&&(i.wrapperEl.style.height=`${s}px`)},updateSlidesOffset:function(){let e=this.slides,t=this.isElement?this.isHorizontal()?this.wrapperEl.offsetLeft:this.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(this.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-this.cssOverflowAdjustment()},updateSlidesProgress:function(e=this&&this.translate||0){let t=this.params,{slides:i,rtlTranslate:n,snapGrid:r}=this;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();let s=-e;n&&(s=e),i.forEach(e=>{e.classList.remove(t.slideVisibleClass)}),this.visibleSlidesIndexes=[],this.visibleSlides=[];let a=t.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*this.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<i.length;e+=1){let o=i[e],l=o.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(l-=i[0].swiperSlideOffset);let c=(s+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),u=(s-r[0]+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),h=-(s-l),d=h+this.slidesSizesGrid[e],f=h>=0&&h<this.size-1||d>1&&d<=this.size||h<=0&&d>=this.size;f&&(this.visibleSlides.push(o),this.visibleSlidesIndexes.push(e),i[e].classList.add(t.slideVisibleClass)),o.progress=n?-c:c,o.originalProgress=n?-u:u}},updateProgress:function(e){if(void 0===e){let t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}let t=this.params,i=this.maxTranslate()-this.minTranslate(),{progress:n,isBeginning:r,isEnd:s,progressLoop:a}=this,o=r,l=s;if(0===i)n=0,r=!0,s=!0;else{n=(e-this.minTranslate())/i;let t=1>Math.abs(e-this.minTranslate()),a=1>Math.abs(e-this.maxTranslate());r=t||n<=0,s=a||n>=1,t&&(n=0),a&&(n=1)}if(t.loop){let t=this.getSlideIndexByData(0),i=this.getSlideIndexByData(this.slides.length-1),n=this.slidesGrid[t],r=this.slidesGrid[i],s=this.slidesGrid[this.slidesGrid.length-1],o=Math.abs(e);(a=o>=n?(o-n)/s:(o+s-r)/s)>1&&(a-=1)}Object.assign(this,{progress:n,progressLoop:a,isBeginning:r,isEnd:s}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&this.updateSlidesProgress(e),r&&!o&&this.emit("reachBeginning toEdge"),s&&!l&&this.emit("reachEnd toEdge"),(o&&!r||l&&!s)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){let e;let{slides:t,params:i,slidesEl:n,activeIndex:r}=this,s=this.virtual&&i.virtual.enabled,a=e=>pv(n,`.${i.slideClass}${e}, swiper-slide${e}`)[0];if(t.forEach(e=>{e.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)}),s){if(i.loop){let t=r-this.virtual.slidesBefore;t<0&&(t=this.virtual.slides.length+t),t>=this.virtual.slides.length&&(t-=this.virtual.slides.length),e=a(`[data-swiper-slide-index="${t}"]`)}else e=a(`[data-swiper-slide-index="${r}"]`)}else e=t[r];if(e){e.classList.add(i.slideActiveClass);let n=function(e,t){let i=[];for(;e.nextElementSibling;){let n=e.nextElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(e,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!n&&(n=t[0]),n&&n.classList.add(i.slideNextClass);let r=function(e,t){let i=[];for(;e.previousElementSibling;){let n=e.previousElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(e,`.${i.slideClass}, swiper-slide`)[0];i.loop,r&&r.classList.add(i.slidePrevClass)}this.emitSlidesClasses()},updateActiveIndex:function(e){let t,i;let n=this,r=n.rtlTranslate?n.translate:-n.translate,{snapGrid:s,params:a,activeIndex:o,realIndex:l,snapIndex:c}=n,u=e,h=e=>{let t=e-n.virtual.slidesBefore;return t<0&&(t=n.virtual.slides.length+t),t>=n.virtual.slides.length&&(t-=n.virtual.slides.length),t};if(void 0===u&&(u=function(e){let t;let{slidesGrid:i,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;for(let e=0;e<i.length;e+=1)void 0!==i[e+1]?r>=i[e]&&r<i[e+1]-(i[e+1]-i[e])/2?t=e:r>=i[e]&&r<i[e+1]&&(t=e+1):r>=i[e]&&(t=e);return n.normalizeSlideIndex&&(t<0||void 0===t)&&(t=0),t}(n)),s.indexOf(r)>=0)t=s.indexOf(r);else{let e=Math.min(a.slidesPerGroupSkip,u);t=e+Math.floor((u-e)/a.slidesPerGroup)}if(t>=s.length&&(t=s.length-1),u===o){t!==c&&(n.snapIndex=t,n.emit("snapIndexChange")),n.params.loop&&n.virtual&&n.params.virtual.enabled&&(n.realIndex=h(u));return}i=n.virtual&&a.virtual.enabled&&a.loop?h(u):n.slides[u]?parseInt(n.slides[u].getAttribute("data-swiper-slide-index")||u,10):u,Object.assign(n,{previousSnapIndex:c,snapIndex:t,previousRealIndex:l,realIndex:i,previousIndex:o,activeIndex:u}),n.initialized&&pI(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==i&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")},updateClickedSlide:function(e){let t;let i=this.params,n=e.closest(`.${i.slideClass}, swiper-slide`),r=!1;if(n){for(let e=0;e<this.slides.length;e+=1)if(this.slides[e]===n){r=!0,t=e;break}}if(n&&r)this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):this.clickedIndex=t;else{this.clickedSlide=void 0,this.clickedIndex=void 0;return}i.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e=this.isHorizontal()?"x":"y"){let{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let s=function(e,t="x"){let i,n,r;let s=ph(),a=function(e){let t;let i=ph();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e,null);return s.WebKitCSSMatrix?((n=a.transform||a.webkitTransform).split(",").length>6&&(n=n.split(", ").map(e=>e.replace(",",".")).join(", ")),r=new s.WebKitCSSMatrix("none"===n?"":n)):i=(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=s.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=s.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}(r,e);return s+=this.cssOverflowAdjustment(),i&&(s=-s),s||0},setTranslate:function(e,t){let{rtlTranslate:i,params:n,wrapperEl:r,progress:s}=this,a=0,o=0;this.isHorizontal()?a=i?-e:e:o=e,n.roundLengths&&(a=Math.floor(a),o=Math.floor(o)),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:o,n.cssMode?r[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-o:n.virtualTranslate||(this.isHorizontal()?a-=this.cssOverflowAdjustment():o-=this.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${o}px, 0px)`);let l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==s&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,i=!0,n=!0,r){let s;let a=this,{params:o,wrapperEl:l}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;let c=a.minTranslate(),u=a.maxTranslate();if(s=n&&e>c?c:n&&e<u?u:e,a.updateProgress(s),o.cssMode){let e=a.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-s;else{if(!a.support.smoothScroll)return py({swiper:a,targetPosition:-s,side:e?"left":"top"}),!0;l.scrollTo({[e?"left":"top"]:-s,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(s),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(s),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,i&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||(this.wrapperEl.style.transitionDuration=`${e}ms`),this.emit("setTransition",e,t)},transitionStart:function(e=!0,t){let{params:i}=this;i.cssMode||(i.autoHeight&&this.updateAutoHeight(),pC({swiper:this,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){let{params:i}=this;this.animating=!1,i.cssMode||(this.setTransition(0),pC({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e=0,t=this.params.speed,i=!0,n,r){let s;"string"==typeof e&&(e=parseInt(e,10));let a=this,o=e;o<0&&(o=0);let{params:l,snapGrid:c,slidesGrid:u,previousIndex:h,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:m}=a;if(a.animating&&l.preventInteractionOnTransition||!m&&!n&&!r)return!1;let g=Math.min(a.params.slidesPerGroupSkip,o),y=g+Math.floor((o-g)/a.params.slidesPerGroup);y>=c.length&&(y=c.length-1);let v=-c[y];if(l.normalizeSlideIndex)for(let e=0;e<u.length;e+=1){let t=-Math.floor(100*v),i=Math.floor(100*u[e]),n=Math.floor(100*u[e+1]);void 0!==u[e+1]?t>=i&&t<n-(n-i)/2?o=e:t>=i&&t<n&&(o=e+1):t>=i&&(o=e)}if(a.initialized&&o!==d&&(!a.allowSlideNext&&(f?v>a.translate&&v>a.minTranslate():v<a.translate&&v<a.minTranslate())||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(d||0)!==o))return!1;if(o!==(h||0)&&i&&a.emit("beforeSlideChangeStart"),a.updateProgress(v),s=o>d?"next":o<d?"prev":"reset",f&&-v===a.translate||!f&&v===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(v),"reset"!==s&&(a.transitionStart(i,s),a.transitionEnd(i,s)),!1;if(l.cssMode){let e=a.isHorizontal(),i=f?v:-v;if(0===t){let t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=i})):p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return py({swiper:a,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(v),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,s),0===t?a.transitionEnd(i,s):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,s))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,i=!0,n){if("string"==typeof e){let t=parseInt(e,10);e=t}let r=e;return this.params.loop&&(this.virtual&&this.params.virtual.enabled?r+=this.virtual.slidesBefore:r=this.getSlideIndexByData(r)),this.slideTo(r,t,i,n)},slideNext:function(e=this.params.speed,t=!0,i){let{enabled:n,params:r,animating:s}=this;if(!n)return this;let a=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(a=Math.max(this.slidesPerViewDynamic("current",!0),1));let o=this.activeIndex<r.slidesPerGroupSkip?1:a,l=this.virtual&&r.virtual.enabled;if(r.loop){if(s&&!l&&r.loopPreventsSliding)return!1;this.loopFix({direction:"next"}),this._clientLeft=this.wrapperEl.clientLeft}return r.rewind&&this.isEnd?this.slideTo(0,e,t,i):this.slideTo(this.activeIndex+o,e,t,i)},slidePrev:function(e=this.params.speed,t=!0,i){let{params:n,snapGrid:r,slidesGrid:s,rtlTranslate:a,enabled:o,animating:l}=this;if(!o)return this;let c=this.virtual&&n.virtual.enabled;if(n.loop){if(l&&!c&&n.loopPreventsSliding)return!1;this.loopFix({direction:"prev"}),this._clientLeft=this.wrapperEl.clientLeft}let u=a?this.translate:-this.translate;function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}let d=h(u),f=r.map(e=>h(e)),p=r[f.indexOf(d)-1];if(void 0===p&&n.cssMode){let e;r.forEach((t,i)=>{d>=t&&(e=i)}),void 0!==e&&(p=r[e>0?e-1:e])}let m=0;if(void 0!==p&&((m=s.indexOf(p))<0&&(m=this.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(m=Math.max(m=m-this.slidesPerViewDynamic("previous",!0)+1,0))),n.rewind&&this.isBeginning){let n=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.virtual.slides.length-1:this.slides.length-1;return this.slideTo(n,e,t,i)}return this.slideTo(m,e,t,i)},slideReset:function(e=this.params.speed,t=!0,i){return this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e=this.params.speed,t=!0,i,n=.5){let r=this.activeIndex,s=Math.min(this.params.slidesPerGroupSkip,r),a=s+Math.floor((r-s)/this.params.slidesPerGroup),o=this.rtlTranslate?this.translate:-this.translate;if(o>=this.snapGrid[a]){let e=this.snapGrid[a],t=this.snapGrid[a+1];o-e>(t-e)*n&&(r+=this.params.slidesPerGroup)}else{let e=this.snapGrid[a-1],t=this.snapGrid[a];o-e<=(t-e)*n&&(r-=this.params.slidesPerGroup)}return r=Math.min(r=Math.max(r,0),this.slidesGrid.length-1),this.slideTo(r,e,t,i)},slideToClickedSlide:function(){let e;let t=this,{params:i,slidesEl:n}=t,r="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,s=t.clickedIndex,a=t.isElement?"swiper-slide":`.${i.slideClass}`;if(i.loop){if(t.animating)return;e=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(pv(n,`${a}[data-swiper-slide-index="${e}"]`)[0]),pd(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(pv(n,`${a}[data-swiper-slide-index="${e}"]`)[0]),pd(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},loop:{loopCreate:function(e){let{params:t,slidesEl:i}=this;if(!t.loop||this.virtual&&this.params.virtual.enabled)return;let n=pv(i,`.${t.slideClass}, swiper-slide`);n.forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}),this.loopFix({slideRealIndex:e,direction:t.centeredSlides?void 0:"next"})},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:r,byController:s,byMousewheel:a}={}){let o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");let{slides:l,allowSlidePrev:c,allowSlideNext:u,slidesEl:h,params:d}=o;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&d.virtual.enabled){t&&(d.centeredSlides||0!==o.snapIndex?d.centeredSlides&&o.snapIndex<d.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0):o.slideTo(o.virtual.slides.length,0,!1,!0)),o.allowSlidePrev=c,o.allowSlideNext=u,o.emit("loopFix");return}let f="auto"===d.slidesPerView?o.slidesPerViewDynamic():Math.ceil(parseFloat(d.slidesPerView,10)),p=d.loopedSlides||f;p%d.slidesPerGroup!=0&&(p+=d.slidesPerGroup-p%d.slidesPerGroup),o.loopedSlides=p;let m=[],g=[],y=o.activeIndex;void 0===r?r=o.getSlideIndex(o.slides.filter(e=>e.classList.contains(d.slideActiveClass))[0]):y=r;let v="next"===i||!i,b="prev"===i||!i,w=0,x=0;if(r<p){w=Math.max(p-r,d.slidesPerGroup);for(let e=0;e<p-r;e+=1){let t=e-Math.floor(e/l.length)*l.length;m.push(l.length-t-1)}}else if(r>o.slides.length-2*p){x=Math.max(r-(o.slides.length-2*p),d.slidesPerGroup);for(let e=0;e<x;e+=1){let t=e-Math.floor(e/l.length)*l.length;g.push(t)}}if(b&&m.forEach(e=>{o.slides[e].swiperLoopMoveDOM=!0,h.prepend(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1}),v&&g.forEach(e=>{o.slides[e].swiperLoopMoveDOM=!0,h.append(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1}),o.recalcSlides(),"auto"===d.slidesPerView&&o.updateSlides(),d.watchSlidesProgress&&o.updateSlidesOffset(),t){if(m.length>0&&b){if(void 0===e){let e=o.slidesGrid[y],t=o.slidesGrid[y+w],i=t-e;a?o.setTranslate(o.translate-i):(o.slideTo(y+w,0,!1,!0),n&&(o.touches[o.isHorizontal()?"startX":"startY"]+=i))}else n&&o.slideToLoop(e,0,!1,!0)}else if(g.length>0&&v){if(void 0===e){let e=o.slidesGrid[y],t=o.slidesGrid[y-x],i=t-e;a?o.setTranslate(o.translate-i):(o.slideTo(y-x,0,!1,!0),n&&(o.touches[o.isHorizontal()?"startX":"startY"]+=i))}else o.slideToLoop(e,0,!1,!0)}}if(o.allowSlidePrev=c,o.allowSlideNext=u,o.controller&&o.controller.control&&!s){let t={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(e=>{!e.destroyed&&e.params.loop&&e.loopFix(t)}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix(t)}o.emit("loopFix")},loopDestroy:function(){let{params:e,slidesEl:t}=this;if(!e.loop||this.virtual&&this.params.virtual.enabled)return;this.recalcSlides();let i=[];this.slides.forEach(e=>{let t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e}),this.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),i.forEach(e=>{t.append(e)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}},grabCursor:{setGrabCursor:function(e){let t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;let i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){let e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){let e=pc(),{params:t}=this;this.onTouchStart=p_.bind(this),this.onTouchMove=pN.bind(this),this.onTouchEnd=pL.bind(this),t.cssMode&&(this.onScroll=pR.bind(this)),this.onClick=pM.bind(this),this.onLoad=pD.bind(this),pO||(e.addEventListener("touchstart",pP),pO=!0),pF(this,"on")},detachEvents:function(){pF(this,"off")}},breakpoints:{setBreakpoint:function(){let e=this,{realIndex:t,initialized:i,params:n,el:r}=e,s=n.breakpoints;if(!s||s&&0===Object.keys(s).length)return;let a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;let o=a in s?s[a]:void 0,l=o||e.originalParams,c=pz(e,n),u=pz(e,l),h=n.enabled;c&&!u?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(r.classList.add(`${n.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===n.grid.fill)&&r.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===l[t])return;let i=n[t]&&n[t].enabled,r=l[t]&&l[t].enabled;i&&!r&&e[t].disable(),!i&&r&&e[t].enable()});let d=l.direction&&l.direction!==n.direction,f=n.loop&&(l.slidesPerView!==n.slidesPerView||d);d&&i&&e.changeDirection(),pm(e.params,l);let p=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!p?e.disable():!h&&p&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),f&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",l)},getBreakpoint:function(e,t="window",i){if(!e||"container"===t&&!i)return;let n=!1,r=ph(),s="window"===t?r.innerHeight:i.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){let t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let e=0;e<a.length;e+=1){let{point:s,value:o}=a[e];"window"===t?r.matchMedia(`(min-width: ${o}px)`).matches&&(n=s):o<=i.clientWidth&&(n=s)}return n||"max"}},checkOverflow:{checkOverflow:function(){let{isLocked:e,params:t}=this,{slidesOffsetBefore:i}=t;if(i){let e=this.slides.length-1,t=this.slidesGrid[e]+this.slidesSizesGrid[e]+2*i;this.isLocked=this.size>t}else this.isLocked=1===this.snapGrid.length;!0===t.allowSlideNext&&(this.allowSlideNext=!this.isLocked),!0===t.allowSlidePrev&&(this.allowSlidePrev=!this.isLocked),e&&e!==this.isLocked&&(this.isEnd=!1),e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock")}},classes:{addClasses:function(){let{classNames:e,params:t,rtl:i,el:n,device:r}=this,s=function(e,t){let i=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(n=>{e[n]&&i.push(t+n)}):"string"==typeof e&&i.push(t+e)}),i}(["initialized",t.direction,{"free-mode":this.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),n.classList.add(...e),this.emitContainerClasses()},removeClasses:function(){let{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},pV={};class pj{getSlideIndex(e){let{slidesEl:t,params:i}=this,n=pv(t,`.${i.slideClass}, swiper-slide`),r=px(n[0]);return px(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>1*t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){let{slidesEl:e,params:t}=this;this.slides=pv(e,`.${t.slideClass}, swiper-slide`)}enable(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}disable(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}setProgress(e,t){e=Math.min(Math.max(e,0),1);let i=this.minTranslate(),n=this.maxTranslate(),r=(n-i)*e+i;this.translateTo(r,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(i=>{let n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){let{params:i,slides:n,slidesGrid:r,slidesSizesGrid:s,size:a,activeIndex:o}=this,l=1;if(i.centeredSlides){let e,t=n[o]?n[o].swiperSlideSize:0;for(let i=o+1;i<n.length;i+=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>a&&(e=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let e=o+1;e<n.length;e+=1){let i=t?r[e]+s[e]-r[o]<a:r[e]-r[o]<a;i&&(l+=1)}else for(let e=o-1;e>=0;e-=1){let t=r[o]-r[e]<a;t&&(l+=1)}return l}update(){let e;let t=this;if(!t||t.destroyed)return;let{snapGrid:i,params:n}=t;function r(){let e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}if(n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete&&pT(t,e)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){let i=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;e=t.slideTo(i.length-1,0,!1,!0)}else e=t.slideTo(t.activeIndex,0,!1,!0);e||r()}n.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(e,t=!0){let i=this.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(this.el.classList.remove(`${this.params.containerModifierClass}${i}`),this.el.classList.add(`${this.params.containerModifierClass}${e}`),this.emitContainerClasses(),this.params.direction=e,this.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),this.emit("changeDirection"),t&&this.update()),this}changeLanguageDirection(e){(!this.rtl||"rtl"!==e)&&(this.rtl||"ltr"!==e)&&(this.rtl="rtl"===e,this.rtlTranslate="horizontal"===this.params.direction&&this.rtl,this.rtl?(this.el.classList.add(`${this.params.containerModifierClass}rtl`),this.el.dir="rtl"):(this.el.classList.remove(`${this.params.containerModifierClass}rtl`),this.el.dir="ltr"),this.update())}mount(e){let t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.shadowEl&&(t.isElement=!0);let n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,r=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){let e=i.shadowRoot.querySelector(n());return e}return pv(i,n())[0]})();return!r&&t.params.createElements&&(r=pb("div",t.params.wrapperClass),i.append(r),pv(i,`.${t.params.slideClass}`).forEach(e=>{r.append(e)})),Object.assign(t,{el:i,wrapperEl:r,slidesEl:t.isElement?i:r,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===pw(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===pw(i,"direction")),wrongRTL:"-webkit-box"===pw(r,"display")}),!0}init(e){let t=this;if(t.initialized)return t;let i=t.mount(e);return!1===i||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete?pT(t,e):e.addEventListener("load",e=>{pT(t,e.target)})}),pI(t),t.initialized=!0,pI(t),t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){let i=this,{params:n,el:r,wrapperEl:s,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(e=>{i.off(e)}),!1!==e&&(i.el.swiper=null,function(e){Object.keys(e).forEach(t=>{try{e[t]=null}catch(e){}try{delete e[t]}catch(e){}})}(i)),i.destroyed=!0),null}static extendDefaults(e){pm(pV,e)}static get extendedDefaults(){return pV}static get defaults(){return pU}static installModule(e){pj.prototype.__modules__||(pj.prototype.__modules__=[]);let t=pj.prototype.__modules__;"function"==typeof e&&0>t.indexOf(e)&&t.push(e)}static use(e){return Array.isArray(e)?e.forEach(e=>pj.installModule(e)):pj.installModule(e),pj}constructor(...e){let t,i;1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?i=e[0]:[t,i]=e,i||(i={}),i=pm({},i),t&&!i.el&&(i.el=t);let n=pc();if(i.el&&"string"==typeof i.el&&n.querySelectorAll(i.el).length>1){let e=[];return n.querySelectorAll(i.el).forEach(t=>{let n=pm({},i,{el:t});e.push(new pj(n))}),e}let a=this;a.__swiper__=!0,a.support=pE(),a.device=function(e={}){return r||(r=function({userAgent:e}={}){let t=pE(),i=ph(),n=i.navigator.platform,r=e||i.navigator.userAgent,s={ios:!1,android:!1},a=i.screen.width,o=i.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/),c=r.match(/(iPad).*OS\s([\d_]+)/),u=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="MacIntel"===n;return!c&&d&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${o}`)>=0&&((c=r.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),d=!1),l&&"Win32"!==n&&(s.os="android",s.android=!0),(c||h||u)&&(s.os="ios",s.ios=!0),s}(e)),r}({userAgent:i.userAgent}),a.browser=(s||(s=function(){let e=ph(),t=!1;function i(){let t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&0>t.indexOf("chrome")&&0>t.indexOf("android")}if(i()){let i=String(e.navigator.userAgent);if(i.includes("Version/")){let[e,n]=i.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));t=e<16||16===e&&n<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),s),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],i.modules&&Array.isArray(i.modules)&&a.modules.push(...i.modules);let o={};a.modules.forEach(e=>{e({params:i,swiper:a,extendParams:function(e,t){return function(i={}){let n=Object.keys(i)[0],r=i[n];if("object"!=typeof r||null===r||(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),!(n in e&&"enabled"in r))){pm(t,i);return}!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),pm(t,i)}}(i,o),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let l=pm({},pU,o);return a.params=pm({},l,pV,i),a.originalParams=pm({},a.params),a.passedParams=pm({},i),a.params&&a.params.on&&Object.keys(a.params.on).forEach(e=>{a.on(e,a.params.on[e])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return 8388608*Math.trunc(this.translate/8388608)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}}Object.keys(pB).forEach(e=>{Object.keys(pB[e]).forEach(t=>{pj.prototype[t]=pB[e][t]})}),pj.use([function({swiper:e,on:t,emit:i}){let n=ph(),r=null,s=null,a=()=>{e&&!e.destroyed&&e.initialized&&(i("beforeResize"),i("resize"))},o=()=>{e&&!e.destroyed&&e.initialized&&(r=new ResizeObserver(t=>{s=n.requestAnimationFrame(()=>{let{width:i,height:n}=e,r=i,s=n;t.forEach(({contentBoxSize:t,contentRect:i,target:n})=>{n&&n!==e.el||(r=i?i.width:(t[0]||t).inlineSize,s=i?i.height:(t[0]||t).blockSize)}),(r!==i||s!==n)&&a()})})).observe(e.el)},l=()=>{s&&n.cancelAnimationFrame(s),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},c=()=>{e&&!e.destroyed&&e.initialized&&i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&void 0!==n.ResizeObserver){o();return}n.addEventListener("resize",a),n.addEventListener("orientationchange",c)}),t("destroy",()=>{l(),n.removeEventListener("resize",a),n.removeEventListener("orientationchange",c)})},function({swiper:e,extendParams:t,on:i,emit:n}){let r=[],s=ph(),a=(t,i={})=>{let a=s.MutationObserver||s.WebkitMutationObserver,o=new a(t=>{if(e.__preventObserver__)return;if(1===t.length){n("observerUpdate",t[0]);return}let i=function(){n("observerUpdate",t[0])};s.requestAnimationFrame?s.requestAnimationFrame(i):s.setTimeout(i,0)});o.observe(t,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),r.push(o)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){let t=function(e,t){let i=[],n=e.parentElement;for(;n;)t?n.matches(t)&&i.push(n):i.push(n),n=n.parentElement;return i}(e.el);for(let e=0;e<t.length;e+=1)a(t[e])}a(e.el,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{r.forEach(e=>{e.disconnect()}),r.splice(0,r.length)})}]);const pW=document.querySelector(".support-list"),pq=ps.map(function({title:e,url:t,img:i},n){let r=(n+1).toString().padStart(2,"0");return`<li class="swiper-slide support-slide">
        <div class="support-item">
        <span class="support-index">${r}</span>
        <a class="support-link" href="${t}" target="_blank" rel="noopener noreferrer nofollow">
            <img class="support-image"
                srcset="${i.x1} 1x, ${i.x2} 2x"
                src="${i.x1}" type="image/png" alt="${e}">
        </a>
    </li>`}).join("");pW.innerHTML=pq,new pj(".swiper",{direction:"vertical",slidesPerView:4,slidesOffsetAfter:0,rewind:!0,spaceBetween:20,effect:"slide",breakpoints:{376:{slidesPerView:6}},modules:[function({swiper:e,extendParams:t,on:i,emit:n}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let r=e=>(Array.isArray(e)||(e=[e].filter(e=>!!e)),e);function s(t){let i;return t&&"string"==typeof t&&e.isElement&&(i=e.el.shadowRoot.querySelector(t))?i:(t&&("string"==typeof t&&(i=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&i.length>1&&1===e.el.querySelectorAll(t).length&&(i=e.el.querySelector(t))),t&&!i)?t:i}function a(t,i){let n=e.params.navigation;(t=r(t)).forEach(t=>{t&&(t.classList[i?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=i),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](n.lockClass))})}function o(){let{nextEl:t,prevEl:i}=e.navigation;if(e.params.loop){a(i,!1),a(t,!1);return}a(i,e.isBeginning&&!e.params.rewind),a(t,e.isEnd&&!e.params.rewind)}function l(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function c(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function u(){var t,i,n;let a=e.params.navigation;if(e.params.navigation=(t=e.originalParams.navigation,i=e.params.navigation,n={nextEl:"swiper-button-next",prevEl:"swiper-button-prev"},e.params.createElements&&Object.keys(n).forEach(r=>{if(!i[r]&&!0===i.auto){let s=pv(e.el,`.${n[r]}`)[0];s||((s=pb("div",n[r])).className=n[r],e.el.append(s)),i[r]=s,t[r]=s}}),i),!(a.nextEl||a.prevEl))return;let o=s(a.nextEl),u=s(a.prevEl);Object.assign(e.navigation,{nextEl:o,prevEl:u}),o=r(o),u=r(u);let h=(t,i)=>{t&&t.addEventListener("click","next"===i?c:l),!e.enabled&&t&&t.classList.add(...a.lockClass.split(" "))};o.forEach(e=>h(e,"next")),u.forEach(e=>h(e,"prev"))}function h(){let{nextEl:t,prevEl:i}=e.navigation;t=r(t),i=r(i);let n=(t,i)=>{t.removeEventListener("click","next"===i?c:l),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach(e=>n(e,"next")),i.forEach(e=>n(e,"prev"))}i("init",()=>{!1===e.params.navigation.enabled?d():(u(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:t,prevEl:i}=e.navigation;[...t=r(t),...i=r(i)].filter(e=>!!e).forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(t,i)=>{let{nextEl:s,prevEl:a}=e.navigation;s=r(s),a=r(a);let o=i.target;if(e.params.navigation.hideOnClick&&!a.includes(o)&&!s.includes(o)){let t;if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;s.length?t=s[0].classList.contains(e.params.navigation.hiddenClass):a.length&&(t=a[0].classList.contains(e.params.navigation.hiddenClass)),!0===t?n("navigationShow"):n("navigationHide"),[...s,...a].filter(e=>!!e).forEach(t=>t.classList.toggle(e.params.navigation.hiddenClass))}});let d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},disable:d,update:o,init:u,destroy:h})}],navigation:{nextEl:".swiper-next"}});var pH={};window,pH=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,(function(t){return e[t]}).bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist",i(i.s=10)}([function(e,t,i){"use strict";e.exports=function(e,t){var i,n,r,s,a=Object.prototype.hasOwnProperty;for(r=1,s=arguments.length;r<s;r+=1)for(n in i=arguments[r])a.call(i,n)&&(e[n]=i[n]);return e}},function(e,t,i){"use strict";e.exports=function(e){return void 0===e}},function(e,t,i){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,i){"use strict";var n=i(2),r=i(17),s=i(6);e.exports=function(e,t,i){n(e)?r(e,t,i):s(e,t,i)}},function(e,t,i){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,i){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n;for(n in i=i||null,e)if(e.hasOwnProperty(n)&&!1===t.call(i,e[n],n,e))break}},function(e,t,i){"use strict";var n=i(18),r=i(0);e.exports=function(e,t){var i;return t||(t=e,e=null),i=t.init||function(){},e&&n(i,e),t.hasOwnProperty("static")&&(r(i,t.static),delete t.static),r(i.prototype,t),i}},function(e,t,i){"use strict";var n=i(2);e.exports=function(e,t,i){var r,s;if(i=i||0,!n(t))return -1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,i);for(s=t.length,r=i;i>=0&&r<s;r+=1)if(t[r]===e)return r;return -1}},function(e,t,i){"use strict";var n=i(29),r=i(30),s=i(5);e.exports={capitalizeFirstLetter:function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)},isContained:function(e,t){return!!t&&(e===t||t.contains(e))},createElementByTemplate:function(e,t){var i=document.createElement("div"),r=s(e)?e(t):n(e,t);return i.innerHTML=r,i.firstChild},bind:function(e,t){var i,n=Array.prototype.slice;return e.bind?e.bind.apply(e,n.call(arguments,1)):(i=n.call(arguments,2),function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)})},sendHostName:function(){r("pagination","UA-129987462-1")}}},function(e,t,i){"use strict";i(11),e.exports=i(12)},function(e,t,i){},function(e,t,i){"use strict";var n=i(13),r=i(7),s=i(0),a=i(1),o=i(20),l=i(9),c={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},u=r({init:function(e,t){this._options=s({},c,t),this._currentPage=0,this._view=new o(e,this._options,l.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&l.sendHostName()},_setCurrentPage:function(e){this._currentPage=e||this._options.page},_getLastPage:function(){return Math.ceil(this._options.totalItems/this._options.itemsPerPage)||1},_getPageIndex:function(e){return this._options.centerAlign?Math.min(Math.max(e-Math.floor(this._options.visiblePages/2),1),this._getLastPage()-this._options.visiblePages+1):Math.ceil(e/this._options.visiblePages)},_getRelativePage:function(e){var t=this.getCurrentPage();return"prev"===e?t-1:t+1},_getMorePageIndex:function(e){var t=this._getPageIndex(this.getCurrentPage()),i=this._options.visiblePages,n="prev"===e;return this._options.centerAlign?n?t-1:t+i:n?(t-1)*i:t*i+1},_convertToValidPage:function(e){var t=this._getLastPage();return e=Math.min(e=Math.max(e,1),t)},_paginate:function(e){var t=this._makeViewData(e||this._options.page);this._setCurrentPage(e),this._view.update(t)},_makeViewData:function(e){var t={},i=this._getLastPage(),n=this._getPageIndex(e),r=this._getPageIndex(i),s=this._getEdge(e);return t.leftPageNumber=s.left,t.rightPageNumber=s.right,t.prevMore=n>1,t.nextMore=n<r,t.page=e,t.currentPageIndex=e,t.lastPage=i,t.lastPageListIndex=i,t},_getEdge:function(e){var t,i,n=this._getLastPage(),r=this._options.visiblePages,s=this._getPageIndex(e);return this._options.centerAlign?(i=(t=Math.max(e-Math.floor(r/2),1))+r-1)>n&&(t=Math.max(n-r+1,1),i=n):(t=(s-1)*r+1,i=Math.min(i=s*r,n)),{left:t,right:i}},_onClickHandler:function(e,t){switch(e){case"first":t=1;break;case"prev":t=this._getRelativePage("prev");break;case"next":t=this._getRelativePage("next");break;case"prevMore":t=this._getMorePageIndex("prev");break;case"nextMore":t=this._getMorePageIndex("next");break;case"last":t=this._getLastPage();break;default:if(!t)return}this.movePageTo(t)},reset:function(e){a(e)&&(e=this._options.totalItems),this._options.totalItems=e,this._paginate(1)},movePageTo:function(e){e=this._convertToValidPage(e),this.invoke("beforeMove",{page:e})&&(this._paginate(e),this.fire("afterMove",{page:e}))},setTotalItems:function(e){this._options.totalItems=e},setItemsPerPage:function(e){this._options.itemsPerPage=e},getCurrentPage:function(){return this._currentPage||this._options.page}});n.mixin(u),e.exports=u},function(e,t,i){"use strict";var n=i(0),r=i(14),s=i(4),a=i(16),o=i(2),l=i(5),c=i(3),u=/\s+/g;function h(){this.events=null,this.contexts=null}h.mixin=function(e){n(e.prototype,h.prototype)},h.prototype._getHandlerItem=function(e,t){var i={handler:e};return t&&(i.context=t),i},h.prototype._safeEvent=function(e){var t,i=this.events;return i||(i=this.events={}),e&&((t=i[e])||(t=[],i[e]=t),i=t),i},h.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},h.prototype._indexOfContext=function(e){for(var t=this._safeContext(),i=0;t[i];){if(e===t[i][0])return i;i+=1}return -1},h.prototype._memorizeContext=function(e){var t,i;r(e)&&(t=this._safeContext(),(i=this._indexOfContext(e))>-1?t[i][1]+=1:t.push([e,1]))},h.prototype._forgetContext=function(e){var t,i;r(e)&&(t=this._safeContext(),(i=this._indexOfContext(e))>-1&&(t[i][1]-=1,t[i][1]<=0&&t.splice(i,1)))},h.prototype._bindEvent=function(e,t,i){var n=this._safeEvent(e);this._memorizeContext(i),n.push(this._getHandlerItem(t,i))},h.prototype.on=function(e,t,i){var n=this;s(e)?c(e=e.split(u),function(e){n._bindEvent(e,t,i)}):a(e)&&(i=t,c(e,function(e,t){n.on(t,e,i)}))},h.prototype.once=function(e,t,i){var n=this;if(a(e)){i=t,c(e,function(e,t){n.once(t,e,i)});return}this.on(e,function r(){t.apply(i,arguments),n.off(e,r,i)},i)},h.prototype._spliceMatches=function(e,t){var i,n=0;if(o(e))for(i=e.length;n<i;n+=1)!0===t(e[n])&&(e.splice(n,1),i-=1,n-=1)},h.prototype._matchHandler=function(e){var t=this;return function(i){var n=e===i.handler;return n&&t._forgetContext(i.context),n}},h.prototype._matchContext=function(e){var t=this;return function(i){var n=e===i.context;return n&&t._forgetContext(i.context),n}},h.prototype._matchHandlerAndContext=function(e,t){var i=this;return function(n){var r=e===n.handler,s=t===n.context,a=r&&s;return a&&i._forgetContext(n.context),a}},h.prototype._offByEventName=function(e,t){var i=this,n=l(t),r=i._matchHandler(t);c(e=e.split(u),function(e){var t=i._safeEvent(e);n?i._spliceMatches(t,r):(c(t,function(e){i._forgetContext(e.context)}),i.events[e]=[])})},h.prototype._offByHandler=function(e){var t=this,i=this._matchHandler(e);c(this._safeEvent(),function(e){t._spliceMatches(e,i)})},h.prototype._offByObject=function(e,t){var i,n=this;0>this._indexOfContext(e)?c(e,function(e,t){n.off(t,e)}):s(t)?(i=this._matchContext(e),n._spliceMatches(this._safeEvent(t),i)):l(t)?(i=this._matchHandlerAndContext(t,e),c(this._safeEvent(),function(e){n._spliceMatches(e,i)})):(i=this._matchContext(e),c(this._safeEvent(),function(e){n._spliceMatches(e,i)}))},h.prototype.off=function(e,t){s(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},h.prototype.fire=function(e){this.invoke.apply(this,arguments)},h.prototype.invoke=function(e){var t,i,n,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),i=Array.prototype.slice.call(arguments,1),n=0;t[n];){if(!1===(r=t[n]).handler.apply(r.context,i))return!1;n+=1}return!0},h.prototype.hasListener=function(e){return this.getListenerLength(e)>0},h.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=h},function(e,t,i){"use strict";var n=i(1),r=i(15);e.exports=function(e){return!n(e)&&!r(e)}},function(e,t,i){"use strict";e.exports=function(e){return null===e}},function(e,t,i){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n=0,r=e.length;for(i=i||null;n<r&&!1!==t.call(i,e[n],n,e);n+=1);}},function(e,t,i){"use strict";var n=i(19);e.exports=function(e,t){var i=n(t.prototype);i.constructor=e,e.prototype=i}},function(e,t,i){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,i){"use strict";var n=i(3),r=i(7),s=i(21),a=i(22),o=i(24),l=i(25),c=i(0),u=i(4),h=i(28),d=i(9),f={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},p=["first","prev","next","last"],m=["prev","next"],g=r({init:function(e,t,i){this._containerElement=null,this._firstItemClassName=t.firstItemClassName,this._lastItemClassName=t.lastItemClassName,this._template=c({},f,t.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(e),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(i)},_setRootElement:function(e){if(u(e)?e=document.getElementById(e)||document.querySelector(e):e.jquery&&(e=e[0]),!h(e))throw Error("The container element is invalid.");this._containerElement=e},_setMoveButtons:function(){n(p,function(e){this._buttons[e]=d.createElementByTemplate(this._template.moveButton,{type:e})},this)},_setDisabledMoveButtons:function(){n(p,function(e){var t="disabled"+d.capitalizeFirstLetter(e);this._buttons[t]=d.createElementByTemplate(this._template.disabledMoveButton,{type:e})},this)},_setMoreButtons:function(){n(m,function(e){this._buttons[e+"More"]=d.createElementByTemplate(this._template.moreButton,{type:e})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(e){var t;t=e.page>1?this._buttons.first:this._buttons.disabledFirst,this._getContainerElement().appendChild(t)},_appendPrevButton:function(e){var t;t=e.currentPageIndex>1?this._buttons.prev:this._buttons.disabledPrev,this._getContainerElement().appendChild(t)},_appendNextButton:function(e){var t;t=e.currentPageIndex<e.lastPageListIndex?this._buttons.next:this._buttons.disabledNext,this._getContainerElement().appendChild(t)},_appendLastButton:function(e){var t;t=e.page<e.lastPage?this._buttons.last:this._buttons.disabledLast,this._getContainerElement().appendChild(t)},_appendPrevMoreButton:function(e){var t;e.prevMore&&(l(t=this._buttons.prevMore,this._firstItemClassName),this._getContainerElement().appendChild(t))},_appendNextMoreButton:function(e){var t;e.nextMore&&(l(t=this._buttons.nextMore,this._lastItemClassName),this._getContainerElement().appendChild(t))},_appendPages:function(e){var t,i,n=e.leftPageNumber,r=e.rightPageNumber;for(i=n;i<=r;i+=1)i===e.page?t=d.createElementByTemplate(this._template.currentPage,{page:i}):(t=d.createElementByTemplate(this._template.page,{page:i}),this._enabledPageElements.push(t)),i!==n||e.prevMore||l(t,this._firstItemClassName),i!==r||e.nextMore||l(t,this._lastItemClassName),this._getContainerElement().appendChild(t)},_attachClickEvent:function(e){a(this._getContainerElement(),"click",function(t){var i,n,r=s(t);o(t),(n=this._getButtonType(r))||(i=this._getPageNumber(r)),e(n,i)},this)},_getButtonType:function(e){var t;return n(this._buttons,function(i,n){return!d.isContained(e,i)||(t=n,!1)},this),t},_getPageNumber:function(e){var t,i=this._findPageElement(e);return i&&(t=parseInt(i.innerText,10)),t},_findPageElement:function(e){for(var t,i=0,n=this._enabledPageElements.length;i<n;i+=1)if(t=this._enabledPageElements[i],d.isContained(e,t))return t;return null},_empty:function(){this._enabledPageElements=[],n(this._buttons,function(e,t){this._buttons[t]=e.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(e){this._empty(),this._appendFirstButton(e),this._appendPrevButton(e),this._appendPrevMoreButton(e),this._appendPages(e),this._appendNextMoreButton(e),this._appendNextButton(e),this._appendLastButton(e)}});e.exports=g},function(e,t,i){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,i){"use strict";var n=i(4),r=i(3),s=i(23);function a(e,t,i,n){var a,o;function l(t){i.call(n||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,l):"attachEvent"in e&&e.attachEvent("on"+t,l),a=s(e,t),o=!1,r(a,function(e){return e.handler!==i||(o=!0,!1)}),o||a.push({handler:i,wrappedHandler:l})}e.exports=function(e,t,i,s){if(n(t)){r(t.split(/\s+/g),function(t){a(e,t,i,s)});return}r(t,function(t,n){a(e,n,t,i)})}},function(e,t,i){"use strict";var n="_feEventKey";e.exports=function(e,t){var i,r=e[n];return r||(r=e[n]={}),(i=r[t])||(i=r[t]=[]),i}},function(e,t,i){"use strict";e.exports=function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}},function(e,t,i){"use strict";var n=i(3),r=i(8),s=i(26),a=i(27);e.exports=function(e){var t,i=Array.prototype.slice.call(arguments,1),o=e.classList,l=[];if(o){n(i,function(t){e.classList.add(t)});return}(t=s(e))&&(i=[].concat(t.split(/\s+/),i)),n(i,function(e){0>r(e,l)&&l.push(e)}),a(e,l)}},function(e,t,i){"use strict";var n=i(1);e.exports=function(e){return e&&e.className?n(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,i){"use strict";var n=i(2),r=i(1);e.exports=function(e,t){if(t=(t=n(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),r(e.className.baseVal)){e.className=t;return}e.className.baseVal=t}},function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!!(e&&e.nodeType)}},function(e,t,i){"use strict";var n=i(8),r=i(3),s=i(2),a=i(4),o=i(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,h=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,d=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,i){var n,s,a,o,l=(n=[e],s=[],a=0,o=0,r(t,function(e,i){0===e.indexOf("if")?a+=1:"/if"===e?a-=1:a||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),s.push(t.slice(o,i)),o=i+1)}),s.push(t.slice(o)),{exps:n,sourcesInsideIf:s}),c=!1,u="";return r(l.exps,function(e,t){return(c=b(e,i))&&(u=w(l.sourcesInsideIf[t],i)),!c}),u},each:function(e,t,i){var n=b(e,i),a=s(n)?"@index":"@key",l={},c="";return r(n,function(e,n){l[a]=n,l["@this"]=e,o(i,l),c+=w(t.slice(),i)}),c},with:function(e,t,i){var r=n("as",e),s=e[r+1],a=b(e.slice(0,r),i),l={};return l[s]=a,w(t,o(i,l))||""}},y=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var i,n,r=[],s=0;for(t.global||(t=RegExp(t,"g")),i=t.exec(e);null!==i;)n=i.index,r.push(e.slice(s,n)),s=n+i[0].length,i=t.exec(e);return r.push(e.slice(s)),r};function v(e,t){var i,n=t[e];return"true"===e?n=!0:"false"===e?n=!1:f.test(e)?n=e.replace(p,""):c.test(e)?n=v((i=e.split(u))[0],t)[v(i[1],t)]:h.test(e)?n=v((i=e.split(d))[0],t)[i[1]]:m.test(e)&&(n=parseFloat(e)),n}function b(e,t){var i,n,s=v(e[0],t);return s instanceof Function?(i=e.slice(1),n=[],r(i,function(e){n.push(v(e,t))}),s.apply(null,n)):s}function w(e,t){for(var i,n,r,s=1,o=e[1];a(o);)g[n=(i=o.split(" "))[0]]?(r=function(e,t,i){for(var n,r,s,o=g[e],l=1,c=2,u=t[2];l&&a(u);)0===u.indexOf(e)?l+=1:0===u.indexOf("/"+e)&&(l-=1,s=c),c+=2,u=t[c];if(l)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=o(t[0].split(" ").slice(1),(n=s,(r=t.splice(1,n-0)).pop(),r),i),t}(n,e.splice(s,e.length-s),t),e=e.concat(r)):e[s]=b(i,t),s+=2,o=e[s];return e.join("")}e.exports=function(e,t){return w(y(e,l),t)}},function(e,t,i){"use strict";var n=i(1),r=i(31);e.exports=function(e,t){var i=location.hostname,s="TOAST UI "+e+" for "+i+": Statistics",a=window.localStorage.getItem(s);(n(window.tui)||!1!==window.tui.usageStatistics)&&(!a||new Date().getTime()-a>6048e5)&&(window.localStorage.setItem(s,new Date().getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&r("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:i,dp:i,dh:e,el:e,ec:"use"})},1e3))}},function(e,t,i){"use strict";var n=i(6);e.exports=function(e,t){var i=document.createElement("img"),r="";return n(t,function(e,t){r+="&"+t+"="+e}),r=r.substring(1),i.src=e+"?"+r,i.style.display="none",document.body.appendChild(i),document.body.removeChild(i),i}}]);const p$=document.getElementById("booksContainer");let pG=null;p$&&function e(t,i){if(!i)return;let n="shoppingList",r=JSON.parse(localStorage.getItem(n))||[],{appleBooksIconPath:s,bookShopIconPath:o,amazonIconPath:l,svgTrashIcon:c,emptyListStubImage:u}=dd(),h=(t-1)*3,d=h+3,f=r.slice(h,d);if(i.innerHTML="",0===f.length){let e=document.createElement("div");e.className="shop-card-empty",e.innerHTML=`
        <p class="shop-card-empty-text">
          This page is empty, add some books and proceed to order.
        </p>
        <img class="shop-card-empty-picture" src="${u}" alt="Shop is Empty">
      `,i.appendChild(e),function(){let e=document.getElementById("pagination");e.style.display="none"}()}else{let t=f.map(({_id:e,title:t,author:i,description:n,list_name:r,book_image:a,buy_links:[u,h,d,f,p]})=>`<article class="shopping__card">
          <div class="about-img">
            <img class="shopping-card-img" src="${a}" alt="${t}" />
          </div>
          <div class="about-content">
              <div class="about-title">
            <h3 class="shopping-card-title">${t}</h3>
            <p class="shopping-card-category">${r}</p>
          </div>
          <div class="about-description">
            <p class="shopping-card-description">${n||"The description of the book can be viewed on the seller's website."}</p>
          </div>
          <div class="about-autor-url">
          <div class="about-author">
            <p class="shopping-card-author">${i}</p>
          </div>
          <div class="shoplist-url">
            <ul class="shoplist-url-list">
              <li class="shoplist-url-item">
                <a class="shoplist-url-link" href="${u.url}" target="_blank" rel="noopener noreferrer nofollow" aria-label="Amazon link">
                  <img class="modal-shop-img shopping-shopimg amazon" src="${l}" alt="Amazon link" />
                </a>
              </li>
              <li class="shoplist-url-item">
                <a class="shoplist-url-link" href="${h.url}" target="_blank" rel="noopener noreferrer nofollow" aria-label="Apple Books link">
                  <img class="modal-shop-img shopping-shopimg apple" src="${s}" alt="Apple Books link" />
                </a>
              </li>
              <li class="shoplist-url-item">
                <a class="shoplist-url-link" href="${p.url}" target="_blank" rel="noopener noreferrer nofollow" aria-label="BookShop link">
                  <img class="modal-shop-img shopping-shopimg book-shop" src="${o}" alt="BookShop link" />
                </a>
              </li>
            </ul>
          </div></div>
          
          <div>
          <button class="shopping-card-btn" type="button" data-book-id="${e}" aria-label="Remove book from shopping list">
            <svg class="icon-trash" data-book-id="${e}" width="17" height="17">
              <use href="${c}#icon-trash"></use>
            </svg>
          </button>
        </article>`);i.innerHTML=t.join("");let a=i.querySelectorAll(".shopping-card-btn");a.forEach(t=>{t.addEventListener("click",t=>{let s=t.target.getAttribute("data-book-id");(function(t){let s=r.filter(e=>e._id!==t);localStorage.setItem(n,JSON.stringify(s)),r=s,p();let a=pG.getCurrentPage(),o=Math.ceil(r.length/3);a>o&&pG.movePageTo(o);let l=pG.getCurrentPage();e(l,i)})(s)})}),function(){let e=document.getElementById("pagination");e.style.display="block"}()}function p(e){let t=document.querySelector(".tui-pagination"),i=t.querySelectorAll(".tui-page-btn");i.forEach(t=>{let i=parseInt(t.innerText);i>e&&t.remove()})}let m=document.getElementById("pagination"),g={totalItems:r.length,itemsPerPage:3,visiblePages:15,page:t,centerAlign:!1,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected current-page-button">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}} move-button"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-first tui-{{type}} disabled-move-button"><span class="tui-ico-{{type}}"></span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip more-button">{{type}}</a>'}};(pG=new(a(pH))(m,g)).on("afterMove",t=>{let n=t.page,s=(n-1)*3,a=s+3,o=r.slice(s,a);e(n,i),0===o.length&&n>1&&(pG.movePageTo(n-1),e(n-1,i));let l=Math.ceil(r.length/3);p(l)})}(1,p$);var pX=!1;if("undefined"!=typeof window){var pK={get passive(){pX=!0;return}};window.addEventListener("testPassive",null,pK),window.removeEventListener("testPassive",null,pK)}var pQ="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),pY=[],pJ=!1,pZ=-1,p0=void 0,p1=void 0,p2=void 0,p5=function(e){return pY.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},p6=function(e){var t=e||window.event;return!!p5(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},p3=function(e){if(void 0===p2){var t=!!e&&!0===e.reserveScrollBarGap,i=window.innerWidth-document.documentElement.clientWidth;if(t&&i>0){var n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);p2=document.body.style.paddingRight,document.body.style.paddingRight=n+i+"px"}}void 0===p0&&(p0=document.body.style.overflow,document.body.style.overflow="hidden")},p9=function(){void 0!==p2&&(document.body.style.paddingRight=p2,p2=void 0),void 0!==p0&&(document.body.style.overflow=p0,p0=void 0)},p4=function(){if(void 0!==p1){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=p1.position,document.body.style.top=p1.top,document.body.style.left=p1.left,window.scrollTo(t,e),p1=void 0}},p8=function(e,t){var i=e.targetTouches[0].clientY-pZ;return!p5(e.target)&&(t&&0===t.scrollTop&&i>0?p6(e):t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&i<0?p6(e):(e.stopPropagation(),!0))};const p7=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}pY.some(function(t){return t.targetElement===e})||(pY=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}(pY),[{targetElement:e,options:t||{}}]),pQ?window.requestAnimationFrame(function(){if(void 0===p1){p1={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,i=e.scrollX,n=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-i,setTimeout(function(){return window.requestAnimationFrame(function(){var e=n-window.innerHeight;e&&t>=n&&(document.body.style.top=-(t+e))})},300)}}):p3(t),!pQ||(e.ontouchstart=function(e){1===e.targetTouches.length&&(pZ=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&p8(t,e)},pJ||(document.addEventListener("touchmove",p6,pX?{passive:!1}:void 0),pJ=!0)))},me=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}pY=pY.filter(function(t){return t.targetElement!==e}),pQ&&(e.ontouchstart=null,e.ontouchmove=null,pJ&&0===pY.length&&(document.removeEventListener("touchmove",p6,pX?{passive:!1}:void 0),pJ=!1)),pQ?p4():p9()},mt=document.querySelector(".menu-container"),mi=document.querySelector(".button-menu"),mn=document.querySelector(".button-log"),mr=document.querySelector(".button-user"),ms=document.querySelector(".icon-user-login"),ma=document.querySelector(".user-login-wrapper");document.querySelector(".greeting"),document.querySelector(".header");const mo=document.querySelector(".log-in-btns-wrepper");mi.addEventListener("click",function(){if(mi.classList.toggle("active"),mt.classList.toggle("is-open"),mt.classList.contains("is-open")){p7(document.body),mr.classList.remove("flex"),document.documentElement.clientWidth>=768&&mo.classList.add("flex"),mn.classList.contains("none")&&(mr.classList.add("flex"),ma.classList.add("flex")),"flex"===mn.style.display&&(mr.classList.remove("flex"),mr.classList.remove("flex-2"),ma.classList.remove("flex"));return}me(document.body),document.documentElement.clientWidth>=768&&mo.classList.remove("flex"),mr.classList.add("flex-2"),ms.classList.add("flex-2"),mn.classList.add("button-log-2"),mr.classList.remove("flex"),"flex"===mn.style.display&&(mr.classList.remove("flex"),mr.classList.remove("flex-2"),ma.classList.remove("flex"))}),document.addEventListener("DOMContentLoaded",function(){let e=window.location.pathname;"/project_team_6_js/"===e&&(e="/project_team_6_js/index.html");let t=document.querySelectorAll(".nav-item-li");t.forEach(function(t){let i=t.querySelector("a"),n=i.getAttribute("href");e===n?t.classList.add("active"):t.classList.remove("active")})}),document.addEventListener("DOMContentLoaded",function(){let e=window.location.pathname;"/project_team_6_js/"===e&&(e="/project_team_6_js/index.html");let t=document.querySelectorAll(".nav-item-mobile");t.forEach(function(t){let i=t.querySelector("a"),n=i.getAttribute("href");e===n?t.classList.add("active"):t.classList.remove("active")})});
//# sourceMappingURL=index.e5639288.js.map
